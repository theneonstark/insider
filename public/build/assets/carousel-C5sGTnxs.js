import{j as C,r as L}from"./app-CfO8-n_1.js";import{C as le,a as fe,b as de,d as me,e as pe,g as ge,B as dt,c as ht}from"./index-CaGW5K1q.js";import{C as he}from"./select-D5xm67Ur.js";import{D as xe,a as ye,b as Se,c as be,e as Ce}from"./ProfileViewModal-J7DCeJGS.js";import{L as ve}from"./label-CQgC5BRu.js";import{E as Ne,l as Ee,u as we,a as je,C as Kt}from"./react-stripe.esm-CYrPeCun.js";import{z as Lt}from"./apis-C0X6QIXL.js";import{c as It}from"./createLucideIcon-DybQjqWg.js";import{A as Le}from"./arrow-left-DewdKN5S.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Te=It("arrow-right",Pe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],De=It("credit-card",Ie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ae=It("lock",ke),Dn=({title:t,price:e,features:n=[],highlighted:s=!1,onJoin:i})=>C.jsxs(le,{className:`animate-fade-in hover-lift relative transition-all ${s?"border-2 border-primary shadow-lg":""}`,children:[s&&C.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:C.jsx("span",{className:"bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-semibold",children:"MOST POPULAR"})}),C.jsxs(fe,{className:"pt-8",children:[C.jsx(de,{className:"text-2xl text-primary",children:t}),C.jsx(me,{className:"text-3xl font-bold text-foreground mt-2",children:e})]}),C.jsx(pe,{children:C.jsxs("ul",{className:"space-y-3",children:[(Array.isArray(n)?n:[]).map((o,r)=>C.jsxs("li",{className:"flex items-start gap-2",children:[C.jsx(he,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),C.jsx("span",{className:"text-sm",children:o})]},r)),(!n||n.length===0)&&C.jsx("li",{className:"text-sm text-muted-foreground italic",children:"No features listed"})]})}),C.jsx(ge,{children:C.jsxs(dt,{onClick:i,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground font-medium",children:["Join ",t]})})]}),Oe=Ee("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),Me=({tier:t,onClose:e})=>{const n=we(),s=je(),[i,o]=L.useState(!1),[r,u]=L.useState(null),[c,a]=L.useState(""),[h,d]=L.useState(!1);L.useEffect(()=>{if(!c&&t?.price){const y=Math.round(parseFloat(t.price.replace(/[^0-9.-]+/g,""))*100);fetch("/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({amount:y,plan_title:t.title,tier_id:t.id})}).then(l=>l.json()).then(l=>{l.clientSecret?a(l.clientSecret):u("Invalid response from server")}).catch(()=>{u("Network error"),Lt.error("Failed to initialize payment. Try again.")})}},[t,c]);const m=async y=>{if(y.preventDefault(),!n||!s||!c||!h)return;o(!0),u(null);const{error:l,paymentIntent:p}=await n.confirmCardPayment(c,{payment_method:{card:s.getElement(Kt)}});l?(u(l.message),Lt.error(l.message||"Payment failed")):(Lt.success(`Subscribed to ${t.title} for ${t.price}! ðŸŽ‰`),e()),o(!1)};return C.jsxs("form",{onSubmit:m,className:"space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(ve,{children:"Card Details"}),C.jsx("div",{className:"p-3 border rounded-md bg-white",children:C.jsx(Kt,{onChange:y=>{d(y.complete),u(y.error?.message||null)},options:{style:{base:{fontSize:"16px",color:"#1f2937","::placeholder":{color:"#9ca3af"}}}}})})]}),r&&C.jsx("p",{className:"text-sm text-red-600",children:r}),C.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 p-3 rounded-md",children:[C.jsx(Ae,{className:"w-4 h-4"}),C.jsx("span",{children:"Your payment information is secure and encrypted"})]}),C.jsxs("div",{className:"flex gap-3 pt-4",children:[C.jsx(dt,{type:"button",variant:"outline",onClick:e,disabled:i,className:"flex-1",children:"Cancel"}),C.jsx(dt,{type:"submit",disabled:i||!n||!s||!c||!h,className:"flex-1",children:i?"Processing...":`Pay ${t.price}`})]})]})},kn=({isOpen:t,onClose:e,tier:n})=>n?C.jsx(C.Fragment,{children:C.jsx(xe,{open:t,onOpenChange:e,children:C.jsxs(ye,{className:"sm:max-w-md",children:[C.jsxs(Se,{children:[C.jsxs(be,{className:"flex items-center gap-2",children:[C.jsx(De,{className:"w-5 h-5 text-primary"}),"Complete Your Payment"]}),C.jsxs(Ce,{children:["Subscribe to ",n.title," for ",n.price]})]}),C.jsx(Ne,{stripe:Oe,children:C.jsx(Me,{tier:n,onClose:e})})]})})}):null;function Fe(t){return Object.prototype.toString.call(t)==="[object Object]"}function qt(t){return Fe(t)||Array.isArray(t)}function ze(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Dt(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==o?!1:n.every(r=>{const u=t[r],c=e[r];return typeof u=="function"?`${u}`==`${c}`:!qt(u)||!qt(c)?u===c:Dt(u,c)})}function Ut(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Be(t,e){if(t.length!==e.length)return!1;const n=Ut(t),s=Ut(e);return n.every((i,o)=>{const r=s[o];return Dt(i,r)})}function kt(t){return typeof t=="number"}function Pt(t){return typeof t=="string"}function bt(t){return typeof t=="boolean"}function Yt(t){return Object.prototype.toString.call(t)==="[object Object]"}function k(t){return Math.abs(t)}function At(t){return Math.sign(t)}function ft(t,e){return k(t-e)}function Re(t,e){if(t===0||e===0||k(t)<=k(e))return 0;const n=ft(k(t),k(e));return k(n/t)}function Ve(t){return Math.round(t*100)/100}function mt(t){return pt(t).map(Number)}function V(t){return t[xt(t)]}function xt(t){return Math.max(0,t.length-1)}function Ot(t,e){return e===xt(t)}function Jt(t,e=0){return Array.from(Array(t),(n,s)=>e+s)}function pt(t){return Object.keys(t)}function Qt(t,e){return[t,e].reduce((n,s)=>(pt(s).forEach(i=>{const o=n[i],r=s[i],u=Yt(o)&&Yt(r);n[i]=u?Qt(o,r):r}),n),{})}function Tt(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Ge(t,e){const n={start:s,center:i,end:o};function s(){return 0}function i(c){return o(c)/2}function o(c){return e-c}function r(c,a){return Pt(t)?n[t](c):t(e,c,a)}return{measure:r}}function gt(){let t=[];function e(i,o,r,u={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(o,r,u),c=()=>i.removeEventListener(o,r,u);else{const a=i;a.addListener(r),c=()=>a.removeListener(r)}return t.push(c),s}function n(){t=t.filter(i=>i())}const s={add:e,clear:n};return s}function He(t,e,n,s){const i=gt(),o=1e3/60;let r=null,u=0,c=0;function a(){i.add(t,"visibilitychange",()=>{t.hidden&&l()})}function h(){y(),i.clear()}function d(x){if(!c)return;r||(r=x,n(),n());const f=x-r;for(r=x,u+=f;u>=o;)n(),u-=o;const g=u/o;s(g),c&&(c=e.requestAnimationFrame(d))}function m(){c||(c=e.requestAnimationFrame(d))}function y(){e.cancelAnimationFrame(c),r=null,u=0,c=0}function l(){r=null,u=0}return{init:a,destroy:h,start:m,stop:y,update:n,render:s}}function $e(t,e){const n=e==="rtl",s=t==="y",i=s?"y":"x",o=s?"x":"y",r=!s&&n?-1:1,u=h(),c=d();function a(l){const{height:p,width:x}=l;return s?p:x}function h(){return s?"top":n?"right":"left"}function d(){return s?"bottom":n?"left":"right"}function m(l){return l*r}return{scroll:i,cross:o,startEdge:u,endEdge:c,measureSize:a,direction:m}}function nt(t=0,e=0){const n=k(t-e);function s(a){return a<t}function i(a){return a>e}function o(a){return s(a)||i(a)}function r(a){return o(a)?s(a)?t:e:a}function u(a){return n?a-n*Math.ceil((a-e)/n):a}return{length:n,max:e,min:t,constrain:r,reachedAny:o,reachedMax:i,reachedMin:s,removeOffset:u}}function Xt(t,e,n){const{constrain:s}=nt(0,t),i=t+1;let o=r(e);function r(m){return n?k((i+m)%i):s(m)}function u(){return o}function c(m){return o=r(m),d}function a(m){return h().set(u()+m)}function h(){return Xt(t,u(),n)}const d={get:u,set:c,add:a,clone:h};return d}function _e(t,e,n,s,i,o,r,u,c,a,h,d,m,y,l,p,x,f,g){const{cross:b,direction:E}=t,I=["INPUT","SELECT","TEXTAREA"],w={passive:!1},v=gt(),N=gt(),j=nt(50,225).constrain(y.measure(20)),A={mouse:300,touch:400},P={mouse:500,touch:600},z=l?43:25;let G=!1,H=0,$=0,W=!1,X=!1,q=!1,U=!1;function it(S){if(!g)return;function T(F){(bt(g)||g(S,F))&&at(F)}const O=e;v.add(O,"dragstart",F=>F.preventDefault(),w).add(O,"touchmove",()=>{},w).add(O,"touchend",()=>{}).add(O,"touchstart",T).add(O,"mousedown",T).add(O,"touchcancel",M).add(O,"contextmenu",M).add(O,"click",J,!0)}function _(){v.clear(),N.clear()}function rt(){const S=U?n:e;N.add(S,"touchmove",B,w).add(S,"touchend",M).add(S,"mousemove",B,w).add(S,"mouseup",M)}function st(S){const T=S.nodeName||"";return I.includes(T)}function Y(){return(l?P:A)[U?"mouse":"touch"]}function ct(S,T){const O=d.add(At(S)*-1),F=h.byDistance(S,!l).distance;return l||k(S)<j?F:x&&T?F*.5:h.byIndex(O.get(),0).distance}function at(S){const T=Tt(S,s);U=T,q=l&&T&&!S.buttons&&G,G=ft(i.get(),r.get())>=2,!(T&&S.button!==0)&&(st(S.target)||(W=!0,o.pointerDown(S),a.useFriction(0).useDuration(0),i.set(r),rt(),H=o.readPoint(S),$=o.readPoint(S,b),m.emit("pointerDown")))}function B(S){if(!Tt(S,s)&&S.touches.length>=2)return M(S);const O=o.readPoint(S),F=o.readPoint(S,b),K=ft(O,H),Q=ft(F,$);if(!X&&!U&&(!S.cancelable||(X=K>Q,!X)))return M(S);const tt=o.pointerMove(S);K>p&&(q=!0),a.useFriction(.3).useDuration(.75),u.start(),i.add(E(tt)),S.preventDefault()}function M(S){const O=h.byDistance(0,!1).index!==d.get(),F=o.pointerUp(S)*Y(),K=ct(E(F),O),Q=Re(F,K),tt=z-10*Q,Z=f+Q/50;X=!1,W=!1,N.clear(),a.useDuration(tt).useFriction(Z),c.distance(K,!l),U=!1,m.emit("pointerUp")}function J(S){q&&(S.stopPropagation(),S.preventDefault(),q=!1)}function R(){return W}return{init:it,destroy:_,pointerDown:R}}function Ke(t,e){let s,i;function o(d){return d.timeStamp}function r(d,m){const l=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(Tt(d,e)?d:d.touches[0])[l]}function u(d){return s=d,i=d,r(d)}function c(d){const m=r(d)-r(i),y=o(d)-o(s)>170;return i=d,y&&(s=d),m}function a(d){if(!s||!i)return 0;const m=r(i)-r(s),y=o(d)-o(s),l=o(d)-o(i)>170,p=m/y;return y&&!l&&k(p)>.1?p:0}return{pointerDown:u,pointerMove:c,pointerUp:a,readPoint:r}}function qe(){function t(n){const{offsetTop:s,offsetLeft:i,offsetWidth:o,offsetHeight:r}=n;return{top:s,right:i+o,bottom:s+r,left:i,width:o,height:r}}return{measure:t}}function Ue(t){function e(s){return t*(s/100)}return{measure:e}}function Ye(t,e,n,s,i,o,r){const u=[t].concat(s);let c,a,h=[],d=!1;function m(x){return i.measureSize(r.measure(x))}function y(x){if(!o)return;a=m(t),h=s.map(m);function f(g){for(const b of g){if(d)return;const E=b.target===t,I=s.indexOf(b.target),w=E?a:h[I],v=m(E?t:s[I]);if(k(v-w)>=.5){x.reInit(),e.emit("resize");break}}}c=new ResizeObserver(g=>{(bt(o)||o(x,g))&&f(g)}),n.requestAnimationFrame(()=>{u.forEach(g=>c.observe(g))})}function l(){d=!0,c&&c.disconnect()}return{init:y,destroy:l}}function Je(t,e,n,s,i,o){let r=0,u=0,c=i,a=o,h=t.get(),d=0;function m(){const w=s.get()-t.get(),v=!c;let N=0;return v?(r=0,n.set(s),t.set(s),N=w):(n.set(t),r+=w/c,r*=a,h+=r,t.add(r),N=h-d),u=At(N),d=h,I}function y(){const w=s.get()-e.get();return k(w)<.001}function l(){return c}function p(){return u}function x(){return r}function f(){return b(i)}function g(){return E(o)}function b(w){return c=w,I}function E(w){return a=w,I}const I={direction:p,duration:l,velocity:x,seek:m,settled:y,useBaseFriction:g,useBaseDuration:f,useFriction:E,useDuration:b};return I}function Qe(t,e,n,s,i){const o=i.measure(10),r=i.measure(50),u=nt(.1,.99);let c=!1;function a(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function h(y){if(!a())return;const l=t.reachedMin(e.get())?"min":"max",p=k(t[l]-e.get()),x=n.get()-e.get(),f=u.constrain(p/r);n.subtract(x*f),!y&&k(x)<o&&(n.set(t.constrain(n.get())),s.useDuration(25).useBaseFriction())}function d(y){c=!y}return{shouldConstrain:a,constrain:h,toggleActive:d}}function Xe(t,e,n,s,i){const o=nt(-e+t,0),r=d(),u=h(),c=m();function a(l,p){return ft(l,p)<=1}function h(){const l=r[0],p=V(r),x=r.lastIndexOf(l),f=r.indexOf(p)+1;return nt(x,f)}function d(){return n.map((l,p)=>{const{min:x,max:f}=o,g=o.constrain(l),b=!p,E=Ot(n,p);return b?f:E||a(x,g)?x:a(f,g)?f:g}).map(l=>parseFloat(l.toFixed(3)))}function m(){if(e<=t+i)return[o.max];if(s==="keepSnaps")return r;const{min:l,max:p}=u;return r.slice(l,p)}return{snapsContained:c,scrollContainLimit:u}}function Ze(t,e,n){const s=e[0],i=n?s-t:V(e);return{limit:nt(i,s)}}function We(t,e,n,s){const o=e.min+.1,r=e.max+.1,{reachedMin:u,reachedMax:c}=nt(o,r);function a(m){return m===1?c(n.get()):m===-1?u(n.get()):!1}function h(m){if(!a(m))return;const y=t*(m*-1);s.forEach(l=>l.add(y))}return{loop:h}}function tn(t){const{max:e,length:n}=t;function s(o){const r=o-e;return n?r/-n:0}return{get:s}}function en(t,e,n,s,i){const{startEdge:o,endEdge:r}=t,{groupSlides:u}=i,c=d().map(e.measure),a=m(),h=y();function d(){return u(s).map(p=>V(p)[r]-p[0][o]).map(k)}function m(){return s.map(p=>n[o]-p[o]).map(p=>-k(p))}function y(){return u(a).map(p=>p[0]).map((p,x)=>p+c[x])}return{snaps:a,snapsAligned:h}}function nn(t,e,n,s,i,o){const{groupSlides:r}=i,{min:u,max:c}=s,a=h();function h(){const m=r(o),y=!t||e==="keepSnaps";return n.length===1?[o]:y?m:m.slice(u,c).map((l,p,x)=>{const f=!p,g=Ot(x,p);if(f){const b=V(x[0])+1;return Jt(b)}if(g){const b=xt(o)-V(x)[0]+1;return Jt(b,V(x)[0])}return l})}return{slideRegistry:a}}function rn(t,e,n,s,i){const{reachedAny:o,removeOffset:r,constrain:u}=s;function c(l){return l.concat().sort((p,x)=>k(p)-k(x))[0]}function a(l){const p=t?r(l):u(l),x=e.map((g,b)=>({diff:h(g-p,0),index:b})).sort((g,b)=>k(g.diff)-k(b.diff)),{index:f}=x[0];return{index:f,distance:p}}function h(l,p){const x=[l,l+n,l-n];if(!t)return l;if(!p)return c(x);const f=x.filter(g=>At(g)===p);return f.length?c(f):V(x)-n}function d(l,p){const x=e[l]-i.get(),f=h(x,p);return{index:l,distance:f}}function m(l,p){const x=i.get()+l,{index:f,distance:g}=a(x),b=!t&&o(x);if(!p||b)return{index:f,distance:l};const E=e[f]-g,I=l+h(E,0);return{index:f,distance:I}}return{byDistance:m,byIndex:d,shortcut:h}}function sn(t,e,n,s,i,o,r){function u(d){const m=d.distance,y=d.index!==e.get();o.add(m),m&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(n.set(e.get()),e.set(d.index),r.emit("select"))}function c(d,m){const y=i.byDistance(d,m);u(y)}function a(d,m){const y=e.clone().set(d),l=i.byIndex(y.get(),m);u(l)}return{distance:c,index:a}}function on(t,e,n,s,i,o,r,u){const c={passive:!0,capture:!0};let a=0;function h(y){if(!u)return;function l(p){if(new Date().getTime()-a>10)return;r.emit("slideFocusStart"),t.scrollLeft=0;const g=n.findIndex(b=>b.includes(p));kt(g)&&(i.useDuration(0),s.index(g,0),r.emit("slideFocus"))}o.add(document,"keydown",d,!1),e.forEach((p,x)=>{o.add(p,"focus",f=>{(bt(u)||u(y,f))&&l(x)},c)})}function d(y){y.code==="Tab"&&(a=new Date().getTime())}return{init:h}}function lt(t){let e=t;function n(){return e}function s(c){e=r(c)}function i(c){e+=r(c)}function o(c){e-=r(c)}function r(c){return kt(c)?c:c.get()}return{get:n,set:s,add:i,subtract:o}}function Zt(t,e){const n=t.scroll==="x"?r:u,s=e.style;let i=null,o=!1;function r(m){return`translate3d(${m}px,0px,0px)`}function u(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(o)return;const y=Ve(t.direction(m));y!==i&&(s.transform=n(y),i=y)}function a(m){o=!m}function h(){o||(s.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:h,to:c,toggleActive:a}}function cn(t,e,n,s,i,o,r,u,c){const h=mt(i),d=mt(i).reverse(),m=f().concat(g());function y(v,N){return v.reduce((j,A)=>j-i[A],N)}function l(v,N){return v.reduce((j,A)=>y(j,N)>0?j.concat([A]):j,[])}function p(v){return o.map((N,j)=>({start:N-s[j]+.5+v,end:N+e-.5+v}))}function x(v,N,j){const A=p(N);return v.map(P=>{const z=j?0:-n,G=j?n:0,H=j?"end":"start",$=A[P][H];return{index:P,loopPoint:$,slideLocation:lt(-1),translate:Zt(t,c[P]),target:()=>u.get()>$?z:G}})}function f(){const v=r[0],N=l(d,v);return x(N,n,!1)}function g(){const v=e-r[0]-1,N=l(h,v);return x(N,-n,!0)}function b(){return m.every(({index:v})=>{const N=h.filter(j=>j!==v);return y(N,e)<=.1})}function E(){m.forEach(v=>{const{target:N,translate:j,slideLocation:A}=v,P=N();P!==A.get()&&(j.to(P),A.set(P))})}function I(){m.forEach(v=>v.translate.clear())}return{canLoop:b,clear:I,loop:E,loopPoints:m}}function an(t,e,n){let s,i=!1;function o(c){if(!n)return;function a(h){for(const d of h)if(d.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}s=new MutationObserver(h=>{i||(bt(n)||n(c,h))&&a(h)}),s.observe(t,{childList:!0})}function r(){s&&s.disconnect(),i=!0}return{init:o,destroy:r}}function un(t,e,n,s){const i={};let o=null,r=null,u,c=!1;function a(){u=new IntersectionObserver(l=>{c||(l.forEach(p=>{const x=e.indexOf(p.target);i[x]=p}),o=null,r=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:s}),e.forEach(l=>u.observe(l))}function h(){u&&u.disconnect(),c=!0}function d(l){return pt(i).reduce((p,x)=>{const f=parseInt(x),{isIntersecting:g}=i[f];return(l&&g||!l&&!g)&&p.push(f),p},[])}function m(l=!0){if(l&&o)return o;if(!l&&r)return r;const p=d(l);return l&&(o=p),l||(r=p),p}return{init:a,destroy:h,get:m}}function ln(t,e,n,s,i,o){const{measureSize:r,startEdge:u,endEdge:c}=t,a=n[0]&&i,h=l(),d=p(),m=n.map(r),y=x();function l(){if(!a)return 0;const g=n[0];return k(e[u]-g[u])}function p(){if(!a)return 0;const g=o.getComputedStyle(V(s));return parseFloat(g.getPropertyValue(`margin-${c}`))}function x(){return n.map((g,b,E)=>{const I=!b,w=Ot(E,b);return I?m[b]+h:w?m[b]+d:E[b+1][u]-g[u]}).map(k)}return{slideSizes:m,slideSizesWithGaps:y,startGap:h,endGap:d}}function fn(t,e,n,s,i,o,r,u,c){const{startEdge:a,endEdge:h,direction:d}=t,m=kt(n);function y(f,g){return mt(f).filter(b=>b%g===0).map(b=>f.slice(b,b+g))}function l(f){return f.length?mt(f).reduce((g,b,E)=>{const I=V(g)||0,w=I===0,v=b===xt(f),N=i[a]-o[I][a],j=i[a]-o[b][h],A=!s&&w?d(r):0,P=!s&&v?d(u):0,z=k(j-P-(N+A));return E&&z>e+c&&g.push(b),v&&g.push(f.length),g},[]).map((g,b,E)=>{const I=Math.max(E[b-1]||0);return f.slice(I,g)}):[]}function p(f){return m?y(f,n):l(f)}return{groupSlides:p}}function dn(t,e,n,s,i,o,r){const{align:u,axis:c,direction:a,startIndex:h,loop:d,duration:m,dragFree:y,dragThreshold:l,inViewThreshold:p,slidesToScroll:x,skipSnaps:f,containScroll:g,watchResize:b,watchSlides:E,watchDrag:I,watchFocus:w}=o,v=2,N=qe(),j=N.measure(e),A=n.map(N.measure),P=$e(c,a),z=P.measureSize(j),G=Ue(z),H=Ge(u,z),$=!d&&!!g,W=d||!!g,{slideSizes:X,slideSizesWithGaps:q,startGap:U,endGap:it}=ln(P,j,A,n,W,i),_=fn(P,z,x,d,j,A,U,it,v),{snaps:rt,snapsAligned:st}=en(P,H,j,A,_),Y=-V(rt)+V(q),{snapsContained:ct,scrollContainLimit:at}=Xe(z,Y,st,g,v),B=$?ct:st,{limit:M}=Ze(Y,B,d),J=Xt(xt(B),h,d),R=J.clone(),D=mt(n),S=({dragHandler:ot,scrollBody:wt,scrollBounds:jt,options:{loop:yt}})=>{yt||jt.constrain(ot.pointerDown()),wt.seek()},T=({scrollBody:ot,translate:wt,location:jt,offsetLocation:yt,previousLocation:ne,scrollLooper:re,slideLooper:se,dragHandler:oe,animation:ie,eventHandler:Rt,scrollBounds:ce,options:{loop:Vt}},Gt)=>{const Ht=ot.settled(),ae=!ce.shouldConstrain(),$t=Vt?Ht:Ht&&ae,_t=$t&&!oe.pointerDown();_t&&ie.stop();const ue=jt.get()*Gt+ne.get()*(1-Gt);yt.set(ue),Vt&&(re.loop(ot.direction()),se.loop()),wt.to(yt.get()),_t&&Rt.emit("settle"),$t||Rt.emit("scroll")},O=He(s,i,()=>S(Et),ot=>T(Et,ot)),F=.68,K=B[J.get()],Q=lt(K),tt=lt(K),Z=lt(K),et=lt(K),ut=Je(Q,Z,tt,et,m,F),vt=rn(d,B,Y,M,et),Nt=sn(O,J,R,ut,vt,et,r),Ft=tn(M),zt=gt(),te=un(e,n,r,p),{slideRegistry:Bt}=nn($,g,B,at,_,D),ee=on(t,n,Bt,Nt,ut,zt,r,w),Et={ownerDocument:s,ownerWindow:i,eventHandler:r,containerRect:j,slideRects:A,animation:O,axis:P,dragHandler:_e(P,t,s,i,et,Ke(P,i),Q,O,Nt,ut,vt,J,r,G,y,l,f,F,I),eventStore:zt,percentOfView:G,index:J,indexPrevious:R,limit:M,location:Q,offsetLocation:Z,previousLocation:tt,options:o,resizeHandler:Ye(e,r,i,n,P,b,N),scrollBody:ut,scrollBounds:Qe(M,Z,et,ut,G),scrollLooper:We(Y,M,Z,[Q,Z,tt,et]),scrollProgress:Ft,scrollSnapList:B.map(Ft.get),scrollSnaps:B,scrollTarget:vt,scrollTo:Nt,slideLooper:cn(P,z,Y,X,q,rt,B,Z,n),slideFocus:ee,slidesHandler:an(e,r,E),slidesInView:te,slideIndexes:D,slideRegistry:Bt,slidesToScroll:_,target:et,translate:Zt(P,e)};return Et}function mn(){let t={},e;function n(a){e=a}function s(a){return t[a]||[]}function i(a){return s(a).forEach(h=>h(e,a)),c}function o(a,h){return t[a]=s(a).concat([h]),c}function r(a,h){return t[a]=s(a).filter(d=>d!==h),c}function u(){t={}}const c={init:n,emit:i,off:r,on:o,clear:u};return c}const pn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function gn(t){function e(o,r){return Qt(o,r||{})}function n(o){const r=o.breakpoints||{},u=pt(r).filter(c=>t.matchMedia(c).matches).map(c=>r[c]).reduce((c,a)=>e(c,a),{});return e(o,u)}function s(o){return o.map(r=>pt(r.breakpoints||{})).reduce((r,u)=>r.concat(u),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:s}}function hn(t){let e=[];function n(o,r){return e=r.filter(({options:u})=>t.optionsAtMedia(u).active!==!1),e.forEach(u=>u.init(o,t)),r.reduce((u,c)=>Object.assign(u,{[c.name]:c}),{})}function s(){e=e.filter(o=>o.destroy())}return{init:n,destroy:s}}function St(t,e,n){const s=t.ownerDocument,i=s.defaultView,o=gn(i),r=hn(o),u=gt(),c=mn(),{mergeOptions:a,optionsAtMedia:h,optionsMediaQueries:d}=o,{on:m,off:y,emit:l}=c,p=P;let x=!1,f,g=a(pn,St.globalOptions),b=a(g),E=[],I,w,v;function N(){const{container:D,slides:S}=b;w=(Pt(D)?t.querySelector(D):D)||t.children[0];const O=Pt(S)?w.querySelectorAll(S):S;v=[].slice.call(O||w.children)}function j(D){const S=dn(t,w,v,s,i,D,c);if(D.loop&&!S.slideLooper.canLoop()){const T=Object.assign({},D,{loop:!1});return j(T)}return S}function A(D,S){x||(g=a(g,D),b=h(g),E=S||E,N(),f=j(b),d([g,...E.map(({options:T})=>T)]).forEach(T=>u.add(T,"change",P)),b.active&&(f.translate.to(f.location.get()),f.animation.init(),f.slidesInView.init(),f.slideFocus.init(R),f.eventHandler.init(R),f.resizeHandler.init(R),f.slidesHandler.init(R),f.options.loop&&f.slideLooper.loop(),w.offsetParent&&v.length&&f.dragHandler.init(R),I=r.init(R,E)))}function P(D,S){const T=_();z(),A(a({startIndex:T},D),S),c.emit("reInit")}function z(){f.dragHandler.destroy(),f.eventStore.clear(),f.translate.clear(),f.slideLooper.clear(),f.resizeHandler.destroy(),f.slidesHandler.destroy(),f.slidesInView.destroy(),f.animation.destroy(),r.destroy(),u.clear()}function G(){x||(x=!0,u.clear(),z(),c.emit("destroy"),c.clear())}function H(D,S,T){!b.active||x||(f.scrollBody.useBaseFriction().useDuration(S===!0?0:b.duration),f.scrollTo.index(D,T||0))}function $(D){const S=f.index.add(1).get();H(S,D,-1)}function W(D){const S=f.index.add(-1).get();H(S,D,1)}function X(){return f.index.add(1).get()!==_()}function q(){return f.index.add(-1).get()!==_()}function U(){return f.scrollSnapList}function it(){return f.scrollProgress.get(f.offsetLocation.get())}function _(){return f.index.get()}function rt(){return f.indexPrevious.get()}function st(){return f.slidesInView.get()}function Y(){return f.slidesInView.get(!1)}function ct(){return I}function at(){return f}function B(){return t}function M(){return w}function J(){return v}const R={canScrollNext:X,canScrollPrev:q,containerNode:M,internalEngine:at,destroy:G,off:y,on:m,emit:l,plugins:ct,previousScrollSnap:rt,reInit:p,rootNode:B,scrollNext:$,scrollPrev:W,scrollProgress:it,scrollSnapList:U,scrollTo:H,selectedScrollSnap:_,slideNodes:J,slidesInView:st,slidesNotInView:Y};return A(e,n),setTimeout(()=>c.emit("init"),0),R}St.globalOptions=void 0;function Mt(t={},e=[]){const n=L.useRef(t),s=L.useRef(e),[i,o]=L.useState(),[r,u]=L.useState(),c=L.useCallback(()=>{i&&i.reInit(n.current,s.current)},[i]);return L.useEffect(()=>{Dt(n.current,t)||(n.current=t,c())},[t,c]),L.useEffect(()=>{Be(s.current,e)||(s.current=e,c())},[e,c]),L.useEffect(()=>{if(ze()&&r){St.globalOptions=Mt.globalOptions;const a=St(r,n.current,s.current);return o(a),()=>a.destroy()}else o(void 0)},[r,o]),[u,i]}Mt.globalOptions=void 0;const Wt=L.createContext(null);function Ct(){const t=L.useContext(Wt);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const xn=L.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:s,className:i,children:o,...r},u)=>{const[c,a]=Mt({...e,axis:t==="horizontal"?"x":"y"},s),[h,d]=L.useState(!1),[m,y]=L.useState(!1),l=L.useCallback(g=>{g&&(d(g.canScrollPrev()),y(g.canScrollNext()))},[]),p=L.useCallback(()=>{a?.scrollPrev()},[a]),x=L.useCallback(()=>{a?.scrollNext()},[a]),f=L.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),p()):g.key==="ArrowRight"&&(g.preventDefault(),x())},[p,x]);return L.useEffect(()=>{!a||!n||n(a)},[a,n]),L.useEffect(()=>{if(a)return l(a),a.on("reInit",l),a.on("select",l),()=>{a?.off("select",l)}},[a,l]),C.jsx(Wt.Provider,{value:{carouselRef:c,api:a,opts:e,orientation:t||(e?.axis==="y"?"vertical":"horizontal"),scrollPrev:p,scrollNext:x,canScrollPrev:h,canScrollNext:m},children:C.jsx("div",{ref:u,onKeyDownCapture:f,className:ht("relative",i),role:"region","aria-roledescription":"carousel",...r,children:o})})});xn.displayName="Carousel";const yn=L.forwardRef(({className:t,...e},n)=>{const{carouselRef:s,orientation:i}=Ct();return C.jsx("div",{ref:s,className:"overflow-hidden",children:C.jsx("div",{ref:n,className:ht("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});yn.displayName="CarouselContent";const Sn=L.forwardRef(({className:t,...e},n)=>{const{orientation:s}=Ct();return C.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ht("min-w-0 shrink-0 grow-0 basis-full",s==="horizontal"?"pl-4":"pt-4",t),...e})});Sn.displayName="CarouselItem";const bn=L.forwardRef(({className:t,variant:e="outline",size:n="icon",...s},i)=>{const{orientation:o,scrollPrev:r,canScrollPrev:u}=Ct();return C.jsxs(dt,{ref:i,variant:e,size:n,className:ht("absolute h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!u,onClick:r,...s,children:[C.jsx(Le,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Previous slide"})]})});bn.displayName="CarouselPrevious";const Cn=L.forwardRef(({className:t,variant:e="outline",size:n="icon",...s},i)=>{const{orientation:o,scrollNext:r,canScrollNext:u}=Ct();return C.jsxs(dt,{ref:i,variant:e,size:n,className:ht("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!u,onClick:r,...s,children:[C.jsx(Te,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Next slide"})]})});Cn.displayName="CarouselNext";export{De as C,Dn as M,kn as P,xn as a,yn as b,Sn as c,bn as d,Cn as e};
