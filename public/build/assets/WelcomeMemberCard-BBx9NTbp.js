import{r as d,j as e,L as C}from"./app-6l1ACmF_.js";import{I,z as g,x as z}from"./apis-CpkpM_i9.js";import{S as N,a as w,b as y,c as S,d as b}from"./select-Bt_VuZ50.js";import{B as f,C as L,e as V,g as B}from"./index-DJDSUYVw.js";import{S as E}from"./ProfileViewModal-9YQzYTOP.js";import{S as F,B as k,E as T}from"./badge-DRRgGh4m.js";import{u as W}from"./use-toast-DXR0Miys.js";const G=({industries:a=[],regions:m=[],onSearch:t})=>{const[l,i]=d.useState(""),[r,c]=d.useState(""),[h,o]=d.useState(""),[u,x]=d.useState(!1),p=async()=>{const s={name:l.trim()||void 0,location:r||void 0,industry:h||void 0};if(!s.name&&!s.location&&!s.industry){g.error("Please enter at least one filter to search.");return}try{x(!0),t?.(s)}catch(v){console.error("Search failed:",v),g.error("Something went wrong while searching.")}finally{x(!1)}};return e.jsxs("div",{className:"bg-card p-6 rounded-2xl shadow-[var(--shadow-soft)] space-y-4",children:[e.jsx(I,{type:"text",placeholder:"Search by name",value:l,onChange:s=>i(s.target.value),className:"w-full"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(N,{value:r,onValueChange:c,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select Location"})}),e.jsx(S,{className:"bg-popover",children:m.length>0?m.map(s=>e.jsx(b,{value:s.regionName,children:s.regionName},s.regionId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No locations available"})})]}),e.jsxs(N,{value:h,onValueChange:o,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select Industry"})}),e.jsx(S,{className:"bg-popover",children:a.length>0?a.map(s=>e.jsx(b,{value:s.industryName,children:s.industryName},s.industryId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No industries available"})})]})]}),e.jsxs(f,{onClick:p,disabled:u,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),u?"Searching...":"Search"]})]})},H=({id:a,featured:m,name:t,industry:l,tier:i,region:r,image:c,views:h=0,onViewProfile:o,isFeatured:u})=>{const[x,p]=d.useState(h),{toast:s}=W(),v=async()=>{try{const n=await z(a);if(n.status){const j=Number(n.views);p(j),o&&o({id:a,name:t,industry:l,region:r,tier:i,image:c,views:j})}s({description:"+1 view",duration:2e3}),o&&o({id:a,name:t,industry:l,region:r,tier:i,image:c,views:Number(n.views)})}catch(n){console.error("Failed to increase view:",n),s({description:"Failed to increase view",variant:"destructive"})}};return e.jsxs(L,{className:"relative animate-fade-in hover-lift overflow-hidden",children:[(u||m)&&e.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white p-1 rounded-full shadow-md z-50",children:e.jsx(F,{size:16})}),e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:c,alt:t,className:"w-full h-full object-cover"})}),e.jsxs(V,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:t}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l?.industryName," ",r?.regionName&&`(${r?.regionName})`]})]}),e.jsx(k,{className:"p-1",children:i?.tier_name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsxs("span",{children:[x," views"]})]})]}),e.jsxs(B,{className:"p-4 pt-0 flex gap-2",children:[e.jsx(f,{variant:"outline",size:"sm",onClick:v,className:"flex-1",children:"View"}),e.jsx(C,{href:`/profile/${a}`,children:e.jsx(f,{size:"sm",className:"flex-1 bg-primary hover:bg-primary/90 cursor-not-allowed text-primary-foreground",children:"Profile"})})]})]})};export{G as S,H as W};
