import{r as m,j as e,L as C}from"./app-zbGiaHVp.js";import{I,z as v}from"./index-ljKeodP8.js";import{S as g,a as w,b as y,c as S,d as b}from"./select-61cmHhJI.js";import{B as f}from"./button-C_qHBv8k.js";import{c as L,C as V,e as k,f as z}from"./createLucideIcon-C8vDqRei.js";import{X as F,J as _}from"./apis-BpTz032j.js";import{S as B,B as E,E as P}from"./badge-B_iPKYpK.js";import{u as T}from"./use-toast-BoHmy4vV.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$=L("search",W),H=({industries:a=[],regions:h=[],onSearch:r})=>{const[c,t]=m.useState(""),[l,o]=m.useState(""),[n,d]=m.useState(""),[u,x]=m.useState(!1),j=async()=>{const s={name:c.trim()||void 0,location:l||void 0,industry:n||void 0};if(!s.name&&!s.location&&!s.industry){v.error("Please enter at least one filter to search.");return}try{x(!0),r?.(s)}catch(i){console.error("Search failed:",i),v.error("Something went wrong while searching.")}finally{x(!1)}},p=()=>{t(""),o(""),d(""),r?.({}),v.success("Filters cleared")};return e.jsxs("div",{className:"bg-card p-6 rounded-2xl shadow-[var(--shadow-soft)] space-y-4",children:[e.jsx(I,{type:"text",placeholder:"Search by name",value:c,onChange:s=>t(s.target.value),className:"w-full"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(g,{value:l,onValueChange:o,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select Location"})}),e.jsx(S,{className:"bg-popover",children:h.length>0?h.map(s=>e.jsx(b,{value:s.regionId,children:s.regionName},s.regionId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No locations available"})})]}),e.jsxs(g,{value:n,onValueChange:d,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select Industry"})}),e.jsx(S,{className:"bg-popover",children:a.length>0?a.map(s=>e.jsx(b,{value:s.industryId,children:s.industryName},s.industryId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No industries available"})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(f,{onClick:j,disabled:u,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),u?"Searching...":"Search"]}),e.jsxs(f,{variant:"outline",onClick:p,className:"w-full flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),"Clear"]})]})]})},K=({id:a,featured:h,name:r,industry:c,region:t,tier:l,image:o,views:n=0,onViewProfile:d,isFeatured:u})=>{const[x,j]=m.useState(Number(n)||0),{toast:p}=T(),s=async()=>{try{const i=await _(a),N=Number(i.data?.views||i.views||n||0);j(N),d&&d({id:a,name:r,industry:c,region:t,tier:l,image:o,views:N}),p({description:"+1 view",duration:2e3})}catch(i){console.error("Failed to increase view:",i),p({description:"Failed to increase view",variant:"destructive"})}};return e.jsxs(V,{className:"relative animate-fade-in hover-lift overflow-hidden",children:[(u||h)&&e.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white p-1 rounded-full shadow-md z-50",children:e.jsx(B,{size:16})}),e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:o,alt:r,className:"w-full h-full object-cover"})}),e.jsxs(k,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:r}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[c?.industryName," ",t?.regionName&&`(${t.regionName})`]})]}),e.jsx(E,{className:"p-1",children:l?.tier_name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsxs("span",{children:[x," views"]})]})]}),e.jsxs(z,{className:"p-4 pt-0 flex gap-2",children:[e.jsx(f,{variant:"outline",size:"sm",className:"flex-1",onClick:s,children:"View"}),l?.tier_name==="Shine Plus"&&e.jsx(C,{href:`/profile/${a}`,className:"flex-1",children:e.jsx(f,{size:"sm",className:"w-full bg-primary hover:bg-primary/90 text-white",children:"Profile"})})]})]})};export{H as S,K as W};
