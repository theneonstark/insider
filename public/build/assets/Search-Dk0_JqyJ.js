import{r,j as e}from"./app-WTYNdXlF.js";import{N as v,F as P}from"./Footer-CWguGJlY.js";import{S as D,W as F}from"./WelcomeMemberCard-C7NmQSXU.js";import"./createLucideIcon-DPiOS7Ty.js";import{D as V,q as g,z as i}from"./apis-BITN7OFC.js";import{P as E}from"./ProfileViewModal-D2-ZYnXi.js";import"./select-C76SqhFx.js";import"./badge-Dvatih-D.js";import"./use-toast-kEHjBa5z.js";const k=()=>{const[u,l]=r.useState([]),[m,p]=r.useState({industry:[],region:[]}),[c,S]=r.useState(!0),[j,f]=r.useState(!1),[y,x]=r.useState(!1),[a,h]=r.useState(null);r.useEffect(()=>{(async()=>{try{const t=await V();t.status===200&&t.data.status===!0&&p({industry:t.data.industry||[],region:t.data.region||[]});const o=await g({});if(o.status===200&&o.data.status){const d=(o.data.data||[]).filter(b=>b.role!=="admin");l(d)}}catch(t){console.error("Error loading data:",t),i.error("Failed to load users")}finally{S(!1)}})()},[]);const w=async s=>{f(!0);try{const t=await g(s);if(t.status===200&&t.data.status){const n=(t.data.data||[]).filter(d=>d.role!=="admin");l(n),i.success(`${n.length} result${n.length>1?"s":""} found`)}else l([]),i.error("No results found")}catch(t){console.error("Search error:",t),i.error("Search failed")}finally{f(!1)}},N=s=>{h(s),x(!0)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(v,{}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-heading text-center mb-4 text-foreground",children:"Find a Superstar"}),e.jsx("p",{className:"text-center text-lg text-muted-foreground mb-12",children:"Search members by name, location, or industry"}),e.jsx("div",{className:"max-w-3xl mx-auto mb-12",children:c?e.jsx("div",{className:"text-center py-10 text-muted-foreground animate-pulse",children:"Loading filters..."}):e.jsx(D,{industries:m.industry,regions:m.region,onSearch:w})}),c||j?e.jsx("div",{className:"text-center py-20 text-muted-foreground animate-pulse",children:c?"Loading users...":"Searching..."}):u.length>0?e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8 transition-all duration-300",children:u.map((s,t)=>e.jsx(F,{...s,onViewProfile:()=>N(s)},t))}):e.jsx("div",{className:"text-center text-muted-foreground py-20",children:"No members found. Try another filter."})]})}),e.jsx(P,{}),e.jsx(E,{profile:a,open:y,onOpenChange:x,onViewIncrement:()=>{a&&h({...a,views:a.views})}})]})};export{k as default};
