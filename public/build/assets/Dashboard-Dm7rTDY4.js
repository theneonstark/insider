import{j as e,L as _e,r as o,u as Re}from"./app-Bubjpy0j.js";import{B as j,C,P as V,u as De,c as Z,a as k,b as I,d as z,e as A,I as P}from"./index-hMp6Ad0U.js";import{E as re,S as Le,B as ee}from"./badge-1PYB9BXY.js";import{z as M,L as N}from"./index-BfHmEmfB.js";import{H as Oe,S as ne,a as ze,L as Ve,g as Ge,T as Y,D as $e,b as Ue,c as Be,d as Ye,h as Ke,B as He,e as Je,i as qe,f as Qe,P as Ze,E as We,A as se}from"./EditProfileModal-Bi0L290h.js";import{b as R,c as ie,d as Xe,e as oe,a as D,f as ce,u as le,g as es}from"./index-RJ8Gn1-R.js";import{g as ss,a as as,m as ts}from"./apis-BbhXqL_n.js";import{M as rs}from"./MembershipCard-JMDCVq6J.js";import{E as ns,l as is,u as os,a as cs,C as ae}from"./react-stripe.esm-CO_YOos8.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ds=R("arrow-right",ls);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],de=R("credit-card",ms);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hs=R("lock",us);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ps=R("message-circle",xs);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],gs=R("message-square",fs);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],vs=R("panels-top-left",js);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],H=R("plus",bs);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ns=R("save",ys);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],J=R("trash-2",ws);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ss=R("user",Cs),Fs=({activeSection:s,onSectionChange:n})=>{const r=[{id:"dashboard",label:"Dashboard",icon:Oe},{id:"profile",label:"My Profile",icon:Ss},{id:"membership",label:"Membership Plans",icon:de},{id:"editor",label:"Landing Page Editor",icon:vs},{id:"chat",label:"Chat",icon:gs},{id:"featured",label:"Featured",icon:ne},{id:"settings",label:"Settings",icon:ze}];return e.jsxs("aside",{className:"w-[260px] min-h-screen bg-[#FFF1F4] border-r border-[#F3D6E3] flex flex-col",children:[e.jsx("div",{className:"p-6",children:e.jsx("h2",{className:"text-xl font-heading text-foreground",children:"My Dashboard"})}),e.jsx("nav",{className:"flex-1 px-3 space-y-1",children:r.map(t=>{const m=t.icon,x=s===t.id;return e.jsxs("button",{onClick:()=>n(t.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${x?"bg-primary text-primary-foreground shadow-sm":"text-[#5A5A5A] hover:bg-primary/10"}`,children:[e.jsx(m,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:t.label})]},t.id)})}),e.jsx("div",{className:"p-4 border-t border-[#F3D6E3]",children:e.jsx(_e,{href:"/auth/logout",children:e.jsxs(j,{variant:"ghost",className:"w-full justify-start gap-3 text-[#5A5A5A] hover:bg-primary/10",children:[e.jsx(Ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})})})]})},te=({icon:s,title:n,description:r,ctaText:t,ctaLink:m,gradient:x="linear-gradient(135deg, #FFE9F2 0%, #FFF3F6 100%)"})=>e.jsx(C,{className:"overflow-hidden border-none shadow-[var(--shadow-card)] animate-fade-in hover:shadow-lg transition-shadow",style:{background:x},children:e.jsxs("div",{className:"p-6 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:"text-4xl",children:s}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:n}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})]}),e.jsx("a",{href:m,children:e.jsxs(j,{className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-sm",size:"sm",children:[t,e.jsx(ds,{className:"w-4 h-4 ml-2"})]})})]})});var q="rovingFocusGroup.onEntryFocus",Ps={bubbles:!1,cancelable:!0},B="RovingFocusGroup",[Q,me,Ts]=Xe(B),[Es,ue]=ie(B,[Ts]),[ks,Is]=Es(B),he=o.forwardRef((s,n)=>e.jsx(Q.Provider,{scope:s.__scopeRovingFocusGroup,children:e.jsx(Q.Slot,{scope:s.__scopeRovingFocusGroup,children:e.jsx(Ms,{...s,ref:n})})}));he.displayName=B;var Ms=o.forwardRef((s,n)=>{const{__scopeRovingFocusGroup:r,orientation:t,loop:m=!1,dir:x,currentTabStopId:l,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:v,onEntryFocus:g,preventScrollOnEntryFocus:u=!1,...f}=s,b=o.useRef(null),S=De(n,b),w=ce(x),[h,y]=le({prop:l,defaultProp:p??null,onChange:v,caller:B}),[T,L]=o.useState(!1),F=es(g),E=me(r),a=o.useRef(!1),[i,c]=o.useState(0);return o.useEffect(()=>{const d=b.current;if(d)return d.addEventListener(q,F),()=>d.removeEventListener(q,F)},[F]),e.jsx(ks,{scope:r,orientation:t,dir:w,loop:m,currentTabStopId:h,onItemFocus:o.useCallback(d=>y(d),[y]),onItemShiftTab:o.useCallback(()=>L(!0),[]),onFocusableItemAdd:o.useCallback(()=>c(d=>d+1),[]),onFocusableItemRemove:o.useCallback(()=>c(d=>d-1),[]),children:e.jsx(V.div,{tabIndex:T||i===0?-1:0,"data-orientation":t,...f,ref:S,style:{outline:"none",...s.style},onMouseDown:D(s.onMouseDown,()=>{a.current=!0}),onFocus:D(s.onFocus,d=>{const X=!a.current;if(d.target===d.currentTarget&&X&&!T){const G=new CustomEvent(q,Ps);if(d.currentTarget.dispatchEvent(G),!G.defaultPrevented){const _=E().filter(O=>O.focusable),Ie=_.find(O=>O.active),Me=_.find(O=>O.id===h),Ae=[Ie,Me,..._].filter(Boolean).map(O=>O.ref.current);fe(Ae,u)}}a.current=!1}),onBlur:D(s.onBlur,()=>L(!1))})})}),xe="RovingFocusGroupItem",pe=o.forwardRef((s,n)=>{const{__scopeRovingFocusGroup:r,focusable:t=!0,active:m=!1,tabStopId:x,children:l,...p}=s,v=oe(),g=x||v,u=Is(xe,r),f=u.currentTabStopId===g,b=me(r),{onFocusableItemAdd:S,onFocusableItemRemove:w,currentTabStopId:h}=u;return o.useEffect(()=>{if(t)return S(),()=>w()},[t,S,w]),e.jsx(Q.ItemSlot,{scope:r,id:g,focusable:t,active:m,children:e.jsx(V.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...p,ref:n,onMouseDown:D(s.onMouseDown,y=>{t?u.onItemFocus(g):y.preventDefault()}),onFocus:D(s.onFocus,()=>u.onItemFocus(g)),onKeyDown:D(s.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const T=Rs(y,u.orientation,u.dir);if(T!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let F=b().filter(E=>E.focusable).map(E=>E.ref.current);if(T==="last")F.reverse();else if(T==="prev"||T==="next"){T==="prev"&&F.reverse();const E=F.indexOf(y.currentTarget);F=u.loop?Ds(F,E+1):F.slice(E+1)}setTimeout(()=>fe(F))}}),children:typeof l=="function"?l({isCurrentTabStop:f,hasTabStop:h!=null}):l})})});pe.displayName=xe;var As={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _s(s,n){return n!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function Rs(s,n,r){const t=_s(s.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(t))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(t)))return As[t]}function fe(s,n=!1){const r=document.activeElement;for(const t of s)if(t===r||(t.focus({preventScroll:n}),document.activeElement!==r))return}function Ds(s,n){return s.map((r,t)=>s[(n+t)%s.length])}var Ls=he,Os=pe,K="Tabs",[zs]=ie(K,[ue]),ge=ue(),[Vs,W]=zs(K),je=o.forwardRef((s,n)=>{const{__scopeTabs:r,value:t,onValueChange:m,defaultValue:x,orientation:l="horizontal",dir:p,activationMode:v="automatic",...g}=s,u=ce(p),[f,b]=le({prop:t,onChange:m,defaultProp:x??"",caller:K});return e.jsx(Vs,{scope:r,baseId:oe(),value:f,onValueChange:b,orientation:l,dir:u,activationMode:v,children:e.jsx(V.div,{dir:u,"data-orientation":l,...g,ref:n})})});je.displayName=K;var ve="TabsList",be=o.forwardRef((s,n)=>{const{__scopeTabs:r,loop:t=!0,...m}=s,x=W(ve,r),l=ge(r);return e.jsx(Ls,{asChild:!0,...l,orientation:x.orientation,dir:x.dir,loop:t,children:e.jsx(V.div,{role:"tablist","aria-orientation":x.orientation,...m,ref:n})})});be.displayName=ve;var ye="TabsTrigger",Ne=o.forwardRef((s,n)=>{const{__scopeTabs:r,value:t,disabled:m=!1,...x}=s,l=W(ye,r),p=ge(r),v=Se(l.baseId,t),g=Fe(l.baseId,t),u=t===l.value;return e.jsx(Os,{asChild:!0,...p,focusable:!m,active:u,children:e.jsx(V.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":g,"data-state":u?"active":"inactive","data-disabled":m?"":void 0,disabled:m,id:v,...x,ref:n,onMouseDown:D(s.onMouseDown,f=>{!m&&f.button===0&&f.ctrlKey===!1?l.onValueChange(t):f.preventDefault()}),onKeyDown:D(s.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(t)}),onFocus:D(s.onFocus,()=>{const f=l.activationMode!=="manual";!u&&!m&&f&&l.onValueChange(t)})})})});Ne.displayName=ye;var we="TabsContent",Ce=o.forwardRef((s,n)=>{const{__scopeTabs:r,value:t,forceMount:m,children:x,...l}=s,p=W(we,r),v=Se(p.baseId,t),g=Fe(p.baseId,t),u=t===p.value,f=o.useRef(u);return o.useEffect(()=>{const b=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(b)},[]),e.jsx(Ge,{present:m||u,children:({present:b})=>e.jsx(V.div,{"data-state":u?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":v,hidden:!b,id:g,tabIndex:0,...l,ref:n,style:{...s.style,animationDuration:f.current?"0s":void 0},children:b&&x})})});Ce.displayName=we;function Se(s,n){return`${s}-trigger-${n}`}function Fe(s,n){return`${s}-content-${n}`}var Gs=je,Pe=be,Te=Ne,Ee=Ce;const $s=Gs,ke=o.forwardRef(({className:s,...n},r)=>e.jsx(Pe,{ref:r,className:Z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n}));ke.displayName=Pe.displayName;const $=o.forwardRef(({className:s,...n},r)=>e.jsx(Te,{ref:r,className:Z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s),...n}));$.displayName=Te.displayName;const U=o.forwardRef(({className:s,...n},r)=>e.jsx(Ee,{ref:r,className:Z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n}));U.displayName=Ee.displayName;const Us=()=>{const[s,n]=o.useState({}),[r,t]=o.useState([]),[m,x]=o.useState([]),[l,p]=o.useState([]),v=()=>{const a={id:Date.now().toString(),title:"",description:"",price:""};t([...r,a])},g=(a,i,c)=>{t(r.map(d=>d.id===a?{...d,[i]:c}:d))},u=a=>{t(r.filter(i=>i.id!==a))},f=()=>{const a={id:Date.now().toString(),name:"",role:"",content:"",rating:5};x([...m,a])},b=(a,i,c)=>{x(m.map(d=>d.id===a?{...d,[i]:c}:d))},S=a=>{x(m.filter(i=>i.id!==a))},w=()=>{const a={id:Date.now().toString(),title:"",description:"",validUntil:""};p([...l,a])},h=(a,i,c)=>{p(l.map(d=>d.id===a?{...d,[i]:c}:d))},y=a=>{p(l.filter(i=>i.id!==a))},T=a=>{n(a.about||{}),t(a.services||[]),x((a.testimonials||[]).map(i=>({id:i.id?.toString(),name:i.name,role:i.designation,content:i.message,rating:i.rating}))),p((a.offers||[]).map(i=>({id:i.id?.toString(),title:i.title,description:i.description,validUntil:i.valid_until||null})))},L=async()=>{try{M.loading("Fetching landing page data...",{id:"fetching"});const a=await ss();a.status===200&&a.data?.data?(T(a.data.data),M.success("Data loaded successfully",{id:"fetching"})):M.error("Failed to fetch landing page",{id:"fetching"})}catch(a){console.error("Error fetching landing page:",a),M.error("Something went wrong while fetching data",{id:"fetching"})}};o.useEffect(()=>{L()},[]);const F=async()=>{try{M.loading("Saving landing page...",{id:"saving"}),(await as([{type:"about",data:s},{type:"service",data:r},{type:"testimonial",data:m},{type:"offer",data:l}])).status===200?(M.success("Landing page updated successfully!",{id:"saving"}),await L()):M.error("Failed to update landing page",{id:"saving"})}catch(a){console.error("Error saving landing page:",a),M.error("Something went wrong while saving",{id:"saving"})}},E=()=>M("Opening preview...");return e.jsx("div",{className:"space-y-6",children:e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(I,{className:"text-2xl font-heading",children:"Landing Page Editor"}),e.jsx(z,{children:"Customize your personal landing page to showcase your services and expertise"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsxs(j,{onClick:E,variant:"outline",className:"gap-2",children:[e.jsx(re,{className:"w-4 h-4"})," Preview"]}),e.jsxs(j,{onClick:F,className:"bg-primary hover:bg-primary/90 text-primary-foreground gap-2",children:[e.jsx(Ns,{className:"w-4 h-4"})," Save & Publish"]})]}),e.jsxs($s,{defaultValue:"about",className:"space-y-6",children:[e.jsxs(ke,{className:"grid grid-cols-4 w-full",children:[e.jsx($,{value:"about",children:"About Me"}),e.jsx($,{value:"services",children:"Services"}),e.jsx($,{value:"testimonials",children:"Testimonials"}),e.jsx($,{value:"offers",children:"Offers"})]}),e.jsxs(U,{value:"about",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Headline"}),e.jsx(P,{value:s.headline||"",onChange:a=>n({...s,headline:a.target.value}),placeholder:"Your professional headline"})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Bio"}),e.jsx(Y,{rows:6,value:s.bio||"",onChange:a=>n({...s,bio:a.target.value}),placeholder:"Tell your story..."})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Tagline"}),e.jsx(P,{value:s.tagline||"",onChange:a=>n({...s,tagline:a.target.value}),placeholder:"Your catchy tagline"})]})]}),e.jsxs(U,{value:"services",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Your Services"}),e.jsxs(j,{onClick:v,size:"sm",className:"gap-2",children:[e.jsx(H,{className:"w-4 h-4"})," Add"]})]}),r.map(a=>e.jsx(C,{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Service Title"}),e.jsx(P,{value:a.title,onChange:i=>g(a.id,"title",i.target.value),placeholder:"e.g., Brand Strategy Consultation"})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Description"}),e.jsx(Y,{rows:3,value:a.description,onChange:i=>g(a.id,"description",i.target.value),placeholder:"Describe your service..."})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Price"}),e.jsx(P,{value:a.price,onChange:i=>g(a.id,"price",i.target.value),placeholder:"e.g., $500"})]})]}),e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>u(a.id),className:"ml-2 text-destructive",children:e.jsx(J,{className:"w-4 h-4"})})]})})},a.id))]}),e.jsxs(U,{value:"testimonials",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Client Testimonials"}),e.jsxs(j,{onClick:f,size:"sm",className:"gap-2",children:[e.jsx(H,{className:"w-4 h-4"})," Add"]})]}),m.map(a=>e.jsx(C,{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Name"}),e.jsx(P,{value:a.name,onChange:i=>b(a.id,"name",i.target.value)})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Role/Company"}),e.jsx(P,{value:a.role,onChange:i=>b(a.id,"role",i.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Content"}),e.jsx(Y,{rows:3,value:a.content,onChange:i=>b(a.id,"content",i.target.value)})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Rating"}),e.jsx(P,{type:"number",min:"1",max:"5",value:a.rating,onChange:i=>b(a.id,"rating",i.target.value)})]})]}),e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>S(a.id),className:"ml-2 text-destructive",children:e.jsx(J,{className:"w-4 h-4"})})]})})},a.id))]}),e.jsxs(U,{value:"offers",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Promotional Offers"}),e.jsxs(j,{onClick:w,size:"sm",className:"gap-2",children:[e.jsx(H,{className:"w-4 h-4"})," Add"]})]}),l.map(a=>e.jsx(C,{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Title"}),e.jsx(P,{value:a.title,onChange:i=>h(a.id,"title",i.target.value)})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Description"}),e.jsx(Y,{rows:2,value:a.description,onChange:i=>h(a.id,"description",i.target.value)})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Valid Until"}),e.jsx(P,{type:"date",value:a.validUntil||"",onChange:i=>h(a.id,"validUntil",i.target.value)})]})]}),e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>y(a.id),className:"ml-2 text-destructive",children:e.jsx(J,{className:"w-4 h-4"})})]})})},a.id))]})]})]})]})})},Bs=is("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),Ys=({tier:s,onClose:n})=>{const r=os(),t=cs(),[m,x]=o.useState(!1),[l,p]=o.useState(null),[v,g]=o.useState(""),[u,f]=o.useState(!1);o.useEffect(()=>{if(!v&&s?.price){const S=Math.round(parseFloat(s.price.replace(/[^0-9.-]+/g,""))*100);fetch("/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({amount:S,plan_title:s.title,tier_id:s.id})}).then(w=>w.json()).then(w=>{w.clientSecret?g(w.clientSecret):p("Invalid response from server")}).catch(()=>{p("Network error"),M.error("Failed to initialize payment. Try again.")})}},[s,v]);const b=async S=>{if(S.preventDefault(),!r||!t||!v||!u)return;x(!0),p(null);const{error:w,paymentIntent:h}=await r.confirmCardPayment(v,{payment_method:{card:t.getElement(ae)}});w?(p(w.message),M.error(w.message||"Payment failed")):(M.success(`Subscribed to ${s.title} for ${s.price}! ðŸŽ‰`),n()),x(!1)};return e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:"Card Details"}),e.jsx("div",{className:"p-3 border rounded-md bg-white",children:e.jsx(ae,{onChange:S=>{f(S.complete),p(S.error?.message||null)},options:{style:{base:{fontSize:"16px",color:"#1f2937","::placeholder":{color:"#9ca3af"}}}}})})]}),l&&e.jsx("p",{className:"text-sm text-red-600",children:l}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 p-3 rounded-md",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsx("span",{children:"Your payment information is secure and encrypted"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:n,disabled:m,className:"flex-1",children:"Cancel"}),e.jsx(j,{type:"submit",disabled:m||!r||!t||!v||!u,className:"flex-1",children:m?"Processing...":`Pay ${s.price}`})]})]})},Ks=({isOpen:s,onClose:n,tier:r})=>r?e.jsx(e.Fragment,{children:e.jsx($e,{open:s,onOpenChange:n,children:e.jsxs(Ue,{className:"sm:max-w-md",children:[e.jsxs(Be,{children:[e.jsxs(Ye,{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5 text-primary"}),"Complete Your Payment"]}),e.jsxs(Ke,{children:["Subscribe to ",r.title," for ",r.price]})]}),e.jsx(ns,{stripe:Bs,children:e.jsx(Ys,{tier:r,onClose:n})})]})})}):null,ta=s=>{const{props:n}=Re(),r=n.auth?.user;console.log(s?.user?.tier_name);const[t,m]=o.useState("dashboard"),[x,l]=o.useState(!1),[p,v]=o.useState(!1),[g,u]=o.useState([]),[f,b]=o.useState(!1),[S,w]=o.useState(null),[h,y]=o.useState({name:r?.name||"Guest User",email:r?.email||"guest@example.com",phone:r?.phone||"",businessType:r?.business_type||"",state:r?.state||"",dob:r?.dob||"",bio:r?.bio||"",tier:s?.user?.tier_name||null,views:r?.views||0,featured:r?.featured||0,image:"/assets/profile-amy.jpg"}),T=c=>{if(!c||typeof c!="string")return[];try{const d=JSON.parse(c);return Array.isArray(d)?d:[]}catch{return console.warn("Failed to parse features:",c),[]}};o.useEffect(()=>{(async()=>{try{const G=((await ts())?.data?.data||[]).map(_=>({id:_.id,title:_.tier_name,price:`$${_.price} / year`,features:T(_.feature),highlighted:_.highlighted===1||_.highlighted==="1"}));console.log("API Membership Plans:",G),u(G)}catch(d){console.error("Failed to fetch membership plans:",d),u([])}})()},[]);const L=c=>{y(c)},F=c=>{w(c),b(!0)},E=()=>{y(c=>({...c,views:c.views||0}))},a=()=>g.find(c=>c.title===h.tier),i=()=>{switch(t){case"dashboard":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(I,{className:"text-sm font-medium",children:"Current Tier"}),e.jsx(ne,{className:"w-4 h-4 text-primary"})]}),e.jsxs(A,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.tier||"No Plan"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:h.tier?"Active member":"Choose a plan"})]})]}),e.jsxs(C,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(I,{className:"text-sm font-medium",children:"Profile Views"}),e.jsx(re,{className:"w-4 h-4 text-primary"})]}),e.jsxs(A,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.views||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),e.jsxs(C,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(I,{className:"text-sm font-medium",children:"Messages"}),e.jsx(ps,{className:"w-4 h-4 text-primary"})]}),e.jsxs(A,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"5"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"3 unread"})]})]}),e.jsxs(C,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(I,{className:"text-sm font-medium",children:"Featured"}),e.jsx(se,{className:"w-4 h-4 text-primary"})]}),e.jsxs(A,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.featured?"Yes":"No"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:h.featured?"Active this month":"Upgrade to get featured"})]})]})]}),e.jsxs(C,{children:[e.jsx(k,{children:e.jsx(I,{children:"Quick Actions"})}),e.jsxs(A,{className:"flex flex-wrap gap-3",children:[e.jsx(j,{onClick:()=>l(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"View My Profile"}),e.jsx(j,{variant:"outline",onClick:()=>m("profile"),children:"Edit Profile"}),e.jsx(j,{variant:"outline",onClick:()=>m("chat"),children:"Check Messages"})]})]})]});case"profile":return e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(I,{children:"My Profile"}),e.jsx(z,{children:"View and edit your business information"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Full Name"}),e.jsx("p",{className:"text-lg font-semibold",children:h.name})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Email"}),e.jsx("p",{className:"text-lg",children:h.email})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Business Type"}),e.jsx("p",{className:"text-lg",children:h.businessType||"Not set"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(j,{onClick:()=>v(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Edit Profile"}),e.jsx(j,{variant:"outline",onClick:()=>l(!0),children:"Preview Profile"})]})]})]});case"membership":return e.jsx("div",{className:"space-y-6",children:h.tier?e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(I,{children:"Your Membership"}),e.jsx(z,{children:"Manage your subscription and benefits"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:h.tier}),e.jsx(ee,{className:"bg-primary text-primary-foreground",children:"Active"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:a()?.price||"N/A"}),e.jsx("ul",{className:"space-y-2 text-sm",children:a()?.features?.length>0?a().features.map((c,d)=>e.jsxs("li",{children:["Check ",c]},d)):e.jsx("li",{className:"text-muted-foreground",children:"No features listed"})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(j,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Upgrade Plan"}),e.jsx(j,{variant:"outline",children:"Manage Subscription"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsxs(k,{children:[e.jsx(I,{children:"Choose Your Membership Plan"}),e.jsx(z,{children:"Select a plan to unlock exclusive features"})]})}),g.length>0?e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:g.map(c=>e.jsx(rs,{title:c.title,price:c.price,features:c.features,highlighted:c.highlighted,onJoin:()=>F(c)},c.id))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading membership plans..."})})]})});case"editor":return e.jsx(Us,{});case"chat":return e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(I,{children:"Messages"}),e.jsx(z,{children:"Connect with other members"})]}),e.jsx(A,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Conversations"}),[1,2,3].map(c=>e.jsxs("div",{className:"p-3 bg-muted rounded-lg cursor-pointer hover:bg-muted/80",children:[e.jsxs("div",{className:"font-medium",children:["Member ",c]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Last message..."})]},c))]}),e.jsx("div",{className:"md:col-span-2 p-6 bg-muted rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Select a conversation to view messages"})})]})})]});case"featured":return e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(I,{children:"Featured Status"}),e.jsx(z,{children:"Your featured member benefits"})]}),e.jsx(A,{children:e.jsxs("div",{className:"p-6 bg-accent rounded-lg text-center",children:[e.jsx(se,{className:"w-16 h-16 mx-auto mb-4 text-accent-foreground"}),e.jsx("h3",{className:"font-semibold text-xl mb-2",children:h.tier?"You're Featured!":"Upgrade to Get Featured!"}),e.jsx("p",{className:"text-sm mb-4",children:h.tier?"Your profile is highlighted across the platform":"Get priority placement and visibility"}),h.tier&&e.jsx(ee,{className:"bg-accent-foreground text-accent",children:"Active"})]})})]});case"settings":return e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(I,{children:"Account Settings"}),e.jsx(z,{children:"Manage your account preferences and security"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Account Information"}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"email",children:"Email"}),e.jsx(P,{id:"email",type:"email",defaultValue:h.email})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Change Password"}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"current-password",children:"Current Password"}),e.jsx(P,{id:"current-password",type:"password",placeholder:"Enter current password"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"new-password",children:"New Password"}),e.jsx(P,{id:"new-password",type:"password",placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsx(P,{id:"confirm-password",type:"password",placeholder:"Confirm new password"})]}),e.jsx(j,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Update Password"})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Notifications"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]}),e.jsx(j,{variant:"outline",size:"sm",children:"Configure"})]})]})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-background flex",children:[e.jsx(Fs,{activeSection:t,onSectionChange:m}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-card border-b border-[#F3D6E3] sticky top-0 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:[e.jsx(Le,{className:"w-5 h-5 text-muted-foreground"}),e.jsx(P,{placeholder:"Search...",className:"border-none bg-muted"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{variant:"ghost",size:"icon",children:e.jsx(He,{className:"w-5 h-5"})}),e.jsxs(Je,{children:[e.jsx(qe,{src:h.image,alt:h.name}),e.jsx(Qe,{children:h.name?.[0]||"G"})]})]})]})}),e.jsxs("div",{className:"p-6 space-y-4 bg-muted/30",children:[e.jsx(te,{icon:"ðŸŽ‰",title:"Join Our Community of Women",description:"Connect with amazing women entrepreneurs and grow together",ctaText:"Learn More",ctaLink:"#",gradient:"linear-gradient(135deg, #FFE9F2 0%, #FFF3F6 100%)"}),e.jsx(te,{icon:"ðŸ½ï¸",title:"Join Our Luncheon Near You",description:"Network with local women leaders at our exclusive events",ctaText:"Find Events",ctaLink:"#",gradient:"linear-gradient(135deg, #FFF3F6 0%, #E7C8FF 100%)"})]}),e.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[e.jsxs("h1",{className:"text-3xl font-heading mb-6",children:[t==="dashboard"&&"Welcome Back!",t==="profile"&&"My Profile",t==="membership"&&"Membership Plans",t==="editor"&&"Landing Page Editor",t==="chat"&&"Chat",t==="featured"&&"Featured",t==="settings"&&"Settings"]}),i()]})]}),e.jsx(Ze,{profile:h,open:x,onOpenChange:l,onEdit:()=>{l(!1),v(!0)},onViewIncrement:E}),e.jsx(We,{profile:h,open:p,onOpenChange:v,onSave:L}),e.jsx(Ks,{isOpen:f,onClose:()=>b(!1),tier:S})]})};export{ta as default};
