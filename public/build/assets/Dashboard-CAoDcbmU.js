import{j as e,L as He,r as l,u as Je}from"./app-SQBbOcLR.js";import{B as f,C as S,u as qe,c as le,a as M,b as k,d as G,e as R}from"./index-16-0nrMD.js";import{E as xe,B as We}from"./badge-CEe_JK0c.js";import{P as Y,z as w,I as T,g as Qe,a as Xe,b as Ze,m as es,c as ss}from"./apis-C-LB-TNB.js";import{L as v}from"./label-C6PrGJJ1.js";import{H as as,S as ts,L as rs,T as Z,B as ns,a as is,c as os,b as ls,E as cs,A as ue}from"./EditProfileModal-6Wwy1eEJ.js";import{c as $}from"./createLucideIcon-CEetH4QU.js";import{C as ds,P as us,M as me}from"./PaymentModal-CpVkyMty.js";import{S as fe}from"./star-CZdaHMnx.js";import{d as ms,D as pe,a as ge,b as je,c as ve,P as hs}from"./ProfileViewModal-CCyOmWKi.js";import{c as be,i as xs,j as ye,a as O,k as we,u as Ne,l as fs}from"./select-BWJp9MXD.js";import{S as ps}from"./search-C9j2ndl5.js";import"./react-stripe.esm-CkFmodtX.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],js=$("arrow-right",gs);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],bs=$("message-circle",vs);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ws=$("message-square",ys);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Cs=$("panels-top-left",Ns);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],re=$("plus",Fs);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ps=$("save",Ss);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ne=$("trash-2",Ts);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Es=$("user",Is),Ms=({activeSection:a,onSectionChange:o})=>{const r=[{id:"dashboard",label:"Dashboard",icon:as},{id:"profile",label:"My Profile",icon:Es},{id:"membership",label:"Membership Plans",icon:ds},{id:"editor",label:"Landing Page Editor",icon:Cs},{id:"chat",label:"Chat",icon:ws},{id:"featured",label:"Featured",icon:fe},{id:"settings",label:"Settings",icon:ts}];return e.jsxs("aside",{className:"w-[260px] min-h-screen bg-[#FFF1F4] border-r border-[#F3D6E3] flex flex-col",children:[e.jsx("div",{className:"p-6",children:e.jsx("h2",{className:"text-xl font-heading text-foreground",children:"My Dashboard"})}),e.jsx("nav",{className:"flex-1 px-3 space-y-1",children:r.map(t=>{const u=t.icon,h=a===t.id;return e.jsxs("button",{onClick:()=>o(t.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${h?"bg-primary text-primary-foreground shadow-sm":"text-[#5A5A5A] hover:bg-primary/10"}`,children:[e.jsx(u,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:t.label})]},t.id)})}),e.jsx("div",{className:"p-4 border-t border-[#F3D6E3]",children:e.jsx(He,{href:"/auth/logout",children:e.jsxs(f,{variant:"ghost",className:"w-full justify-start gap-3 text-[#5A5A5A] hover:bg-primary/10",children:[e.jsx(rs,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})})})]})},he=({icon:a,title:o,description:r,ctaText:t,ctaLink:u,gradient:h="linear-gradient(135deg, #FFE9F2 0%, #FFF3F6 100%)"})=>e.jsx(S,{className:"overflow-hidden border-none shadow-[var(--shadow-card)] animate-fade-in hover:shadow-lg transition-shadow",style:{background:h},children:e.jsxs("div",{className:"p-6 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:"text-4xl",children:a}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:o}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})]}),e.jsx("a",{href:u,children:e.jsxs(f,{className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-sm",size:"sm",children:[t,e.jsx(js,{className:"w-4 h-4 ml-2"})]})})]})});var ie="rovingFocusGroup.onEntryFocus",ks={bubbles:!1,cancelable:!0},q="RovingFocusGroup",[oe,Ce,As]=xs(q),[_s,Fe]=be(q,[As]),[Rs,Ds]=_s(q),Se=l.forwardRef((a,o)=>e.jsx(oe.Provider,{scope:a.__scopeRovingFocusGroup,children:e.jsx(oe.Slot,{scope:a.__scopeRovingFocusGroup,children:e.jsx(Ls,{...a,ref:o})})}));Se.displayName=q;var Ls=l.forwardRef((a,o)=>{const{__scopeRovingFocusGroup:r,orientation:t,loop:u=!1,dir:h,currentTabStopId:c,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:P,onEntryFocus:p,preventScrollOnEntryFocus:x=!1,...g}=a,y=l.useRef(null),B=qe(o,y),U=we(h),[D,j]=Ne({prop:c,defaultProp:b??null,onChange:P,caller:q}),[E,A]=l.useState(!1),N=fs(p),I=Ce(r),s=l.useRef(!1),[i,_]=l.useState(0);return l.useEffect(()=>{const m=y.current;if(m)return m.addEventListener(ie,N),()=>m.removeEventListener(ie,N)},[N]),e.jsx(Rs,{scope:r,orientation:t,dir:U,loop:u,currentTabStopId:D,onItemFocus:l.useCallback(m=>j(m),[j]),onItemShiftTab:l.useCallback(()=>A(!0),[]),onFocusableItemAdd:l.useCallback(()=>_(m=>m+1),[]),onFocusableItemRemove:l.useCallback(()=>_(m=>m-1),[]),children:e.jsx(Y.div,{tabIndex:E||i===0?-1:0,"data-orientation":t,...g,ref:B,style:{outline:"none",...a.style},onMouseDown:O(a.onMouseDown,()=>{s.current=!0}),onFocus:O(a.onFocus,m=>{const W=!s.current;if(m.target===m.currentTarget&&W&&!E){const K=new CustomEvent(ie,ks);if(m.currentTarget.dispatchEvent(K),!K.defaultPrevented){const z=I().filter(L=>L.focusable),Q=z.find(L=>L.active),se=z.find(L=>L.id===D),X=[Q,se,...z].filter(Boolean).map(L=>L.ref.current);Ie(X,x)}}s.current=!1}),onBlur:O(a.onBlur,()=>A(!1))})})}),Pe="RovingFocusGroupItem",Te=l.forwardRef((a,o)=>{const{__scopeRovingFocusGroup:r,focusable:t=!0,active:u=!1,tabStopId:h,children:c,...b}=a,P=ye(),p=h||P,x=Ds(Pe,r),g=x.currentTabStopId===p,y=Ce(r),{onFocusableItemAdd:B,onFocusableItemRemove:U,currentTabStopId:D}=x;return l.useEffect(()=>{if(t)return B(),()=>U()},[t,B,U]),e.jsx(oe.ItemSlot,{scope:r,id:p,focusable:t,active:u,children:e.jsx(Y.span,{tabIndex:g?0:-1,"data-orientation":x.orientation,...b,ref:o,onMouseDown:O(a.onMouseDown,j=>{t?x.onItemFocus(p):j.preventDefault()}),onFocus:O(a.onFocus,()=>x.onItemFocus(p)),onKeyDown:O(a.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){x.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const E=Us(j,x.orientation,x.dir);if(E!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let N=y().filter(I=>I.focusable).map(I=>I.ref.current);if(E==="last")N.reverse();else if(E==="prev"||E==="next"){E==="prev"&&N.reverse();const I=N.indexOf(j.currentTarget);N=x.loop?Vs(N,I+1):N.slice(I+1)}setTimeout(()=>Ie(N))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:D!=null}):c})})});Te.displayName=Pe;var Os={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bs(a,o){return o!=="rtl"?a:a==="ArrowLeft"?"ArrowRight":a==="ArrowRight"?"ArrowLeft":a}function Us(a,o,r){const t=Bs(a.key,r);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(t))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(t)))return Os[t]}function Ie(a,o=!1){const r=document.activeElement;for(const t of a)if(t===r||(t.focus({preventScroll:o}),document.activeElement!==r))return}function Vs(a,o){return a.map((r,t)=>a[(o+t)%a.length])}var $s=Se,Gs=Te,ee="Tabs",[zs]=be(ee,[Fe]),Ee=Fe(),[Ys,ce]=zs(ee),Me=l.forwardRef((a,o)=>{const{__scopeTabs:r,value:t,onValueChange:u,defaultValue:h,orientation:c="horizontal",dir:b,activationMode:P="automatic",...p}=a,x=we(b),[g,y]=Ne({prop:t,onChange:u,defaultProp:h??"",caller:ee});return e.jsx(Ys,{scope:r,baseId:ye(),value:g,onValueChange:y,orientation:c,dir:x,activationMode:P,children:e.jsx(Y.div,{dir:x,"data-orientation":c,...p,ref:o})})});Me.displayName=ee;var ke="TabsList",Ae=l.forwardRef((a,o)=>{const{__scopeTabs:r,loop:t=!0,...u}=a,h=ce(ke,r),c=Ee(r);return e.jsx($s,{asChild:!0,...c,orientation:h.orientation,dir:h.dir,loop:t,children:e.jsx(Y.div,{role:"tablist","aria-orientation":h.orientation,...u,ref:o})})});Ae.displayName=ke;var _e="TabsTrigger",Re=l.forwardRef((a,o)=>{const{__scopeTabs:r,value:t,disabled:u=!1,...h}=a,c=ce(_e,r),b=Ee(r),P=Oe(c.baseId,t),p=Be(c.baseId,t),x=t===c.value;return e.jsx(Gs,{asChild:!0,...b,focusable:!u,active:x,children:e.jsx(Y.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":p,"data-state":x?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:P,...h,ref:o,onMouseDown:O(a.onMouseDown,g=>{!u&&g.button===0&&g.ctrlKey===!1?c.onValueChange(t):g.preventDefault()}),onKeyDown:O(a.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(t)}),onFocus:O(a.onFocus,()=>{const g=c.activationMode!=="manual";!x&&!u&&g&&c.onValueChange(t)})})})});Re.displayName=_e;var De="TabsContent",Le=l.forwardRef((a,o)=>{const{__scopeTabs:r,value:t,forceMount:u,children:h,...c}=a,b=ce(De,r),P=Oe(b.baseId,t),p=Be(b.baseId,t),x=t===b.value,g=l.useRef(x);return l.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),e.jsx(ms,{present:u||x,children:({present:y})=>e.jsx(Y.div,{"data-state":x?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":P,hidden:!y,id:p,tabIndex:0,...c,ref:o,style:{...a.style,animationDuration:g.current?"0s":void 0},children:y&&h})})});Le.displayName=De;function Oe(a,o){return`${a}-trigger-${o}`}function Be(a,o){return`${a}-content-${o}`}var Ks=Me,Ue=Ae,Ve=Re,$e=Le;const Hs=Ks,Ge=l.forwardRef(({className:a,...o},r)=>e.jsx(Ue,{ref:r,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...o}));Ge.displayName=Ue.displayName;const H=l.forwardRef(({className:a,...o},r)=>e.jsx(Ve,{ref:r,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a),...o}));H.displayName=Ve.displayName;const J=l.forwardRef(({className:a,...o},r)=>e.jsx($e,{ref:r,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...o}));J.displayName=$e.displayName;const Js=()=>{const[a,o]=l.useState({}),[r,t]=l.useState([]),[u,h]=l.useState([]),[c,b]=l.useState([]),P=()=>{const s={id:Date.now().toString(),title:"",description:"",price:""};t([...r,s])},p=(s,i,_)=>{t(r.map(m=>m.id===s?{...m,[i]:_}:m))},x=s=>{t(r.filter(i=>i.id!==s))},g=()=>{const s={id:Date.now().toString(),name:"",role:"",content:"",rating:5};h([...u,s])},y=(s,i,_)=>{h(u.map(m=>m.id===s?{...m,[i]:_}:m))},B=s=>{h(u.filter(i=>i.id!==s))},U=()=>{const s={id:Date.now().toString(),title:"",description:"",validUntil:""};b([...c,s])},D=(s,i,_)=>{b(c.map(m=>m.id===s?{...m,[i]:_}:m))},j=s=>{b(c.filter(i=>i.id!==s))},E=s=>{o(s.about||{}),t(s.services||[]),h((s.testimonials||[]).map(i=>({id:i.id?.toString(),name:i.name,role:i.designation,content:i.message,rating:i.rating}))),b((s.offers||[]).map(i=>({id:i.id?.toString(),title:i.title,description:i.description,validUntil:i.valid_until||null})))},A=async()=>{try{w.loading("Fetching landing page data...",{id:"fetching"});const s=await Qe();s.status===200&&s.data?.data?(E(s.data.data),w.success("Data loaded successfully",{id:"fetching"})):w.error("Failed to fetch landing page",{id:"fetching"})}catch(s){console.error("Error fetching landing page:",s),w.error("Something went wrong while fetching data",{id:"fetching"})}};l.useEffect(()=>{A()},[]);const N=async()=>{try{w.loading("Saving landing page...",{id:"saving"}),(await Xe([{type:"about",data:a},{type:"service",data:r},{type:"testimonial",data:u},{type:"offer",data:c}])).status===200?(w.success("Landing page updated successfully!",{id:"saving"}),await A()):w.error("Failed to update landing page",{id:"saving"})}catch(s){console.error("Error saving landing page:",s),w.error("Something went wrong while saving",{id:"saving"})}},I=()=>w("Opening preview...");return e.jsx("div",{className:"space-y-6",children:e.jsxs(S,{children:[e.jsxs(M,{children:[e.jsx(k,{className:"text-2xl font-heading",children:"Landing Page Editor"}),e.jsx(G,{children:"Customize your personal landing page to showcase your services and expertise"})]}),e.jsxs(R,{children:[e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsxs(f,{onClick:I,variant:"outline",className:"gap-2",children:[e.jsx(xe,{className:"w-4 h-4"})," Preview"]}),e.jsxs(f,{onClick:N,className:"bg-primary hover:bg-primary/90 text-primary-foreground gap-2",children:[e.jsx(Ps,{className:"w-4 h-4"})," Save & Publish"]})]}),e.jsxs(Hs,{defaultValue:"about",className:"space-y-6",children:[e.jsxs(Ge,{className:"grid grid-cols-4 w-full",children:[e.jsx(H,{value:"about",children:"About Me"}),e.jsx(H,{value:"services",children:"Services"}),e.jsx(H,{value:"testimonials",children:"Testimonials"}),e.jsx(H,{value:"offers",children:"Offers"})]}),e.jsxs(J,{value:"about",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Headline"}),e.jsx(T,{value:a.headline||"",onChange:s=>o({...a,headline:s.target.value}),placeholder:"Your professional headline"})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Bio"}),e.jsx(Z,{rows:6,value:a.bio||"",onChange:s=>o({...a,bio:s.target.value}),placeholder:"Tell your story..."})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Tagline"}),e.jsx(T,{value:a.tagline||"",onChange:s=>o({...a,tagline:s.target.value}),placeholder:"Your catchy tagline"})]})]}),e.jsxs(J,{value:"services",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Your Services"}),e.jsxs(f,{onClick:P,size:"sm",className:"gap-2",children:[e.jsx(re,{className:"w-4 h-4"})," Add"]})]}),r.map(s=>e.jsx(S,{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Service Title"}),e.jsx(T,{value:s.title,onChange:i=>p(s.id,"title",i.target.value),placeholder:"e.g., Brand Strategy Consultation"})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Description"}),e.jsx(Z,{rows:3,value:s.description,onChange:i=>p(s.id,"description",i.target.value),placeholder:"Describe your service..."})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Price"}),e.jsx(T,{value:s.price,onChange:i=>p(s.id,"price",i.target.value),placeholder:"e.g., $500"})]})]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:()=>x(s.id),className:"ml-2 text-destructive",children:e.jsx(ne,{className:"w-4 h-4"})})]})})},s.id))]}),e.jsxs(J,{value:"testimonials",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Client Testimonials"}),e.jsxs(f,{onClick:g,size:"sm",className:"gap-2",children:[e.jsx(re,{className:"w-4 h-4"})," Add"]})]}),u.map(s=>e.jsx(S,{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Name"}),e.jsx(T,{value:s.name,onChange:i=>y(s.id,"name",i.target.value)})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Role/Company"}),e.jsx(T,{value:s.role,onChange:i=>y(s.id,"role",i.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Content"}),e.jsx(Z,{rows:3,value:s.content,onChange:i=>y(s.id,"content",i.target.value)})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Rating"}),e.jsx(T,{type:"number",min:"1",max:"5",value:s.rating,onChange:i=>y(s.id,"rating",i.target.value)})]})]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:()=>B(s.id),className:"ml-2 text-destructive",children:e.jsx(ne,{className:"w-4 h-4"})})]})})},s.id))]}),e.jsxs(J,{value:"offers",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Promotional Offers"}),e.jsxs(f,{onClick:U,size:"sm",className:"gap-2",children:[e.jsx(re,{className:"w-4 h-4"})," Add"]})]}),c.map(s=>e.jsx(S,{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Title"}),e.jsx(T,{value:s.title,onChange:i=>D(s.id,"title",i.target.value)})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Description"}),e.jsx(Z,{rows:2,value:s.description,onChange:i=>D(s.id,"description",i.target.value)})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Valid Until"}),e.jsx(T,{type:"date",value:s.validUntil||"",onChange:i=>D(s.id,"validUntil",i.target.value)})]})]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:()=>j(s.id),className:"ml-2 text-destructive",children:e.jsx(ne,{className:"w-4 h-4"})})]})})},s.id))]})]})]})]})})},qs=({open:a,onOpenChange:o})=>{const[r,t]=l.useState(""),u=async h=>{if(h.preventDefault(),!r||r<=0){w.error("Please enter a valid number of days");return}try{const c=await Ze({days:parseInt(r)});c.data.status?(w.success(c.data.message||"Feature activated successfully!"),t(""),o(!1)):w.error(c.data.message||"Failed to activate feature")}catch(c){w.error("Something went wrong while activating the feature."),console.error(c)}};return e.jsx(pe,{open:a,onOpenChange:o,children:e.jsxs(ge,{className:"sm:max-w-md",children:[e.jsx(je,{children:e.jsx(ve,{children:"Activate Feature"})}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"days",children:"Number of Days"}),e.jsx(T,{id:"days",type:"number",placeholder:"Enter number of days",value:r,onChange:h=>t(h.target.value),min:"1"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(f,{type:"submit",className:"flex-1",children:"Activate"}),e.jsx(f,{type:"button",variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancel"})]})]})]})})},ca=a=>{const{props:o}=Je(),r=o.auth?.user,[t,u]=l.useState("dashboard"),[h,c]=l.useState(!1),[b,P]=l.useState(!1),[p,x]=l.useState([]),[g,y]=l.useState(!1),[B,U]=l.useState(null),[D,j]=l.useState(!1),[E,A]=l.useState(!1),N=["Twinkle","Sparkle","Shine"],[I,s]=l.useState(""),[i,_]=l.useState(""),[m,W]=l.useState(""),[K,z]=l.useState(!1),Q=()=>{if(!d?.tier||d.tier.toLowerCase()==="free")return p;const n=N.findIndex(C=>C.toLowerCase()===d.tier.toLowerCase());return p.filter(C=>N.findIndex(V=>V.toLowerCase()===C.title.toLowerCase())>n)},se=async()=>{if(!I||!i||!m){w.error("Please fill in all fields");return}if(i!==m){w.error("New passwords do not match");return}z(!0);try{const n=await ss({current_password:I,new_password:i,new_password_confirmation:m});n.data.status?(w.success(n.data.message||"Password updated successfully!"),s(""),_(""),W("")):w.error(n.data.message||"Failed to update password")}catch(n){console.error(n),w.error("Something went wrong. Please try again.")}finally{z(!1)}},[d,X]=l.useState({name:r?.name||"Guest User",email:r?.email||"guest@example.com",phone:r?.phone||"",businessId:r?.business_type||"",businessType:a?.user?.business_type||"",stateId:r?.state||"",state:a?.user?.state||"",dob:r?.dob||"",bio:r?.bio||"",tier:a?.user?.tier_name||null,views:r?.views||0,featured:r?.featured,featured_valid:r?.featured_valid,image:r?.image}),L=n=>{if(!n||typeof n!="string")return[];try{const C=JSON.parse(n);return Array.isArray(C)?C:[]}catch{return console.warn("Failed to parse features:",n),[]}};l.useEffect(()=>{(async()=>{try{const V=((await es())?.data?.data||[]).map(F=>({id:F.id,title:F.tier_name,price:`$${F.price} / year`,features:L(F.feature),highlighted:F.highlighted===1||F.highlighted==="1"}));console.log("API Membership Plans:",V),x(V)}catch(C){console.error("Failed to fetch membership plans:",C),x([])}})()},[]);const ze=n=>{X(n)},de=n=>{U(n),y(!0)},Ye=()=>{X(n=>({...n,views:n.views||0}))},ae=()=>p.find(n=>n.title===d.tier),Ke=()=>{switch(t){case"dashboard":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(S,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Current Tier"}),e.jsx(fe,{className:"w-4 h-4 text-primary"})]}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.tier||"No Plan"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d.tier?"Active member":"Choose a plan"})]})]}),e.jsxs(S,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Profile Views"}),e.jsx(xe,{className:"w-4 h-4 text-primary"})]}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.views||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),e.jsxs(S,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Messages"}),e.jsx(bs,{className:"w-4 h-4 text-primary"})]}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"5"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"3 unread"})]})]}),e.jsxs(S,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(k,{className:"text-sm font-medium",children:"Featured"}),e.jsx(ue,{className:"w-4 h-4 text-primary"})]}),e.jsxs(R,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.featured?"Yes":"No"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d.featured?(()=>{const n=new Date(d.featured_valid),C=n.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),V=n-new Date,F=Math.ceil(V/(1e3*60*60*24));return e.jsxs("span",{children:["Expires on ",e.jsx("strong",{children:C}),F>0?` Â· ${F} day${F>1?"s":""} left`:" Â· Expired"]})})():"Upgrade to get featured"})]})]})]}),e.jsxs(S,{children:[e.jsx(M,{children:e.jsx(k,{children:"Quick Actions"})}),e.jsxs(R,{className:"flex flex-wrap gap-3",children:[e.jsx(f,{onClick:()=>c(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"View My Profile"}),e.jsx(f,{variant:"outline",onClick:()=>u("profile"),children:"Edit Profile"}),e.jsx(f,{variant:"outline",onClick:()=>u("chat"),children:"Check Messages"})]})]})]});case"profile":return e.jsxs(S,{children:[e.jsxs(M,{children:[e.jsx(k,{children:"My Profile"}),e.jsx(G,{children:"View and edit your business information"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Full Name"}),e.jsx("p",{className:"text-lg font-semibold",children:d.name})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Email"}),e.jsx("p",{className:"text-lg",children:d.email})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Business Type"}),e.jsx("p",{className:"text-lg",children:d.businessType||"Not set"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(f,{onClick:()=>P(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Edit Profile"}),e.jsx(f,{variant:"outline",onClick:()=>c(!0),children:"Preview Profile"})]})]})]});case"membership":return e.jsx("div",{className:"space-y-6",children:!d.tier||d.tier.toLowerCase()==="free plan"?e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsxs(M,{children:[e.jsx(k,{children:"Choose Your Membership Plan"}),e.jsx(G,{children:"Select a plan to unlock exclusive features"})]})}),p.length>0?e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:p.map(n=>e.jsx(me,{title:n.title,price:n.price,features:n.features,highlighted:n.highlighted,onJoin:()=>de(n)},n.id))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading membership plans..."})})]}):e.jsxs(S,{children:[e.jsxs(M,{children:[e.jsx(k,{children:"Your Membership"}),e.jsx(G,{children:"Manage your subscription and benefits"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:d.tier}),e.jsx(We,{className:"bg-primary text-primary-foreground",children:"Active"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:ae()?.price||"N/A"}),e.jsx("ul",{className:"space-y-2 text-sm",children:ae()?.features?.length>0?ae().features.map((n,C)=>e.jsxs("li",{children:["âœ” ",n]},C)):e.jsx("li",{className:"text-muted-foreground",children:"No features listed"})})]}),e.jsx("div",{className:"flex gap-3",children:Q().length>0?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>A(!0),children:"Upgrade Plan"}),e.jsx(pe,{open:E,onOpenChange:A,children:e.jsxs(ge,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(je,{children:[e.jsx(ve,{className:"text-2xl font-heading text-center",children:"Upgrade Your Plan"}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Youâ€™re currently on ",e.jsx("strong",{children:d.tier})," plan â€” select a higher tier to unlock more benefits."]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mt-6",children:Q().map(n=>e.jsx(me,{title:n.title,price:n.price,features:n.features,highlighted:n.highlighted,onJoin:()=>{de(n),A(!1)}},n.id))}),e.jsx("div",{className:"pt-6 flex justify-center",children:e.jsx(f,{variant:"outline",onClick:()=>A(!1),children:"Close"})})]})})]}):e.jsx(f,{disabled:!0,className:"opacity-60 cursor-not-allowed",children:"Youâ€™re already on the highest plan"})})]})]})});case"editor":return e.jsx(Js,{});case"chat":return e.jsxs(S,{children:[e.jsxs(M,{children:[e.jsx(k,{children:"Messages"}),e.jsx(G,{children:"Connect with other members"})]}),e.jsx(R,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Conversations"}),[1,2,3].map(n=>e.jsxs("div",{className:"p-3 bg-muted rounded-lg cursor-pointer hover:bg-muted/80",children:[e.jsxs("div",{className:"font-medium",children:["Member ",n]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Last message..."})]},n))]}),e.jsx("div",{className:"md:col-span-2 p-6 bg-muted rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Select a conversation to view messages"})})]})})]});case"featured":return e.jsxs(S,{children:[e.jsxs(M,{children:[e.jsx(k,{children:"Featured Status"}),e.jsx(G,{children:"Your featured member benefits"})]}),e.jsx(R,{children:e.jsxs("div",{className:"p-6 bg-accent rounded-lg text-center",children:[e.jsx(ue,{className:"w-16 h-16 mx-auto mb-4 text-accent-foreground"}),e.jsx("h3",{className:"font-semibold text-xl mb-2",children:d.featured?"You're Featured!":"Upgrade to Get Featured!"}),e.jsx("p",{className:"text-sm mb-4",children:d.featured?"Your profile is highlighted across the platform":"Get priority placement and visibility"}),e.jsx(f,{onClick:()=>!d.featured&&j(!0),className:`${d.featured?"bg-green-600 hover:bg-green-700 cursor-default":"bg-primary hover:bg-primary/90"} text-primary-foreground`,disabled:!!d.featured,children:d.featured?"Activated":"Activate"}),d.featured&&d.featured_valid&&(()=>{const n=new Date(d.featured_valid),C=n.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),V=n-new Date,F=Math.ceil(V/(1e3*60*60*24));return e.jsxs("p",{className:`text-sm mt-3 ${F<=0?"text-red-500":F<=3?"text-yellow-500":"text-muted-foreground"}`,children:["Expires on ",e.jsx("strong",{children:C}),F>0?` Â· ${F} day${F>1?"s":""} left`:" Â· Expired"]})})()]})})]});case"settings":return e.jsxs(S,{children:[e.jsxs(M,{children:[e.jsx(k,{children:"Account Settings"}),e.jsx(G,{children:"Manage your account preferences and security"})]}),e.jsxs(R,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Account Information"}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"email",children:"Email"}),e.jsx(T,{id:"email",type:"email",defaultValue:d.email,disabled:!0})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Change Password"}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"current-password",children:"Current Password"}),e.jsx(T,{id:"current-password",type:"password",placeholder:"Enter current password",value:I,onChange:n=>s(n.target.value)})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"new-password",children:"New Password"}),e.jsx(T,{id:"new-password",type:"password",placeholder:"Enter new password",value:i,onChange:n=>_(n.target.value)})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsx(T,{id:"confirm-password",type:"password",placeholder:"Confirm new password",value:m,onChange:n=>W(n.target.value)})]}),e.jsx(f,{onClick:se,className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:K,children:K?"Updating...":"Update Password"})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Notifications"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]}),e.jsx(f,{variant:"outline",size:"sm",children:"Configure"})]})]})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-background flex",children:[e.jsx(Ms,{activeSection:t,onSectionChange:u}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-card border-b border-[#F3D6E3] sticky top-0 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:[e.jsx(ps,{className:"w-5 h-5 text-muted-foreground"}),e.jsx(T,{placeholder:"Search...",className:"border-none bg-muted"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(f,{variant:"ghost",size:"icon",children:e.jsx(ns,{className:"w-5 h-5"})}),e.jsxs(is,{children:[e.jsx(os,{src:d.image,alt:d.name}),e.jsx(ls,{children:d.name?.[0]||"G"})]})]})]})}),e.jsxs("div",{className:"p-6 space-y-4 bg-muted/30",children:[e.jsx(he,{icon:"ðŸŽ‰",title:"Join Our Community of Women",description:"Connect with amazing women entrepreneurs and grow together",ctaText:"Learn More",ctaLink:"#",gradient:"linear-gradient(135deg, #FFE9F2 0%, #FFF3F6 100%)"}),e.jsx(he,{icon:"ðŸ½ï¸",title:"Join Our Luncheon Near You",description:"Network with local women leaders at our exclusive events",ctaText:"Find Events",ctaLink:"#",gradient:"linear-gradient(135deg, #FFF3F6 0%, #E7C8FF 100%)"})]}),e.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[e.jsxs("h1",{className:"text-3xl font-heading mb-6",children:[t==="dashboard"&&"Welcome Back!",t==="profile"&&"My Profile",t==="membership"&&"Membership Plans",t==="editor"&&"Landing Page Editor",t==="chat"&&"Chat",t==="featured"&&"Featured",t==="settings"&&"Settings"]}),Ke()]})]}),e.jsx(hs,{profile:d,open:h,onOpenChange:c,onEdit:()=>{c(!1),P(!0)},onViewIncrement:Ye}),e.jsx(cs,{profile:d,open:b,onOpenChange:P,onSave:ze}),e.jsx(us,{isOpen:g,onClose:()=>y(!1),tier:B}),e.jsx(qs,{open:D,onOpenChange:j})]})};export{ca as default};
