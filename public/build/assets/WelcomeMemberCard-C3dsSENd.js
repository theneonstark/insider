import{r as l,j as e,L as w}from"./app-CfO8-n_1.js";import{I as b,z as f,v as C}from"./apis-C0X6QIXL.js";import{S as g,a as v,b as j,c as y,d as N}from"./select-D5xm67Ur.js";import{B as p,C as I,e as L,g as V}from"./index-CaGW5K1q.js";import{S as E}from"./ProfileViewModal-J7DCeJGS.js";import{B as k,E as z}from"./badge-DK2Wkkm5.js";import{u as B}from"./use-toast-B9jtGvV9.js";const _=({industries:a=[],regions:r=[],onSearch:m})=>{const[t,h]=l.useState(""),[i,n]=l.useState(""),[c,u]=l.useState(""),[o,d]=l.useState(!1),x=async()=>{const s={name:t.trim()||void 0,location:i||void 0,industry:c||void 0};if(!s.name&&!s.location&&!s.industry){f.error("Please enter at least one filter to search.");return}try{d(!0),m?.(s)}catch(S){console.error("Search failed:",S),f.error("Something went wrong while searching.")}finally{d(!1)}};return e.jsxs("div",{className:"bg-card p-6 rounded-2xl shadow-[var(--shadow-soft)] space-y-4",children:[e.jsx(b,{type:"text",placeholder:"Search by name",value:t,onChange:s=>h(s.target.value),className:"w-full"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(g,{value:i,onValueChange:n,children:[e.jsx(v,{children:e.jsx(j,{placeholder:"Select Location"})}),e.jsx(y,{className:"bg-popover",children:r.length>0?r.map(s=>e.jsx(N,{value:s.regionName,children:s.regionName},s.regionId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No locations available"})})]}),e.jsxs(g,{value:c,onValueChange:u,children:[e.jsx(v,{children:e.jsx(j,{placeholder:"Select Industry"})}),e.jsx(y,{className:"bg-popover",children:a.length>0?a.map(s=>e.jsx(N,{value:s.industryName,children:s.industryName},s.industryId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No industries available"})})]})]}),e.jsxs(p,{onClick:x,disabled:o,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),o?"Searching...":"Search"]})]})},$=({id:a,name:r,business_type:m,tier:t,image:h,views:i=0,onViewProfile:n})=>{const[c,u]=l.useState(i),{toast:o}=B(),d={Shine:"bg-secondary text-secondary-foreground",Sparkle:"bg-primary text-primary-foreground",Elite:"bg-accent text-accent-foreground"},x=async()=>{try{const s=await C(a);s.status&&u(s.views),o({description:"+1 view",duration:2e3}),n&&n()}catch(s){console.error("Failed to increase view:",s),o({description:"Failed to increase view",variant:"destructive"})}};return e.jsxs(I,{className:"animate-fade-in hover-lift overflow-hidden",children:[e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:h,alt:r,className:"w-full h-full object-cover"})}),e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:r}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m})]}),e.jsx(k,{className:d[t],children:t})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsxs("span",{children:[c," views"]})]})]}),e.jsxs(V,{className:"p-4 pt-0 flex gap-2",children:[e.jsx(p,{variant:"outline",size:"sm",onClick:x,className:"flex-1",children:"View"}),e.jsx(w,{href:`/profile/${a}`,children:e.jsx(p,{size:"sm",className:"flex-1 bg-primary hover:bg-primary/90 cursor-not-allowed text-primary-foreground",children:"Profile"})})]})]})};export{_ as S,$ as W};
