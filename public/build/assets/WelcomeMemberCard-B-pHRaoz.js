import{r as d,j as e,L as C}from"./app-Daafiwzt.js";import{I,z as j,x as z}from"./apis-62soDP9d.js";import{S as N,a as w,b as y,c as S,d as b}from"./select-BGmkjUc9.js";import{B as v,C as L,e as E,g as V}from"./index-BQp0PJpS.js";import{S as k}from"./ProfileViewModal-D4BpXfvF.js";import{S as B,B as F,E as T}from"./badge-jna4hdOI.js";import{u as W}from"./use-toast-dZ_Ftje7.js";const G=({industries:a=[],regions:r=[],onSearch:i})=>{const[t,c]=d.useState(""),[o,x]=d.useState(""),[l,p]=d.useState(""),[m,h]=d.useState(!1),u=async()=>{const s={name:t.trim()||void 0,location:o||void 0,industry:l||void 0};if(!s.name&&!s.location&&!s.industry){j.error("Please enter at least one filter to search.");return}try{h(!0),i?.(s)}catch(f){console.error("Search failed:",f),j.error("Something went wrong while searching.")}finally{h(!1)}};return e.jsxs("div",{className:"bg-card p-6 rounded-2xl shadow-[var(--shadow-soft)] space-y-4",children:[e.jsx(I,{type:"text",placeholder:"Search by name",value:t,onChange:s=>c(s.target.value),className:"w-full"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(N,{value:o,onValueChange:x,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select Location"})}),e.jsx(S,{className:"bg-popover",children:r.length>0?r.map(s=>e.jsx(b,{value:s.regionName,children:s.regionName},s.regionId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No locations available"})})]}),e.jsxs(N,{value:l,onValueChange:p,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select Industry"})}),e.jsx(S,{className:"bg-popover",children:a.length>0?a.map(s=>e.jsx(b,{value:s.industryName,children:s.industryName},s.industryId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No industries available"})})]})]}),e.jsxs(v,{onClick:u,disabled:m,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),m?"Searching...":"Search"]})]})},H=({id:a,name:r,industry:i,tier:t,region:c,image:o,views:x=0,onViewProfile:l,isFeatured:p})=>{const[m,h]=d.useState(x),{toast:u}=W(),s={Shine:"bg-secondary text-secondary-foreground",Sparkle:"bg-primary text-primary-foreground",Elite:"bg-accent text-accent-foreground"},f=async()=>{try{const n=await z(a);if(n.status){const g=Number(n.views);h(g),l&&l({id:a,name:r,industry:i,region:c,tier:t,image:o,views:g})}u({description:"+1 view",duration:2e3}),l&&l({id:a,name:r,industry:i,region:c,tier:t,image:o,views:Number(n.views)})}catch(n){console.error("Failed to increase view:",n),u({description:"Failed to increase view",variant:"destructive"})}};return e.jsxs(L,{className:"relative animate-fade-in hover-lift overflow-hidden",children:[p&&e.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white p-1 rounded-full shadow-md z-50",children:e.jsx(B,{size:16})}),e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:o,alt:r,className:"w-full h-full object-cover"})}),e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:r}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i?.industryName," (",c?.regionName,")"]})]}),e.jsx(F,{className:s[t],children:t?.tier_name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsxs("span",{children:[m," views"]})]})]}),e.jsxs(V,{className:"p-4 pt-0 flex gap-2",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:f,className:"flex-1",children:"View"}),e.jsx(C,{href:`/profile/${a}`,children:e.jsx(v,{size:"sm",className:"flex-1 bg-primary hover:bg-primary/90 cursor-not-allowed text-primary-foreground",children:"Profile"})})]})]})};export{G as S,H as W};
