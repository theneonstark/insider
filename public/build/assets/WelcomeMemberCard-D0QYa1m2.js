import{r as d,j as e,L as C}from"./app-AI8WfkgT.js";import{I,X as z,z as j,y as L}from"./apis-D7KhLFdH.js";import{S as N,a as w,b as y,c as S,d as b}from"./select-CBEZpMM4.js";import{B as f,C as F,f as V,h as k}from"./createLucideIcon-XXvPSRBs.js";import{S as B}from"./ProfileViewModal-B48PRAmI.js";import{S as E,B as T,E as W}from"./badge-BUjKz5h7.js";import{u as _}from"./use-toast-C7WN521E.js";const G=({industries:a=[],regions:m=[],onSearch:r})=>{const[c,o]=d.useState(""),[t,n]=d.useState(""),[h,l]=d.useState(""),[u,x]=d.useState(!1),v=async()=>{const s={name:c.trim()||void 0,location:t||void 0,industry:h||void 0};if(!s.name&&!s.location&&!s.industry){j.error("Please enter at least one filter to search.");return}try{x(!0),r?.(s)}catch(i){console.error("Search failed:",i),j.error("Something went wrong while searching.")}finally{x(!1)}},p=()=>{o(""),n(""),l(""),r?.({}),j.success("Filters cleared")};return e.jsxs("div",{className:"bg-card p-6 rounded-2xl shadow-[var(--shadow-soft)] space-y-4",children:[e.jsx(I,{type:"text",placeholder:"Search by name",value:c,onChange:s=>o(s.target.value),className:"w-full"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(N,{value:t,onValueChange:n,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select Location"})}),e.jsx(S,{className:"bg-popover",children:m.length>0?m.map(s=>e.jsx(b,{value:s.regionId,children:s.regionName},s.regionId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No locations available"})})]}),e.jsxs(N,{value:h,onValueChange:l,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select Industry"})}),e.jsx(S,{className:"bg-popover",children:a.length>0?a.map(s=>e.jsx(b,{value:s.industryId,children:s.industryName},s.industryId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No industries available"})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(f,{onClick:v,disabled:u,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),u?"Searching...":"Search"]}),e.jsxs(f,{variant:"outline",onClick:p,className:"w-full flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4"}),"Clear"]})]})]})},H=({id:a,featured:m,name:r,industry:c,tier:o,region:t,image:n,views:h=0,onViewProfile:l,isFeatured:u})=>{const[x,v]=d.useState(h),{toast:p}=_(),s=async()=>{try{const i=await L(a);if(i.status){const g=Number(i.views);v(g),l&&l({id:a,name:r,industry:c,region:t,tier:o,image:n,views:g})}p({description:"+1 view",duration:2e3}),l&&l({id:a,name:r,industry:c,region:t,tier:o,image:n,views:Number(i.views)})}catch(i){console.error("Failed to increase view:",i),p({description:"Failed to increase view",variant:"destructive"})}};return e.jsxs(F,{className:"relative animate-fade-in hover-lift overflow-hidden",children:[(u||m)&&e.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white p-1 rounded-full shadow-md z-50",children:e.jsx(E,{size:16})}),e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:n,alt:r,className:"w-full h-full object-cover"})}),e.jsxs(V,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:r}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[c?.industryName," ",t?.regionName&&`(${t?.regionName})`]})]}),e.jsx(T,{className:"p-1",children:o?.tier_name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsxs("span",{children:[x," views"]})]})]}),e.jsxs(k,{className:"p-4 pt-0 flex gap-2",children:[e.jsx(f,{variant:"outline",size:"sm",onClick:s,className:"flex-1",children:"View"}),e.jsx(C,{href:`/profile/${a}`,children:e.jsx(f,{size:"sm",className:"flex-1 bg-primary hover:bg-primary/90 cursor-not-allowed text-primary-foreground",children:"Profile"})})]})]})};export{G as S,H as W};
