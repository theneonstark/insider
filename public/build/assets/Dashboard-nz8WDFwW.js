import{j as e,L as Us,r as t,u as Oe}from"./app-BTEVETe7.js";import{B as f,u as $s,c as he,C as P,a as M,b as D,d as V,e as O}from"./index-BlntvapR.js";import{S as Ue,B as se,E as Bs}from"./badge-BiyTrerM.js";import{P as J,I as k,z as y,i as zs,j as Vs,k as Gs,C as $e,D as Ys,m as Ks,g as Hs,l as Js,n as qs}from"./apis-14JQ1T_J.js";import{L as b}from"./label-DVpMnUC5.js";import{H as Zs,C as Qs,S as Xs,L as Ws,T as te,B as et,a as st,e as tt,b as at,E as rt,c as nt,A as Te,U as it,d as ot}from"./EditAdModal-Dd9_WqOS.js";import{c as K}from"./createLucideIcon-DjgeByG2.js";import{C as lt,a as ct,b as dt,c as ut,d as mt,e as ht,P as xt,M as ke}from"./carousel-CT1sLZAr.js";import{d as pt,D as xe,a as pe,b as fe,c as ge,S as ft,P as gt,X as jt}from"./ProfileViewModal-Bk3cq6jr.js";import{e as Be,f as vt,u as ze,g as G,h as Ve,i as Ge,j as yt,S as Ee,a as Me,b as De,c as Re,d as Le}from"./select-DLyrexvj.js";import{E as Ye,l as Ke,u as He,a as Je,C as ae}from"./react-stripe.esm-DsP6R8Xz.js";import"./arrow-left-BoF7BPqv.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Nt=K("message-circle",bt);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ct=K("message-square",wt);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Pt=K("panels-top-left",St);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ce=K("plus",At);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_t=K("save",Ft);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],de=K("trash-2",It);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kt=K("user",Tt),Et=({activeSection:a,onSectionChange:o})=>{const n=[{id:"dashboard",label:"Dashboard",icon:Zs},{id:"profile",label:"My Profile",icon:kt},{id:"membership",label:"Membership Plans",icon:lt},{id:"editor",label:"Landing Page Editor",icon:Pt},{id:"ads",label:"Ads Management",icon:Qs},{id:"chat",label:"Chat",icon:Ct},{id:"featured",label:"Featured",icon:Ue},{id:"settings",label:"Settings",icon:Xs}];return e.jsxs("aside",{className:"w-[260px] min-h-screen bg-[#FFF1F4] border-r border-[#F3D6E3] flex flex-col",children:[e.jsx("div",{className:"p-6",children:e.jsx("h2",{className:"text-xl font-heading text-foreground",children:"My Dashboard"})}),e.jsx("nav",{className:"flex-1 px-3 space-y-1",children:n.map(i=>{const d=i.icon,x=a===i.id;return e.jsxs("button",{onClick:()=>o(i.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${x?"bg-primary text-primary-foreground shadow-sm":"text-[#5A5A5A] hover:bg-primary/10"}`,children:[e.jsx(d,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:i.label})]},i.id)})}),e.jsx("div",{className:"p-4 border-t border-[#F3D6E3]",children:e.jsx(Us,{href:"/auth/logout",children:e.jsxs(f,{variant:"ghost",className:"w-full justify-start gap-3 text-[#5A5A5A] hover:bg-primary/10",children:[e.jsx(Ws,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})})})]})};var ue="rovingFocusGroup.onEntryFocus",Mt={bubbles:!1,cancelable:!0},X="RovingFocusGroup",[me,qe,Dt]=vt(X),[Rt,Ze]=Be(X,[Dt]),[Lt,Ot]=Rt(X),Qe=t.forwardRef((a,o)=>e.jsx(me.Provider,{scope:a.__scopeRovingFocusGroup,children:e.jsx(me.Slot,{scope:a.__scopeRovingFocusGroup,children:e.jsx(Ut,{...a,ref:o})})}));Qe.displayName=X;var Ut=t.forwardRef((a,o)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:d=!1,dir:x,currentTabStopId:c,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:v,onEntryFocus:u,preventScrollOnEntryFocus:m=!1,...g}=a,C=t.useRef(null),z=$s(o,C),R=Ve(x),[L,N]=Ge({prop:c,defaultProp:j??null,onChange:v,caller:X}),[I,E]=t.useState(!1),A=yt(u),T=qe(n),Y=t.useRef(!1),[r,l]=t.useState(0);return t.useEffect(()=>{const w=C.current;if(w)return w.addEventListener(ue,A),()=>w.removeEventListener(ue,A)},[A]),e.jsx(Lt,{scope:n,orientation:i,dir:R,loop:d,currentTabStopId:L,onItemFocus:t.useCallback(w=>N(w),[N]),onItemShiftTab:t.useCallback(()=>E(!0),[]),onFocusableItemAdd:t.useCallback(()=>l(w=>w+1),[]),onFocusableItemRemove:t.useCallback(()=>l(w=>w-1),[]),children:e.jsx(J.div,{tabIndex:I||r===0?-1:0,"data-orientation":i,...g,ref:z,style:{outline:"none",...a.style},onMouseDown:G(a.onMouseDown,()=>{Y.current=!0}),onFocus:G(a.onFocus,w=>{const F=!Y.current;if(w.target===w.currentTarget&&F&&!I){const q=new CustomEvent(ue,Mt);if(w.currentTarget.dispatchEvent(q),!q.defaultPrevented){const H=T().filter($=>$.focusable),ne=H.find($=>$.active),W=H.find($=>$.id===L),ie=[ne,W,...H].filter(Boolean).map($=>$.ref.current);es(ie,m)}}Y.current=!1}),onBlur:G(a.onBlur,()=>E(!1))})})}),Xe="RovingFocusGroupItem",We=t.forwardRef((a,o)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:d=!1,tabStopId:x,children:c,...j}=a,v=ze(),u=x||v,m=Ot(Xe,n),g=m.currentTabStopId===u,C=qe(n),{onFocusableItemAdd:z,onFocusableItemRemove:R,currentTabStopId:L}=m;return t.useEffect(()=>{if(i)return z(),()=>R()},[i,z,R]),e.jsx(me.ItemSlot,{scope:n,id:u,focusable:i,active:d,children:e.jsx(J.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...j,ref:o,onMouseDown:G(a.onMouseDown,N=>{i?m.onItemFocus(u):N.preventDefault()}),onFocus:G(a.onFocus,()=>m.onItemFocus(u)),onKeyDown:G(a.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){m.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const I=zt(N,m.orientation,m.dir);if(I!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let A=C().filter(T=>T.focusable).map(T=>T.ref.current);if(I==="last")A.reverse();else if(I==="prev"||I==="next"){I==="prev"&&A.reverse();const T=A.indexOf(N.currentTarget);A=m.loop?Vt(A,T+1):A.slice(T+1)}setTimeout(()=>es(A))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:L!=null}):c})})});We.displayName=Xe;var $t={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bt(a,o){return o!=="rtl"?a:a==="ArrowLeft"?"ArrowRight":a==="ArrowRight"?"ArrowLeft":a}function zt(a,o,n){const i=Bt(a.key,n);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return $t[i]}function es(a,o=!1){const n=document.activeElement;for(const i of a)if(i===n||(i.focus({preventScroll:o}),document.activeElement!==n))return}function Vt(a,o){return a.map((n,i)=>a[(o+i)%a.length])}var Gt=Qe,Yt=We,re="Tabs",[Kt]=Be(re,[Ze]),ss=Ze(),[Ht,je]=Kt(re),ts=t.forwardRef((a,o)=>{const{__scopeTabs:n,value:i,onValueChange:d,defaultValue:x,orientation:c="horizontal",dir:j,activationMode:v="automatic",...u}=a,m=Ve(j),[g,C]=Ge({prop:i,onChange:d,defaultProp:x??"",caller:re});return e.jsx(Ht,{scope:n,baseId:ze(),value:g,onValueChange:C,orientation:c,dir:m,activationMode:v,children:e.jsx(J.div,{dir:m,"data-orientation":c,...u,ref:o})})});ts.displayName=re;var as="TabsList",rs=t.forwardRef((a,o)=>{const{__scopeTabs:n,loop:i=!0,...d}=a,x=je(as,n),c=ss(n);return e.jsx(Gt,{asChild:!0,...c,orientation:x.orientation,dir:x.dir,loop:i,children:e.jsx(J.div,{role:"tablist","aria-orientation":x.orientation,...d,ref:o})})});rs.displayName=as;var ns="TabsTrigger",is=t.forwardRef((a,o)=>{const{__scopeTabs:n,value:i,disabled:d=!1,...x}=a,c=je(ns,n),j=ss(n),v=cs(c.baseId,i),u=ds(c.baseId,i),m=i===c.value;return e.jsx(Yt,{asChild:!0,...j,focusable:!d,active:m,children:e.jsx(J.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:v,...x,ref:o,onMouseDown:G(a.onMouseDown,g=>{!d&&g.button===0&&g.ctrlKey===!1?c.onValueChange(i):g.preventDefault()}),onKeyDown:G(a.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(i)}),onFocus:G(a.onFocus,()=>{const g=c.activationMode!=="manual";!m&&!d&&g&&c.onValueChange(i)})})})});is.displayName=ns;var os="TabsContent",ls=t.forwardRef((a,o)=>{const{__scopeTabs:n,value:i,forceMount:d,children:x,...c}=a,j=je(os,n),v=cs(j.baseId,i),u=ds(j.baseId,i),m=i===j.value,g=t.useRef(m);return t.useEffect(()=>{const C=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(C)},[]),e.jsx(pt,{present:d||m,children:({present:C})=>e.jsx(J.div,{"data-state":m?"active":"inactive","data-orientation":j.orientation,role:"tabpanel","aria-labelledby":v,hidden:!C,id:u,tabIndex:0,...c,ref:o,style:{...a.style,animationDuration:g.current?"0s":void 0},children:C&&x})})});ls.displayName=os;function cs(a,o){return`${a}-trigger-${o}`}function ds(a,o){return`${a}-content-${o}`}var Jt=ts,us=rs,ms=is,hs=ls;const qt=Jt,xs=t.forwardRef(({className:a,...o},n)=>e.jsx(us,{ref:n,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...o}));xs.displayName=us.displayName;const Z=t.forwardRef(({className:a,...o},n)=>e.jsx(ms,{ref:n,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a),...o}));Z.displayName=ms.displayName;const Q=t.forwardRef(({className:a,...o},n)=>e.jsx(hs,{ref:n,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...o}));Q.displayName=hs.displayName;const Zt=()=>{const{props:a}=Oe(),o=a.user.tier_name,[n,i]=t.useState({}),[d,x]=t.useState([]),[c,j]=t.useState([]),[v,u]=t.useState([]),m=()=>{const r={id:Date.now().toString(),title:"",description:"",price:""};x([...d,r])},g=(r,l,w)=>{x(d.map(F=>F.id===r?{...F,[l]:w}:F))},C=r=>{x(d.filter(l=>l.id!==r))},z=()=>{const r={id:Date.now().toString(),name:"",role:"",content:"",rating:5};j([...c,r])},R=(r,l,w)=>{j(c.map(F=>F.id===r?{...F,[l]:w}:F))},L=r=>{j(c.filter(l=>l.id!==r))},N=()=>{const r={id:Date.now().toString(),title:"",description:"",validUntil:""};u([...v,r])},I=(r,l,w)=>{u(v.map(F=>F.id===r?{...F,[l]:w}:F))},E=r=>{u(v.filter(l=>l.id!==r))},A=r=>{i(r.about||{}),x(r.services||[]),j((r.testimonials||[]).map(l=>({id:l.id?.toString(),name:l.name,role:l.designation,content:l.message,rating:l.rating}))),u((r.offers||[]).map(l=>({id:l.id?.toString(),title:l.title,description:l.description,validUntil:l.valid_until||null})))},T=async()=>{try{y.loading("Fetching landing page data...",{id:"fetching"});const r=await zs();r.status===200&&r.data?.data?(A(r.data.data),y.success("Data loaded successfully",{id:"fetching"})):y.error("Failed to fetch landing page",{id:"fetching"})}catch(r){console.error("Error fetching landing page:",r),y.error("Something went wrong while fetching data",{id:"fetching"})}};t.useEffect(()=>{T()},[]);const Y=async()=>{try{y.loading("Saving landing page...",{id:"saving"}),(await Vs([{type:"about",data:n},{type:"service",data:d},{type:"testimonial",data:c},{type:"offer",data:v}])).status===200?(y.success("Landing page updated successfully!",{id:"saving"}),await T()):y.error("Failed to update landing page",{id:"saving"})}catch(r){console.error("Error saving landing page:",r),y.error("Something went wrong while saving",{id:"saving"})}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(P,{children:[e.jsxs(M,{children:[e.jsx(D,{className:"text-2xl font-heading",children:"Landing Page Editor"}),e.jsx(V,{children:"Customize your personal landing page to showcase your services and expertise"})]}),o==="Shine Plus"?e.jsxs(O,{children:[e.jsx("div",{className:"flex gap-3 mb-6",children:e.jsxs(f,{onClick:Y,className:"bg-primary hover:bg-primary/90 text-primary-foreground gap-2",children:[e.jsx(_t,{className:"w-4 h-4"})," Save & Publish"]})}),e.jsxs(qt,{defaultValue:"about",className:"space-y-6",children:[e.jsxs(xs,{className:"grid grid-cols-4 w-full",children:[e.jsx(Z,{value:"about",children:"About Me"}),e.jsx(Z,{value:"services",children:"Products / Services"}),e.jsx(Z,{value:"testimonials",children:"Testimonials"}),e.jsx(Z,{value:"offers",children:"Offers"})]}),e.jsx(Q,{value:"about",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(b,{children:"Bio"}),e.jsx(te,{rows:6,value:n.bio||"",onChange:r=>i({...n,bio:r.target.value}),placeholder:"Tell your story..."})]})}),e.jsxs(Q,{value:"services",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"My Favorite Product / Services"}),e.jsxs(f,{onClick:m,size:"sm",className:"gap-2",children:[e.jsx(ce,{className:"w-4 h-4"})," Add"]})]}),d.map(r=>e.jsx(P,{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Service Title"}),e.jsx(k,{value:r.title,onChange:l=>g(r.id,"title",l.target.value),placeholder:"e.g., Brand Strategy Consultation"})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Description"}),e.jsx(te,{rows:3,value:r.description,onChange:l=>g(r.id,"description",l.target.value),placeholder:"Describe your service..."})]})]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:()=>C(r.id),className:"ml-2 text-destructive",children:e.jsx(de,{className:"w-4 h-4"})})]})})},r.id))]}),e.jsxs(Q,{value:"testimonials",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Client Testimonials"}),e.jsxs(f,{onClick:z,size:"sm",className:"gap-2",children:[e.jsx(ce,{className:"w-4 h-4"})," Add"]})]}),c.map(r=>e.jsx(P,{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Name"}),e.jsx(k,{value:r.name,onChange:l=>R(r.id,"name",l.target.value)})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Role/Company"}),e.jsx(k,{value:r.role,onChange:l=>R(r.id,"role",l.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Content"}),e.jsx(te,{rows:3,value:r.content,onChange:l=>R(r.id,"content",l.target.value)})]}),e.jsx("div",{children:e.jsx(k,{type:"hidden",min:"1",max:"5",value:5,onChange:l=>R(r.id,"rating",l.target.value)})})]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:()=>L(r.id),className:"ml-2 text-destructive",children:e.jsx(de,{className:"w-4 h-4"})})]})})},r.id))]}),e.jsxs(Q,{value:"offers",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Promotional Offers"}),e.jsxs(f,{onClick:N,size:"sm",className:"gap-2",children:[e.jsx(ce,{className:"w-4 h-4"})," Add"]})]}),v.map(r=>e.jsx(P,{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Title"}),e.jsx(k,{value:r.title,onChange:l=>I(r.id,"title",l.target.value)})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Description"}),e.jsx(te,{rows:2,value:r.description,onChange:l=>I(r.id,"description",l.target.value)})]})]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:()=>E(r.id),className:"ml-2 text-destructive",children:e.jsx(de,{className:"w-4 h-4"})})]})})},r.id))]})]})]}):e.jsxs("div",{className:"py-10 text-center text-muted-foreground border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Upgrade Required"}),e.jsx("p",{className:"mb-4",children:"Editing your landing page requires a Shine Plus membership."})]})]})})},Qt=Ke("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),Xt=({days:a,clientSecret:o,onClose:n})=>{const i=He(),d=Je(),[x,c]=t.useState(!1),j=async v=>{if(v.preventDefault(),!i||!d||!o)return;c(!0);const{error:u,paymentIntent:m}=await i.confirmCardPayment(o,{payment_method:{card:d.getElement(ae)}});u?y.error(u.message):(y.success("Payment successful! Feature will activate shortly."),n()),c(!1)};return e.jsxs("form",{onSubmit:j,className:"space-y-4 mt-4",children:[e.jsx(b,{children:"Card Details"}),e.jsx("div",{className:"border p-3 rounded-md bg-white",children:e.jsx(ae,{options:{style:{base:{fontSize:"16px","::placeholder":{color:"#9ca3af"}}}}})}),e.jsx(f,{disabled:x,className:"w-full",children:x?"Processing...":`Pay $${a}`})]})},Wt=({open:a,onOpenChange:o})=>{const[n,i]=t.useState(""),[d,x]=t.useState(1),[c,j]=t.useState(""),v=async m=>{if(m.preventDefault(),!n||Number(n)<=0){y.error("Please enter valid number of days");return}try{const g=await Gs({days:Number(n)});if(!g.data.clientSecret){y.error("Failed to initialize payment");return}j(g.data.clientSecret),x(2)}catch(g){console.log(g),y.error("Server error")}},u=()=>{i(""),j(""),x(1),o(!1)};return e.jsx(xe,{open:a,onOpenChange:u,children:e.jsxs(pe,{className:"sm:max-w-md",children:[e.jsx(fe,{children:e.jsx(ge,{children:d===1?"Activate Feature":`Pay for ${n} Days`})}),d===1&&e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsx(b,{htmlFor:"days",children:"Number of Days"}),e.jsx(k,{id:"days",type:"number",placeholder:"Enter number of days",value:n,onChange:m=>i(m.target.value),min:"1"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(f,{className:"flex-1",type:"submit",children:"Continue"}),e.jsx(f,{className:"flex-1",type:"button",variant:"outline",onClick:u,children:"Cancel"})]})]}),d===2&&e.jsx(Ye,{stripe:Qt,children:e.jsx(Xt,{days:Number(n),clientSecret:c,onClose:u})})]})})},ea=Ke("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),sa=({amount:a,clientSecret:o,onSuccess:n})=>{const i=He(),d=Je(),[x,c]=t.useState(!1),j=async v=>{if(v.preventDefault(),!i||!d)return;c(!0);const{error:u,paymentIntent:m}=await i.confirmCardPayment(o,{payment_method:{card:d.getElement(ae)}});u?y.error(u.message):(y.success("Ad payment successful!"),n()),c(!1)};return e.jsxs("form",{onSubmit:j,className:"space-y-4 mt-4",children:[e.jsx(b,{children:"Card Details"}),e.jsx("div",{className:"border p-3 rounded-md bg-white",children:e.jsx(ae,{options:{style:{base:{fontSize:"16px","::placeholder":{color:"#9ca3af"}}}}})}),e.jsx(f,{disabled:x,className:"w-full",children:x?"Processing...":`Pay $${a}`})]})},ta=({open:a,onOpenChange:o,adForm:n})=>{const[i,d]=t.useState(1),[x,c]=t.useState(0),[j,v]=t.useState(""),u=()=>{d(1),c(0),v(""),o(!1)},m=async()=>{const g=new Date(n.start_date),C=new Date(n.end_date),R=(Math.ceil((C-g)/(1e3*60*60*24))+1)*1;c(R);try{const L=new FormData;Object.entries(n).forEach(([I,E])=>{E!=null&&L.append(I,E)});const N=await $e(L);if(!N.data.clientSecret){y.error("Unable to initialize payment!");return}v(N.data.clientSecret),d(2)}catch(L){console.log(L),y.error("Payment initialization failed")}};return e.jsx(xe,{open:a,onOpenChange:u,children:e.jsxs(pe,{className:"sm:max-w-md",children:[e.jsx(fe,{children:e.jsx(ge,{children:i===1?"Confirm Ad Payment":`Pay $${x}`})}),i===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm",children:["You will be charged ",e.jsx("b",{children:"$1 per day"})," for your selected date range."]}),e.jsx(f,{onClick:m,className:"w-full",children:"Proceed to Pay"}),e.jsx(f,{variant:"outline",className:"w-full",onClick:u,children:"Cancel"})]}),i===2&&e.jsx(Ye,{stripe:ea,children:e.jsx(sa,{amount:x,clientSecret:j,onSuccess:u})})]})})},pa=a=>{const{props:o}=Oe(),n=o.auth?.user,[i,d]=t.useState("dashboard"),[x,c]=t.useState(!1),[j,v]=t.useState(!1),[u,m]=t.useState([]),[g,C]=t.useState(!1),[z,R]=t.useState(null),[L,N]=t.useState(!1),[I,E]=t.useState(!1),A=["Twinkle","Sparkle","Shine","Shine Plus"],[T,Y]=t.useState(""),[r,l]=t.useState(""),[w,F]=t.useState(""),[q,H]=t.useState(!1),[ne,W]=t.useState(!1),[ve,ie]=t.useState(null),[$,ye]=t.useState(null),[be,Ne]=t.useState(null),[ps,fs]=t.useState([]),[gs,js]=t.useState([]),[vs,ys]=t.useState([]),[S,bs]=t.useState({state:"",industry:""}),[oe,Ns]=t.useState(""),[we,ws]=t.useState(""),[Ce,Cs]=t.useState(!1),[Ss,Se]=t.useState(!1),[Pe,Ps]=t.useState(null);t.useEffect(()=>{(async()=>{try{const h=await Ys();h.data.status&&(js(h.data.region||[]),ys(h.data.industry||[]))}catch(h){console.log("Failed to load filters",h)}})()},[]);const Ae=()=>{if(!p?.tier||p.tier.toLowerCase()==="free")return u;const s=A.findIndex(h=>h.toLowerCase()===p.tier.toLowerCase());return u.filter(h=>A.findIndex(B=>B.toLowerCase()===h.title.toLowerCase())>s)},As=async()=>{if(!T||!r||!w){y.error("Please fill in all fields");return}if(r!==w){y.error("New passwords do not match");return}H(!0);try{const s=await qs({current_password:T,new_password:r,new_password_confirmation:w});s.data.status?(y.success(s.data.message||"Password updated successfully!"),Y(""),l(""),F("")):y.error(s.data.message||"Failed to update password")}catch(s){console.error(s),y.error("Something went wrong. Please try again.")}finally{H(!1)}},[p,Fe]=t.useState({name:n?.name||"Guest User",email:n?.email||"guest@example.com",phone:n?.phone||"",businessId:n?.business_type||"",businessType:a?.user?.business_type||"",stateId:n?.state||"",state:a?.user?.state||"",dob:n?.dob||"",bio:n?.bio||"",tier:a?.user?.tier_name||null,views:n?.views||0,featured:n?.featured,featured_valid:n?.featured_valid,image:n?.image}),Fs=s=>{if(!s||typeof s!="string")return[];try{const h=JSON.parse(s);return Array.isArray(h)?h:[]}catch{return console.warn("Failed to parse features:",s),[]}};t.useEffect(()=>{(async()=>{try{const B=((await Ks())?.data?.data||[]).map(_=>({id:_.id,title:_.tier_name,price:`$${_.price} / year`,features:Fs(_.feature),highlighted:_.highlighted===1||_.highlighted==="1"}));console.log("API Membership Plans:",B),m(B)}catch(h){console.error("Failed to fetch membership plans:",h),m([])}})()},[]);const _s=s=>{Fe(s)},_e=s=>{R(s),C(!0)},Is=()=>{Fe(s=>({...s,views:s.views||0}))},le=()=>u.find(s=>s.title===p.tier),Ts=async()=>{try{const s=await Hs();s.data.status&&fs(s.data.data)}catch(s){console.log("Failed to fetch running ads",s)}};t.useEffect(()=>{Ts()},[]);const[ks,Ie]=t.useState([]),Es=async()=>{try{const s=await Js();s.data.status&&Ie(s.data.data)}catch(s){console.log("Failed to fetch ads",s)}};t.useEffect(()=>{Es()},[]);const Ms=s=>{ie(s),W(!0)},Ds=s=>{Ie(h=>h.map(U=>U.id===s.id?s:U))},Rs=s=>{const h=s.target.files?.[0];if(h){ye(h);const U=URL.createObjectURL(h);Ne(U)}},Ls=async()=>{if(!S.start_date){y.error("Start date is required");return}if(!S.end_date){y.error("End date is required");return}if(new Date(S.end_date)<new Date(S.start_date)){y.error("End date cannot be before start date");return}const s=new FormData;s.append("user_id",n.id),s.append("title",oe),s.append("link",we),s.append("start_date",S.start_date),s.append("end_date",S.end_date),s.append("active",Ce?1:0),S.state&&s.append("region_id",S.state),S.industry&&s.append("industry_id",S.industry),$&&s.append("image",$);try{const h=await $e(s);if(!h.data.status){y.error("Failed to initiate payment");return}const U=h.data.clientSecret,B=h.data.public_key;Ps({clientSecret:U,publicKey:B,adMeta:{user_id:n.id,title:oe,start_date:S.start_date,end_date:S.end_date,region_id:S.state,industry_id:S.industry,image:$}}),Se(!0)}catch(h){console.error(h),y.error("Something went wrong while creating ad")}},ee=(s,h)=>{bs(U=>({...U,[s]:h}))},Os=()=>{switch(i){case"dashboard":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(P,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Current Tier"}),e.jsx(Ue,{className:"w-4 h-4 text-primary"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.tier||"No Plan"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:p.tier?"Active member":"Choose a plan"})]})]}),e.jsxs(P,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Profile Views"}),e.jsx(Bs,{className:"w-4 h-4 text-primary"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.views||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),e.jsxs(P,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Messages"}),e.jsx(Nt,{className:"w-4 h-4 text-primary"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"5"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"3 unread"})]})]}),e.jsxs(P,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Featured"}),e.jsx(Te,{className:"w-4 h-4 text-primary"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.featured?"Yes":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:p.featured?(()=>{const s=new Date(p.featured_valid),h=s.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),B=s-new Date,_=Math.ceil(B/(1e3*60*60*24));return e.jsxs("span",{children:["Expires on ",e.jsx("strong",{children:h}),_>0?` · ${_} day${_>1?"s":""} left`:" · Expired"]})})():e.jsx(f,{onClick:()=>{d("featured")},children:"Upgrade"})})]})]})]}),e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(D,{children:"Quick Actions"})}),e.jsxs(O,{className:"flex flex-wrap gap-3",children:[e.jsx(f,{onClick:()=>c(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"View My Profile"}),e.jsx(f,{variant:"outline",onClick:()=>d("profile"),children:"Edit Profile"}),e.jsx(f,{variant:"outline",onClick:()=>d("chat"),children:"Check Messages"})]})]})]});case"profile":return e.jsxs(P,{children:[e.jsxs(M,{children:[e.jsx(D,{children:"My Profile"}),e.jsx(V,{children:"View and edit your business information"})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Full Name"}),e.jsx("p",{className:"text-lg font-semibold",children:p.name})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Email"}),e.jsx("p",{className:"text-lg",children:p.email})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Industry"}),e.jsx("p",{className:"text-lg",children:p.businessType||"Not set"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(f,{onClick:()=>v(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Edit Profile"}),e.jsx(f,{variant:"outline",onClick:()=>c(!0),children:"Preview Profile"})]})]})]});case"membership":return e.jsx("div",{className:"space-y-6",children:!p.tier||p.tier.toLowerCase()==="free plan"?e.jsxs(e.Fragment,{children:[e.jsx(P,{children:e.jsxs(M,{children:[e.jsx(D,{children:"Choose Your Membership Plan"}),e.jsx(V,{children:"Select a plan to unlock exclusive features"})]})}),u.length>0?e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:u.map(s=>e.jsx(ke,{title:s.title,price:s.price,features:s.features,highlighted:s.highlighted,onJoin:()=>_e(s)},s.id))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading membership plans..."})})]}):e.jsxs(P,{children:[e.jsxs(M,{children:[e.jsx(D,{children:"Your Membership"}),e.jsx(V,{children:"Manage your subscription and benefits"})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:p.tier}),e.jsx(se,{className:"bg-primary text-primary-foreground",children:"Active"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:le()?.price||"N/A"}),e.jsx("ul",{className:"space-y-2 text-sm",children:le()?.features?.length>0?le().features.map((s,h)=>e.jsxs("li",{children:["✔ ",s]},h)):e.jsx("li",{className:"text-muted-foreground",children:"No features listed"})})]}),e.jsx("div",{className:"flex gap-3",children:Ae().length>0?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>E(!0),children:"Upgrade Plan"}),e.jsx(xe,{open:I,onOpenChange:E,children:e.jsxs(pe,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(fe,{children:[e.jsx(ge,{className:"text-2xl font-heading text-center",children:"Upgrade Your Plan"}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["You’re currently on ",e.jsx("strong",{children:p.tier})," plan — select a higher tier to unlock more benefits."]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mt-6",children:Ae().map(s=>e.jsx(ke,{title:s.title,price:s.price,features:s.features,highlighted:s.highlighted,onJoin:()=>{_e(s),E(!1)}},s.id))}),e.jsx("div",{className:"pt-6 flex justify-center",children:e.jsx(f,{variant:"outline",onClick:()=>E(!1),children:"Close"})})]})})]}):e.jsx(f,{disabled:!0,className:"opacity-60 cursor-not-allowed",children:"You’re already on the highest plan"})})]})]})});case"ads":return e.jsxs(P,{children:[e.jsxs(M,{children:[e.jsx(D,{children:"Ads Management"}),e.jsx(V,{children:"Create and manage promotional ads"})]}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"ad-title",children:"Ad Title"}),e.jsx(k,{id:"ad-title",placeholder:"Promote your business",value:oe,onChange:s=>Ns(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"ad-link",children:"CTA Link"}),e.jsx(k,{id:"ad-link",placeholder:"https://...",value:we,onChange:s=>ws(s.target.value)})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"ad-state",children:"State"}),e.jsxs(Ee,{value:S.state,onValueChange:s=>ee("state",s),children:[e.jsx(Me,{children:e.jsx(De,{placeholder:"Select State"})}),e.jsx(Re,{className:"bg-popover",children:gs.map(s=>e.jsx(Le,{value:s.regionId.toString(),children:s.regionName},s.regionId))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"ad-industry",children:"Industry"}),e.jsxs(Ee,{value:S.industry,onValueChange:s=>ee("industry",s),children:[e.jsx(Me,{children:e.jsx(De,{placeholder:"Select Industry"})}),e.jsx(Re,{className:"bg-popover",children:vs.map(s=>e.jsx(Le,{value:s.industryId.toString(),children:s.industryName},s.industryId))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Ad Image"}),e.jsxs("div",{className:"space-y-3",children:[be?e.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border",children:[e.jsx("img",{src:be,alt:"Ad preview",className:"w-full h-48 object-cover"}),e.jsx(f,{type:"button",size:"icon",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>{ye(null),Ne(null)},children:e.jsx(jt,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",onClick:()=>document.getElementById("new-ad-image")?.click(),children:[e.jsx(it,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload image"})]}),e.jsx("input",{id:"new-ad-image",type:"file",accept:"image/*",className:"hidden",onChange:Rs})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"start-date",children:"Start Date"}),e.jsx(k,{id:"start-date",type:"date",value:S.start_date,onChange:s=>ee("start_date",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"end-date",children:"End Date"}),e.jsx(k,{id:"end-date",type:"date",value:S.end_date,onChange:s=>ee("end_date",s.target.value)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{id:"ad-active",checked:Ce,onCheckedChange:Cs}),e.jsx(b,{htmlFor:"ad-active",children:"Active"})]}),e.jsx(f,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:Ls,children:"Save Ad"})]}),e.jsxs("div",{className:"pt-6 border-t",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Your Ads"}),e.jsx("div",{className:"space-y-3",children:ks.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted rounded-lg",children:[s.image&&e.jsx("img",{src:s.image,alt:s.title,className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]}),e.jsxs(se,{variant:(s?.end_date,"secondary"),className:"p-2",children:["Valid Date : ",s.end_date]}),e.jsx(se,{variant:s.active?"default":"secondary",className:"p-2",children:s.active?"Active":"Inactive"}),e.jsx(f,{size:"sm",variant:"outline",onClick:()=>Ms(s),children:"Edit"})]},s.id))})]})]})]});case"editor":return e.jsx(Zt,{});case"chat":return e.jsxs(P,{children:[e.jsxs(M,{children:[e.jsx(D,{children:"Messages"}),e.jsx(V,{children:"Connect with other members"})]}),e.jsx(O,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Conversations"}),[1,2,3].map(s=>e.jsxs("div",{className:"p-3 bg-muted rounded-lg cursor-pointer hover:bg-muted/80",children:[e.jsxs("div",{className:"font-medium",children:["Member ",s]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Last message..."})]},s))]}),e.jsx("div",{className:"md:col-span-2 p-6 bg-muted rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Select a conversation to view messages"})})]})})]});case"featured":return e.jsxs(P,{children:[e.jsxs(M,{children:[e.jsx(D,{children:"Featured Status"}),e.jsx(V,{children:"Your featured member benefits"})]}),e.jsx(O,{children:e.jsxs("div",{className:"p-6 bg-accent rounded-lg text-center",children:[e.jsx(Te,{className:"w-16 h-16 mx-auto mb-4 text-accent-foreground"}),e.jsx("h3",{className:"font-semibold text-xl mb-2",children:p.featured?"You're Featured!":"Upgrade to Get Featured!"}),e.jsx("p",{className:"text-sm mb-4",children:p.featured?"Your profile is highlighted across the platform":"Get priority placement and visibility"}),e.jsx(f,{onClick:()=>!p.featured&&N(!0),className:`${p.featured?"bg-green-600 hover:bg-green-700 cursor-default":"bg-primary hover:bg-primary/90"} text-primary-foreground`,disabled:!!p.featured,children:p.featured?"Activated":"Activate"}),p.featured&&p.featured_valid&&(()=>{const s=new Date(p.featured_valid),h=s.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),B=s-new Date,_=Math.ceil(B/(1e3*60*60*24));return e.jsxs("p",{className:`text-sm mt-3 ${_<=0?"text-red-500":_<=3?"text-yellow-500":"text-muted-foreground"}`,children:["Expires on ",e.jsx("strong",{children:h}),_>0?` · ${_} day${_>1?"s":""} left`:" · Expired"]})})()]})})]});case"settings":return e.jsxs(P,{children:[e.jsxs(M,{children:[e.jsx(D,{children:"Account Settings"}),e.jsx(V,{children:"Manage your account preferences and security"})]}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Account Information"}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"email",children:"Email"}),e.jsx(k,{id:"email",type:"email",defaultValue:p.email,disabled:!0})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Change Password"}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"current-password",children:"Current Password"}),e.jsx(k,{id:"current-password",type:"password",placeholder:"Enter current password",value:T,onChange:s=>Y(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"new-password",children:"New Password"}),e.jsx(k,{id:"new-password",type:"password",placeholder:"Enter new password",value:r,onChange:s=>l(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsx(k,{id:"confirm-password",type:"password",placeholder:"Confirm new password",value:w,onChange:s=>F(s.target.value)})]}),e.jsx(f,{onClick:As,className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:q,children:q?"Updating...":"Update Password"})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Notifications"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]}),e.jsx(f,{variant:"outline",size:"sm",children:"Configure"})]})]})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-background flex",children:[e.jsx(Et,{activeSection:i,onSectionChange:d}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-card border-b border-[#F3D6E3] sticky top-0 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:[e.jsx(ft,{className:"w-5 h-5 text-muted-foreground"}),e.jsx(k,{placeholder:"Search...",className:"border-none bg-muted"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(f,{variant:"ghost",size:"icon",children:e.jsx(et,{className:"w-5 h-5"})}),e.jsxs(st,{children:[e.jsx(tt,{src:p.image,alt:p.name}),e.jsx(at,{children:p.name?.[0]||"G"})]})]})]})}),e.jsx("div",{className:"p-6 space-y-4 bg-muted/30",children:e.jsxs(P,{children:[e.jsxs(M,{children:[e.jsx(D,{children:"Active Campaigns"}),e.jsx(V,{children:"View all running ads in a carousel"})]}),e.jsx(O,{children:e.jsxs(ct,{className:"w-full",children:[e.jsx(dt,{className:"-ml-2",children:ps.filter(s=>s.active).map(s=>e.jsx(ut,{className:"pl-2 md:basis-1/2 lg:basis-1/3",children:e.jsx(P,{className:"p-4 border border-border/60 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[s.image&&e.jsx("div",{className:"w-full h-40 rounded-lg overflow-hidden bg-muted border",children:e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-foreground truncate",children:s.title}),e.jsx(se,{variant:s.createdBy==="admin"?"default":"secondary",children:s.createdBy==="admin"?"Platform":"User"})]}),s.link&&e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline inline-block",children:"Learn More →"})]})]})})},s.id))}),e.jsx(mt,{}),e.jsx(ht,{})]})})]})}),e.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[e.jsxs("h1",{className:"text-3xl font-heading mb-6",children:[i==="dashboard"&&"Welcome Back!",i==="profile"&&"My Profile",i==="membership"&&"Membership Plans",i==="editor"&&"Landing Page Editor",i==="chat"&&"Chat",i==="featured"&&"Featured",i==="settings"&&"Settings"]}),Os()]})]}),e.jsx(gt,{profile:p,open:x,onOpenChange:c,onEdit:()=>{c(!1),v(!0)},onViewIncrement:Is}),e.jsx(rt,{profile:p,open:j,onOpenChange:v,onSave:_s}),e.jsx(xt,{isOpen:g,onClose:()=>C(!1),tier:z}),e.jsx(Wt,{open:L,onOpenChange:N}),e.jsx(nt,{ad:ve,open:ne,onOpenChange:W,onSave:Ds}),Pe&&e.jsx(ta,{open:Ss,onOpenChange:Se,adForm:Pe.adMeta})]})};export{pa as default};
