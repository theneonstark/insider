import{j as e,L as lt,r as t,u as We}from"./app-D6LzHqwB.js";import{a as J,B as p,u as ct,c as fe,C,b as D,d as L,e as G,f as M}from"./createLucideIcon-Dh0uagfR.js";import{S as es,B as q,E as ot}from"./badge-fsgmt7Vx.js";import{X as ss,P as Z,I,i as dt,z as j,j as mt,k as ut,l as ts,m as ht,n as xt,D as pt,o as ft,g as gt,p as jt,q as vt,s as yt,t as bt,v as ze,w as Nt}from"./apis-Ctao0D2N.js";import{L as b}from"./label-B14A3-ym.js";import{H as wt,C as Ct,U as St,S as Pt,L as At,T as ae,M as Ft,B as _t,a as Be,f as Ve,b as Ge,E as kt,c as It,A as Ye,d as Et,e as Tt}from"./EditAdModal-CDj9tGAm.js";import{C as Mt,a as Rt,A as Dt,b as Lt,c as Ot,d as Ut,e as $t,P as zt,M as Ke}from"./embla-carousel-autoplay.esm-3CfE0_F_.js";import{d as Bt,D as ge,a as je,b as ve,c as ye,S as Vt,P as Gt}from"./ProfileViewModal-D21Z6cJ3.js";import{e as as,f as Yt,u as rs,g as Y,h as ns,i as is,j as Kt,S as qe,a as He,b as Je,c as Ze,d as Qe}from"./select-C512jMRN.js";import{E as ls,l as cs,u as os,a as ds,C as re}from"./react-stripe.esm-DRBXpPQC.js";import"./arrow-left-C2fZykAe.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ht=J("message-square",qt);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Zt=J("panels-top-left",Jt);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ue=J("plus",Qt);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Wt=J("save",Xt);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],he=J("trash-2",ea);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ta=J("user",sa),Xe=({activeSection:r,onSectionChange:o,mobile:n=!1,onClose:a})=>{const m=[{id:"dashboard",label:"Dashboard",icon:wt},{id:"profile",label:"My Profile",icon:ta},{id:"membership",label:"Membership Plans",icon:Mt},{id:"editor",label:"Landing Page Editor",icon:Zt},{id:"ads",label:"Ads Management",icon:Ct},{id:"friends",label:"Friends",icon:St},{id:"chat",label:"Chat",icon:Ht},{id:"featured",label:"Featured",icon:es},{id:"settings",label:"Settings",icon:Pt}];return e.jsxs("aside",{className:`
        w-[260px] min-h-screen bg-[#FFF1F4] border-r border-[#F3D6E3] 
        flex flex-col relative
        ${n?"shadow-xl":""}
      `,children:[n&&e.jsx("button",{onClick:a,className:`\r
            absolute right-3 top-3 \r
            p-2 rounded-md\r
            bg-white/60 backdrop-blur-md\r
            hover:bg-white transition\r
          `,children:e.jsx(ss,{className:"w-5 h-5"})}),e.jsx("div",{className:"p-6",children:e.jsx("h2",{className:"text-xl font-heading text-foreground",children:"My Dashboard"})}),e.jsx("nav",{className:"flex-1 px-3 space-y-1",children:m.map(u=>{const d=u.icon,g=r===u.id;return e.jsxs("button",{onClick:()=>{o(u.id),n&&a&&a()},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${g?"bg-primary text-primary-foreground shadow-sm":"text-[#5A5A5A] hover:bg-primary/10"}`,children:[e.jsx(d,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:u.label})]},u.id)})}),e.jsx("div",{className:"p-4 border-t border-[#F3D6E3]",children:e.jsx(lt,{href:"/auth/logout",children:e.jsxs(p,{variant:"ghost",className:`\r
              w-full justify-start gap-3 \r
              text-[#5A5A5A] hover:bg-primary/10\r
            `,children:[e.jsx(At,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})})})]})};var xe="rovingFocusGroup.onEntryFocus",aa={bubbles:!1,cancelable:!0},W="RovingFocusGroup",[pe,ms,ra]=Yt(W),[na,us]=as(W,[ra]),[ia,la]=na(W),hs=t.forwardRef((r,o)=>e.jsx(pe.Provider,{scope:r.__scopeRovingFocusGroup,children:e.jsx(pe.Slot,{scope:r.__scopeRovingFocusGroup,children:e.jsx(ca,{...r,ref:o})})}));hs.displayName=W;var ca=t.forwardRef((r,o)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:m=!1,dir:u,currentTabStopId:d,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:y,onEntryFocus:x,preventScrollOnEntryFocus:h=!1,...v}=r,w=t.useRef(null),B=ct(o,w),$=ns(u),[_,N]=is({prop:d,defaultProp:g??null,onChange:y,caller:W}),[E,k]=t.useState(!1),A=Kt(x),T=ms(n),V=t.useRef(!1),[K,i]=t.useState(0);return t.useEffect(()=>{const l=w.current;if(l)return l.addEventListener(xe,A),()=>l.removeEventListener(xe,A)},[A]),e.jsx(ia,{scope:n,orientation:a,dir:$,loop:m,currentTabStopId:_,onItemFocus:t.useCallback(l=>N(l),[N]),onItemShiftTab:t.useCallback(()=>k(!0),[]),onFocusableItemAdd:t.useCallback(()=>i(l=>l+1),[]),onFocusableItemRemove:t.useCallback(()=>i(l=>l-1),[]),children:e.jsx(Z.div,{tabIndex:E||K===0?-1:0,"data-orientation":a,...v,ref:B,style:{outline:"none",...r.style},onMouseDown:Y(r.onMouseDown,()=>{V.current=!0}),onFocus:Y(r.onFocus,l=>{const z=!V.current;if(l.target===l.currentTarget&&z&&!E){const P=new CustomEvent(xe,aa);if(l.currentTarget.dispatchEvent(P),!P.defaultPrevented){const H=T().filter(U=>U.focusable),ie=H.find(U=>U.active),ee=H.find(U=>U.id===_),le=[ie,ee,...H].filter(Boolean).map(U=>U.ref.current);fs(le,h)}}V.current=!1}),onBlur:Y(r.onBlur,()=>k(!1))})})}),xs="RovingFocusGroupItem",ps=t.forwardRef((r,o)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:m=!1,tabStopId:u,children:d,...g}=r,y=rs(),x=u||y,h=la(xs,n),v=h.currentTabStopId===x,w=ms(n),{onFocusableItemAdd:B,onFocusableItemRemove:$,currentTabStopId:_}=h;return t.useEffect(()=>{if(a)return B(),()=>$()},[a,B,$]),e.jsx(pe.ItemSlot,{scope:n,id:x,focusable:a,active:m,children:e.jsx(Z.span,{tabIndex:v?0:-1,"data-orientation":h.orientation,...g,ref:o,onMouseDown:Y(r.onMouseDown,N=>{a?h.onItemFocus(x):N.preventDefault()}),onFocus:Y(r.onFocus,()=>h.onItemFocus(x)),onKeyDown:Y(r.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const E=ma(N,h.orientation,h.dir);if(E!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let A=w().filter(T=>T.focusable).map(T=>T.ref.current);if(E==="last")A.reverse();else if(E==="prev"||E==="next"){E==="prev"&&A.reverse();const T=A.indexOf(N.currentTarget);A=h.loop?ua(A,T+1):A.slice(T+1)}setTimeout(()=>fs(A))}}),children:typeof d=="function"?d({isCurrentTabStop:v,hasTabStop:_!=null}):d})})});ps.displayName=xs;var oa={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function da(r,o){return o!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function ma(r,o,n){const a=da(r.key,n);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return oa[a]}function fs(r,o=!1){const n=document.activeElement;for(const a of r)if(a===n||(a.focus({preventScroll:o}),document.activeElement!==n))return}function ua(r,o){return r.map((n,a)=>r[(o+a)%r.length])}var ha=hs,xa=ps,ne="Tabs",[pa]=as(ne,[us]),gs=us(),[fa,be]=pa(ne),js=t.forwardRef((r,o)=>{const{__scopeTabs:n,value:a,onValueChange:m,defaultValue:u,orientation:d="horizontal",dir:g,activationMode:y="automatic",...x}=r,h=ns(g),[v,w]=is({prop:a,onChange:m,defaultProp:u??"",caller:ne});return e.jsx(fa,{scope:n,baseId:rs(),value:v,onValueChange:w,orientation:d,dir:h,activationMode:y,children:e.jsx(Z.div,{dir:h,"data-orientation":d,...x,ref:o})})});js.displayName=ne;var vs="TabsList",ys=t.forwardRef((r,o)=>{const{__scopeTabs:n,loop:a=!0,...m}=r,u=be(vs,n),d=gs(n);return e.jsx(ha,{asChild:!0,...d,orientation:u.orientation,dir:u.dir,loop:a,children:e.jsx(Z.div,{role:"tablist","aria-orientation":u.orientation,...m,ref:o})})});ys.displayName=vs;var bs="TabsTrigger",Ns=t.forwardRef((r,o)=>{const{__scopeTabs:n,value:a,disabled:m=!1,...u}=r,d=be(bs,n),g=gs(n),y=Ss(d.baseId,a),x=Ps(d.baseId,a),h=a===d.value;return e.jsx(xa,{asChild:!0,...g,focusable:!m,active:h,children:e.jsx(Z.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":m?"":void 0,disabled:m,id:y,...u,ref:o,onMouseDown:Y(r.onMouseDown,v=>{!m&&v.button===0&&v.ctrlKey===!1?d.onValueChange(a):v.preventDefault()}),onKeyDown:Y(r.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&d.onValueChange(a)}),onFocus:Y(r.onFocus,()=>{const v=d.activationMode!=="manual";!h&&!m&&v&&d.onValueChange(a)})})})});Ns.displayName=bs;var ws="TabsContent",Cs=t.forwardRef((r,o)=>{const{__scopeTabs:n,value:a,forceMount:m,children:u,...d}=r,g=be(ws,n),y=Ss(g.baseId,a),x=Ps(g.baseId,a),h=a===g.value,v=t.useRef(h);return t.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),e.jsx(Bt,{present:m||h,children:({present:w})=>e.jsx(Z.div,{"data-state":h?"active":"inactive","data-orientation":g.orientation,role:"tabpanel","aria-labelledby":y,hidden:!w,id:x,tabIndex:0,...d,ref:o,style:{...r.style,animationDuration:v.current?"0s":void 0},children:w&&u})})});Cs.displayName=ws;function Ss(r,o){return`${r}-trigger-${o}`}function Ps(r,o){return`${r}-content-${o}`}var ga=js,As=ys,Fs=Ns,_s=Cs;const ja=ga,ks=t.forwardRef((r,o)=>{const{className:n,...a}=r;return e.jsx(As,{ref:o,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...a})});ks.displayName=As.displayName;const Q=t.forwardRef((r,o)=>{const{className:n,...a}=r;return e.jsx(Fs,{ref:o,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n),...a})});Q.displayName=Fs.displayName;const X=t.forwardRef((r,o)=>{const{className:n,...a}=r;return e.jsx(_s,{ref:o,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...a})});X.displayName=_s.displayName;const va=({setActiveSection:r})=>{const{props:o}=We(),n=o.user.tier_name,[a,m]=t.useState({}),[u,d]=t.useState([]),[g,y]=t.useState([]),[x,h]=t.useState([]),v=()=>{const i={id:Date.now().toString(),title:"",description:"",price:""};d([...u,i])},w=(i,l,z)=>{d(u.map(P=>P.id===i?{...P,[l]:z}:P))},B=i=>{d(u.filter(l=>l.id!==i))},$=()=>{const i={id:Date.now().toString(),name:"",role:"",content:"",rating:5};y([...g,i])},_=(i,l,z)=>{y(g.map(P=>P.id===i?{...P,[l]:z}:P))},N=i=>{y(g.filter(l=>l.id!==i))},E=()=>{const i={id:Date.now().toString(),title:"",description:"",validUntil:""};h([...x,i])},k=(i,l,z)=>{h(x.map(P=>P.id===i?{...P,[l]:z}:P))},A=i=>{h(x.filter(l=>l.id!==i))},T=i=>{m(i.about||{}),d(i.services||[]),y((i.testimonials||[]).map(l=>({id:l.id?.toString(),name:l.name,role:l.designation,content:l.message,rating:l.rating}))),h((i.offers||[]).map(l=>({id:l.id?.toString(),title:l.title,description:l.description,validUntil:l.valid_until||null})))},V=async()=>{try{const i=await dt();i.status===200&&i.data?.data?T(i.data.data):j.error("Failed to fetch landing page",{id:"fetching"})}catch(i){console.error("Error fetching landing page:",i),j.error("Something went wrong while fetching data",{id:"fetching"})}};t.useEffect(()=>{V()},[]);const K=async()=>{try{j.loading("Saving landing page...",{id:"saving"}),(await mt([{type:"about",data:a},{type:"service",data:u},{type:"testimonial",data:g},{type:"offer",data:x}])).status===200?(j.success("Landing page updated successfully!",{id:"saving"}),await V()):j.error("Failed to update landing page",{id:"saving"})}catch(i){console.error("Error saving landing page:",i),j.error("Something went wrong while saving",{id:"saving"})}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(C,{className:"w-full",children:[e.jsxs(D,{children:[e.jsx(L,{className:"text-xl sm:text-2xl font-heading",children:"Landing Page Editor"}),e.jsx(G,{className:"text-sm sm:text-base",children:"Customize your personal landing page to showcase your services & expertise"})]}),n==="Shine Plus"?e.jsxs(M,{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center",children:e.jsxs(p,{onClick:K,className:"bg-primary hover:bg-primary/90 text-primary-foreground gap-2 w-full sm:w-auto",children:[e.jsx(Wt,{className:"w-4 h-4"})," Save & Publish"]})}),e.jsxs(ja,{defaultValue:"about",className:"space-y-6",children:[e.jsxs(ks,{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 w-full mb-10",children:[e.jsx(Q,{value:"about",children:"About Me"}),e.jsx(Q,{value:"services",children:"Products / Services"}),e.jsx(Q,{value:"testimonials",children:"Testimonials"}),e.jsx(Q,{value:"offers",children:"Offers"})]}),e.jsx(X,{value:"about",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(b,{children:"Bio"}),e.jsx(ae,{rows:6,className:"min-h-[120px] sm:min-h-[150px]",value:a.bio||"",onChange:i=>m({...a,bio:i.target.value}),placeholder:"Tell your story..."})]})}),e.jsxs(X,{value:"services",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"My Favorite Product / Services"}),e.jsxs(p,{size:"sm",onClick:v,className:"gap-2",children:[e.jsx(ue,{className:"w-4 h-4"})," Add"]})]}),u.map(i=>e.jsx(C,{className:"p-3 sm:p-4 rounded-xl shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"",children:[e.jsx(b,{children:"Service Title"}),e.jsx(I,{className:"mt-1",value:i.title,onChange:l=>w(i.id,"title",l.target.value),placeholder:"Service title..."})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Description"}),e.jsx(ae,{rows:3,className:"min-h-[90px] sm:min-h-[110px]",value:i.description,onChange:l=>w(i.id,"description",l.target.value),placeholder:"Description..."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>B(i.id),className:"text-destructive",children:e.jsx(he,{className:"w-4 h-4"})})})]})},i.id))]}),e.jsxs(X,{value:"testimonials",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Client Testimonials"}),e.jsxs(p,{size:"sm",onClick:$,className:"gap-2",children:[e.jsx(ue,{className:"w-4 h-4"})," Add"]})]}),g.map(i=>e.jsx(C,{className:"p-3 sm:p-4 rounded-xl shadow",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Name"}),e.jsx(I,{className:"mt-1",value:i.name,onChange:l=>_(i.id,"name",l.target.value)})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Role / Company"}),e.jsx(I,{className:"mt-1",value:i.role,onChange:l=>_(i.id,"role",l.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Content"}),e.jsx(ae,{rows:3,className:"min-h-[90px] sm:min-h-[110px]",value:i.content,onChange:l=>_(i.id,"content",l.target.value)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>N(i.id),className:"text-destructive",children:e.jsx(he,{className:"w-4 h-4"})})})]})},i.id))]}),e.jsxs(X,{value:"offers",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Promotional Offers"}),e.jsxs(p,{size:"sm",onClick:E,className:"gap-2",children:[e.jsx(ue,{className:"w-4 h-4"})," Add"]})]}),x.map(i=>e.jsx(C,{className:"p-3 sm:p-4 rounded-xl shadow",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Title"}),e.jsx(I,{className:"mt-1",value:i.title,onChange:l=>k(i.id,"title",l.target.value)})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Description"}),e.jsx(ae,{rows:2,className:"min-h-[80px]",value:i.description,onChange:l=>k(i.id,"description",l.target.value)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>A(i.id),className:"text-destructive",children:e.jsx(he,{className:"w-4 h-4"})})})]})},i.id))]})]})]}):e.jsxs("div",{className:"py-10 text-center text-muted-foreground border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Upgrade Required"}),e.jsx("p",{className:"mb-4",children:"Editing your landing page requires a Shine Plus membership."}),e.jsx(p,{onClick:()=>r("membership"),className:"bg-primary text-white px-6 py-2 rounded-md",children:"Upgrade Now"})]})]})})},ya=cs("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),ba=({days:r,clientSecret:o,onClose:n})=>{const a=os(),m=ds(),[u,d]=t.useState(!1),g=async y=>{if(y.preventDefault(),!a||!m||!o)return;d(!0);const{error:x,paymentIntent:h}=await a.confirmCardPayment(o,{payment_method:{card:m.getElement(re)}});x?j.error(x.message):(j.success("Payment successful! Feature will activate shortly."),n()),d(!1)};return e.jsxs("form",{onSubmit:g,className:"space-y-4 mt-4",children:[e.jsx(b,{children:"Card Details"}),e.jsx("div",{className:"border p-3 rounded-md bg-white",children:e.jsx(re,{options:{style:{base:{fontSize:"16px","::placeholder":{color:"#9ca3af"}}}}})}),e.jsx(p,{disabled:u,className:"w-full",children:u?"Processing...":`Pay $${r}`})]})},Na=({open:r,onOpenChange:o})=>{const[n,a]=t.useState(""),[m,u]=t.useState(1),[d,g]=t.useState(""),y=async h=>{if(h.preventDefault(),!n||Number(n)<=0){j.error("Please enter valid number of days");return}try{const v=await ut({days:Number(n)});if(!v.data.clientSecret){j.error("Failed to initialize payment");return}g(v.data.clientSecret),u(2)}catch(v){console.log(v),j.error("Server error")}},x=()=>{a(""),g(""),u(1),o(!1)};return e.jsx(ge,{open:r,onOpenChange:x,children:e.jsxs(je,{className:"sm:max-w-md",children:[e.jsx(ve,{children:e.jsx(ye,{children:m===1?"Activate Feature":`Pay for ${n} Days`})}),m===1&&e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsx(b,{htmlFor:"days",children:"Number of Days"}),e.jsx(I,{id:"days",type:"number",placeholder:"Enter number of days",value:n,onChange:h=>a(h.target.value),min:"1"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(p,{className:"flex-1",type:"submit",children:"Continue"}),e.jsx(p,{className:"flex-1",type:"button",variant:"outline",onClick:x,children:"Cancel"})]})]}),m===2&&e.jsx(ls,{stripe:ya,children:e.jsx(ba,{days:Number(n),clientSecret:d,onClose:x})})]})})},wa=cs("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),Ca=({amount:r,clientSecret:o,onSuccess:n})=>{const a=os(),m=ds(),[u,d]=t.useState(!1),g=async y=>{if(y.preventDefault(),!a||!m)return;d(!0);const{error:x,paymentIntent:h}=await a.confirmCardPayment(o,{payment_method:{card:m.getElement(re)}});x?j.error(x.message):(j.success("Ad payment successful!"),n()),d(!1)};return e.jsxs("form",{onSubmit:g,className:"space-y-4 mt-4",children:[e.jsx(b,{children:"Card Details"}),e.jsx("div",{className:"border p-3 rounded-md bg-white",children:e.jsx(re,{options:{style:{base:{fontSize:"16px","::placeholder":{color:"#9ca3af"}}}}})}),e.jsx(p,{disabled:u,className:"w-full",children:u?"Processing...":`Pay $${r}`})]})},Sa=({open:r,onOpenChange:o,adForm:n})=>{const[a,m]=t.useState(1),[u,d]=t.useState(0),[g,y]=t.useState(""),x=()=>{m(1),d(0),y(""),o(!1)},h=async()=>{const v=new Date(n.start_date),w=new Date(n.end_date),$=(Math.ceil((w-v)/(1e3*60*60*24))+1)*1;d($);try{const _=new FormData;Object.entries(n).forEach(([E,k])=>{k!=null&&_.append(E,k)});const N=await ts(_);if(!N.data.clientSecret){j.error("Unable to initialize payment!");return}y(N.data.clientSecret),m(2)}catch(_){console.log(_),j.error("Payment initialization failed")}};return e.jsx(ge,{open:r,onOpenChange:x,children:e.jsxs(je,{className:"sm:max-w-md",children:[e.jsx(ve,{children:e.jsx(ye,{children:a===1?"Confirm Ad Payment":`Pay $${u}`})}),a===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm",children:["You will be charged ",e.jsx("b",{children:"$1 per day"})," for your selected date range."]}),e.jsx(p,{onClick:h,className:"w-full",children:"Proceed to Pay"}),e.jsx(p,{variant:"outline",className:"w-full",onClick:x,children:"Cancel"})]}),a===2&&e.jsx(ls,{stripe:wa,children:e.jsx(Ca,{amount:u,clientSecret:g,onSuccess:x})})]})})},La=r=>{const{props:o}=We(),n=o.auth?.user,[a,m]=t.useState("dashboard"),[u,d]=t.useState(!1),[g,y]=t.useState(!1),[x,h]=t.useState([]),[v,w]=t.useState(!1),[B,$]=t.useState(null),[_,N]=t.useState(!1),[E,k]=t.useState(!1),A=["Twinkle","Sparkle","Shine","Shine Plus"],[T,V]=t.useState(""),[K,i]=t.useState(""),[l,z]=t.useState(""),[P,H]=t.useState(!1),[ie,ee]=t.useState(!1),[Ne,le]=t.useState(null),[U,we]=t.useState(null),[Ce,Se]=t.useState(null),[Is,Es]=t.useState([]),[Ts,Ms]=t.useState([]),[Rs,Ds]=t.useState([]),[S,Ls]=t.useState({state:"",industry:""}),[ce,Os]=t.useState(""),[Pe,Us]=t.useState(""),[Ae,$s]=t.useState(!1),[zs,Fe]=t.useState(!1),[_e,Bs]=t.useState(null),[Vs,ke]=t.useState(!1),[Ie,Gs]=t.useState([]),[Ys,Ee]=t.useState([]),[se,Te]=t.useState(null),[Ks,Me]=t.useState([]),[oe,Re]=t.useState("");t.useEffect(()=>{(async()=>{try{const c=await pt();c.data.status&&(Ms(c.data.region||[]),Ds(c.data.industry||[]))}catch(c){console.log("Failed to load filters",c)}})()},[]);const De=()=>{if(!f?.tier||f.tier.toLowerCase()==="free")return x;const s=A.findIndex(c=>c.toLowerCase()===f.tier.toLowerCase());return x.filter(c=>A.findIndex(O=>O.toLowerCase()===c.title.toLowerCase())>s)},qs=async()=>{if(!T||!K||!l){j.error("Please fill in all fields");return}if(K!==l){j.error("New passwords do not match");return}H(!0);try{const s=await bt({current_password:T,new_password:K,new_password_confirmation:l});s.data.status?(j.success(s.data.message||"Password updated successfully!"),V(""),i(""),z("")):j.error(s.data.message||"Failed to update password")}catch(s){console.error(s),j.error("Something went wrong. Please try again.")}finally{H(!1)}},[f,Le]=t.useState({name:n?.name||"Guest User",email:n?.email||"guest@example.com",phone:n?.phone||"",businessId:n?.business_type||"",businessType:r?.user?.business_type||"",stateId:n?.state||"",state:r?.user?.state||"",dob:n?.dob||"",bio:n?.bio||"",tier:r?.user?.tier_name||null,views:n?.views||0,featured:n?.featured,featured_valid:n?.featured_valid,image:n?.image}),Hs=s=>{if(!s||typeof s!="string")return[];try{const c=JSON.parse(s);return Array.isArray(c)?c:[]}catch{return console.warn("Failed to parse features:",s),[]}};t.useEffect(()=>{(async()=>{try{const O=((await ft())?.data?.data||[]).map(F=>({id:F.id,title:F.tier_name,price:`$${F.price} / year`,features:Hs(F.feature),highlighted:F.highlighted===1||F.highlighted==="1"}));console.log("API Membership Plans:",O),h(O)}catch(c){console.error("Failed to fetch membership plans:",c),h([])}})()},[]);const Js=s=>{Le(s)},Oe=s=>{$(s),w(!0)},Zs=()=>{Le(s=>({...s,views:s.views||0}))},de=()=>x.find(s=>s.title===f.tier),Qs=async()=>{try{const s=await gt();s.data.status&&Es(s.data.data)}catch(s){console.log("Failed to fetch running ads",s)}};t.useEffect(()=>{Qs()},[]);const[Xs,Ue]=t.useState([]),Ws=async()=>{try{const s=await jt();s.data.status&&Ue(s.data.data)}catch(s){console.log("Failed to fetch ads",s)}};t.useEffect(()=>{Ws()},[]);const et=s=>{le(s),ee(!0)},st=s=>{Ue(c=>c.map(R=>R.id===s.id?s:R))},tt=s=>{const c=s.target.files?.[0];if(c){we(c);const R=URL.createObjectURL(c);Se(R)}},at=async()=>{if(!S.start_date){j.error("Start date is required");return}if(!S.end_date){j.error("End date is required");return}if(new Date(S.end_date)<new Date(S.start_date)){j.error("End date cannot be before start date");return}const s=new FormData;s.append("user_id",n.id),s.append("title",ce),s.append("link",Pe),s.append("start_date",S.start_date),s.append("end_date",S.end_date),s.append("active",Ae?1:0),S.state&&s.append("region_id",S.state),S.industry&&s.append("industry_id",S.industry),U&&s.append("image",U);try{const c=await ts(s);if(!c.data.status){j.error("Failed to initiate payment");return}const R=c.data.clientSecret,O=c.data.public_key;Bs({clientSecret:R,publicKey:O,adMeta:{user_id:n.id,title:ce,start_date:S.start_date,end_date:S.end_date,region_id:S.state,industry_id:S.industry,image:U}}),Fe(!0)}catch(c){console.error(c),j.error(c?.response?.data?.message||"Internal Server Error")}},te=(s,c)=>{Ls(R=>({...R,[s]:c}))};t.useEffect(()=>{me()},[]);const me=async()=>{try{const s=await ht();Gs(s.data)}catch(s){console.log(s)}};t.useEffect(()=>{rt()},[]);const rt=async()=>{try{const s=await xt();Ee(s.data)}catch(s){console.log("Chat List Error:",s),j.error(s?.response?.data?.message||"Failed to load conversations")}},$e=async s=>{try{Te(s);const c=await ze(s.id);Me(c.data)}catch(c){console.log("Open Chat Error:",c),j.error(c?.response?.data?.message||"Unable to load chat")}},nt=async()=>{if(!oe.trim())return;await Nt(se.id,oe),Re("");const s=await ze(se.id);Me(s.data)},it=()=>{switch(a){case"dashboard":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Current Tier"}),e.jsx(es,{className:"w-4 h-4 text-primary"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.tier||"No Plan"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:f.tier?"Active member":"Choose a plan"})]})]}),e.jsxs(C,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Profile Views"}),e.jsx(ot,{className:"w-4 h-4 text-primary"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.views||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),e.jsxs(C,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Featured"}),e.jsx(Ye,{className:"w-4 h-4 text-primary"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.featured?"Yes":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:f.featured?(()=>{const s=new Date(f.featured_valid),c=s.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),O=s-new Date,F=Math.ceil(O/(1e3*60*60*24));return e.jsxs("span",{children:["Expires on ",e.jsx("strong",{children:c}),F>0?` Â· ${F} day${F>1?"s":""} left`:" Â· Expired"]})})():e.jsx(p,{onClick:()=>{m("featured")},children:"Upgrade"})})]})]})]}),e.jsxs(C,{children:[e.jsx(D,{children:e.jsx(L,{children:"Quick Actions"})}),e.jsxs(M,{className:"flex flex-wrap gap-3",children:[e.jsx(p,{onClick:()=>d(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"View My Profile"}),e.jsx(p,{variant:"outline",onClick:()=>m("profile"),children:"Edit Profile"}),e.jsx(p,{variant:"outline",onClick:()=>m("chat"),children:"Check Messages"})]})]})]});case"profile":return e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(L,{children:"My Profile"}),e.jsx(G,{children:"View and edit your business information"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Full Name"}),e.jsx("p",{className:"text-lg font-semibold",children:f.name})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Email"}),e.jsx("p",{className:"text-lg",children:f.email})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Industry"}),e.jsx("p",{className:"text-lg",children:f.businessType||"Not set"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(p,{onClick:()=>y(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Edit Profile"}),e.jsx(p,{variant:"outline",onClick:()=>d(!0),children:"Preview Profile"})]})]})]});case"membership":return e.jsx("div",{className:"space-y-6",children:!f.tier||f.tier.toLowerCase()==="free plan"?e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsxs(D,{children:[e.jsx(L,{children:"Choose Your Membership Plan"}),e.jsx(G,{children:"Select a plan to unlock exclusive features"})]})}),x.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:x.map(s=>e.jsx(Ke,{title:s.title,price:s.price,features:s.features,highlighted:s.highlighted,onJoin:()=>Oe(s)},s.id))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading membership plans..."})})]}):e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(L,{children:"Your Membership"}),e.jsx(G,{children:"Manage your subscription and benefits"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:f.tier}),e.jsx(q,{className:"bg-primary text-primary-foreground",children:"Active"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:de()?.price||"N/A"}),e.jsx("ul",{className:"space-y-2 text-sm",children:de()?.features?.length>0?de().features.map((s,c)=>e.jsxs("li",{children:["âœ” ",s]},c)):e.jsx("li",{className:"text-muted-foreground",children:"No features listed"})})]}),e.jsx("div",{className:"flex gap-3",children:De().length>0?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>k(!0),children:"Upgrade Plan"}),e.jsx(ge,{open:E,onOpenChange:k,children:e.jsxs(je,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ve,{children:[e.jsx(ye,{className:"text-2xl font-heading text-center",children:"Upgrade Your Plan"}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Youâ€™re currently on ",e.jsx("strong",{children:f.tier})," plan â€” select a higher tier to unlock more benefits."]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mt-6",children:De().map(s=>e.jsx(Ke,{title:s.title,price:s.price,features:s.features,highlighted:s.highlighted,onJoin:()=>{Oe(s),k(!1)}},s.id))}),e.jsx("div",{className:"pt-6 flex justify-center",children:e.jsx(p,{variant:"outline",onClick:()=>k(!1),children:"Close"})})]})})]}):e.jsx(p,{disabled:!0,className:"opacity-60 cursor-not-allowed",children:"Youâ€™re already on the highest plan"})})]})]})});case"ads":return e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(L,{children:"Ads Management"}),e.jsx(G,{children:"Create and manage promotional ads"})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"ad-title",children:"Ad Title"}),e.jsx(I,{id:"ad-title",placeholder:"Promote your business",value:ce,onChange:s=>Os(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"ad-link",children:"CTA Link"}),e.jsx(I,{id:"ad-link",placeholder:"https://...",value:Pe,onChange:s=>Us(s.target.value)})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"ad-state",children:"State"}),e.jsxs(qe,{value:S.state,onValueChange:s=>te("state",s),children:[e.jsx(He,{children:e.jsx(Je,{placeholder:"Select State"})}),e.jsx(Ze,{className:"bg-popover",children:Ts.map(s=>e.jsx(Qe,{value:s.regionId.toString(),children:s.regionName},s.regionId))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"ad-industry",children:"Industry"}),e.jsxs(qe,{value:S.industry,onValueChange:s=>te("industry",s),children:[e.jsx(He,{children:e.jsx(Je,{placeholder:"Select Industry"})}),e.jsx(Ze,{className:"bg-popover",children:Rs.map(s=>e.jsx(Qe,{value:s.industryId.toString(),children:s.industryName},s.industryId))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Ad Image"}),e.jsxs("div",{className:"space-y-3",children:[Ce?e.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border",children:[e.jsx("img",{src:Ce,alt:"Ad preview",className:"w-full h-48 object-cover"}),e.jsx(p,{type:"button",size:"icon",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>{we(null),Se(null)},children:e.jsx(ss,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",onClick:()=>document.getElementById("new-ad-image")?.click(),children:[e.jsx(Et,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload image"})]}),e.jsx("input",{id:"new-ad-image",type:"file",accept:"image/*",className:"hidden",onChange:tt})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"start-date",children:"Start Date"}),e.jsx(I,{id:"start-date",type:"date",value:S.start_date,onChange:s=>te("start_date",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"end-date",children:"End Date"}),e.jsx(I,{id:"end-date",type:"date",value:S.end_date,onChange:s=>te("end_date",s.target.value)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tt,{id:"ad-active",checked:Ae,onCheckedChange:$s}),e.jsx(b,{htmlFor:"ad-active",children:"Active"})]}),e.jsx(p,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:at,children:"Save Ad"})]}),e.jsxs("div",{className:"pt-6 border-t",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Your Ads"}),e.jsx("div",{className:"space-y-3",children:Xs.map(s=>e.jsxs("div",{className:`
                    p-4 bg-muted rounded-lg 
                    flex flex-col sm:flex-row sm:items-center gap-4
                  `,children:[s.image&&e.jsx("img",{src:s.image,alt:s.title,className:"w-20 h-20 sm:w-16 sm:h-16 object-cover rounded mx-auto sm:mx-0"}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]}),e.jsxs("div",{className:`
                    flex flex-wrap sm:flex-nowrap 
                    items-center justify-center sm:justify-end 
                    gap-2 sm:gap-3
                    w-full sm:w-auto
                  `,children:[e.jsxs(q,{variant:"secondary",className:"px-3 py-1",children:["Valid: ",s.end_date||"N/A"]}),e.jsx(q,{variant:s.active?"default":"secondary",className:"px-3 py-1",children:s.active?"Active":"Inactive"}),e.jsx(p,{size:"sm",variant:"outline",onClick:()=>et(s),className:"w-full sm:w-auto",children:"Edit"})]})]},s.id))})]})]})]});case"editor":return e.jsx(va,{setActiveSection:m});case"friends":return e.jsx("div",{className:"space-y-6",children:e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(L,{children:"My Friends"}),e.jsx(G,{children:"Connect and network with fellow entrepreneurs"})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[Ie.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No connections found."}),Ie.map(s=>e.jsx(C,{className:"overflow-hidden",children:e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs(Be,{className:"h-12 w-12",children:[e.jsx(Ve,{src:s.image,alt:s.name}),e.jsx(Ge,{children:s.name.split(" ").map(c=>c[0]).join("")})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h3",{className:"font-semibold text-sm truncate",children:s.name})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Status:"}),s.status==="accepted"&&e.jsx(q,{className:"text-xs p-1 bg-green-600 text-white",children:"Connected"}),s.status==="sent"&&e.jsx(q,{className:"text-xs p-1 bg-yellow-500 text-white",children:"Request Sent"}),s.status==="received"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{size:"xs",className:"bg-blue-600 text-white h-6 px-2",onClick:async()=>{try{await vt(s.connection_id),j.success("Request Accepted!"),me()}catch{j.error("Error accepting request")}},children:"Accept"}),e.jsx(p,{size:"xs",variant:"destructive",className:"h-6 px-2",onClick:async()=>{try{await yt(s.connection_id),j.success("Request Rejected!"),me()}catch{j.error("Error rejecting request")}},children:"Reject"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Tier:"}),e.jsx(q,{className:"text-xs p-1",children:s.tier})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Status:"}),e.jsxs(q,{className:`text-xs p-1 ${s.status==="accepted"?"bg-green-500 text-white":""} ${s.status==="sent"?"bg-yellow-500 text-white":""} ${s.status==="received"?"bg-blue-500 text-white":""}`,children:[s.status==="accepted"&&"Connected",s.status==="sent"&&"Request Sent",s.status==="received"&&"Pending Request"]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(p,{size:"sm",variant:"outline",className:"flex-1",onClick:async()=>{Te(s),Ee(c=>c.some(O=>O.user.id===s.id)?c:[{user:s,last_message:""},...c]),m("chat"),await $e(s)},children:"Chat"}),e.jsx(p,{size:"sm",variant:"outline",className:"flex-1",children:"View Profile"})]})]})},s.id))]})})]})});case"chat":return e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(L,{children:"Messages"}),e.jsx(G,{children:"Connect with other members"})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Conversations"}),Ys.map((s,c)=>e.jsxs("div",{onClick:()=>$e(s.user),className:"p-3 bg-muted rounded-lg cursor-pointer hover:bg-muted/80",children:[e.jsx("div",{className:"font-medium",children:s.user.name}),e.jsx("div",{className:"text-sm text-muted-foreground truncate",children:s.last_message||"Say hi ðŸ‘‹"})]},c))]}),e.jsx("div",{className:"md:col-span-2 p-6 bg-muted rounded-lg",children:se?e.jsxs("div",{className:"flex flex-col h-[400px]",children:[e.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4",children:Ks.map(s=>e.jsx("div",{className:`p-2 rounded-lg max-w-xs ${s.sender_id===se.id?"bg-white":"bg-primary text-white ml-auto"}`,children:s.message},s.id))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{value:oe,onChange:s=>Re(s.target.value),placeholder:"Type a message..."}),e.jsx(p,{onClick:nt,children:"Send"})]})]}):e.jsx("p",{className:"text-muted-foreground text-center",children:"Select a conversation to view messages"})})]})})]});case"featured":return e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(L,{children:"Featured Status"}),e.jsx(G,{children:"Your featured member benefits"})]}),e.jsx(M,{children:e.jsxs("div",{className:"p-6 bg-accent rounded-lg text-center",children:[e.jsx(Ye,{className:"w-16 h-16 mx-auto mb-4 text-accent-foreground"}),e.jsx("h3",{className:"font-semibold text-xl mb-2",children:f.featured?"You're Featured!":"Upgrade to Get Featured!"}),e.jsx("p",{className:"text-sm mb-4",children:f.featured?"Your profile is highlighted across the platform":"Get priority placement and visibility"}),e.jsx(p,{onClick:()=>!f.featured&&N(!0),className:`${f.featured?"bg-green-600 hover:bg-green-700 cursor-default":"bg-primary hover:bg-primary/90"} text-primary-foreground`,disabled:!!f.featured,children:f.featured?"Activated":"Activate"}),f.featured&&f.featured_valid&&(()=>{const s=new Date(f.featured_valid),c=s.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),O=s-new Date,F=Math.ceil(O/(1e3*60*60*24));return e.jsxs("p",{className:`text-sm mt-3 ${F<=0?"text-red-500":F<=3?"text-yellow-500":"text-muted-foreground"}`,children:["Expires on ",e.jsx("strong",{children:c}),F>0?` Â· ${F} day${F>1?"s":""} left`:" Â· Expired"]})})()]})})]});case"settings":return e.jsxs(C,{children:[e.jsxs(D,{children:[e.jsx(L,{children:"Account Settings"}),e.jsx(G,{children:"Manage your account preferences and security"})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Account Information"}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"email",children:"Email"}),e.jsx(I,{id:"email",type:"email",defaultValue:f.email,disabled:!0})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Change Password"}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"current-password",children:"Current Password"}),e.jsx(I,{id:"current-password",type:"password",placeholder:"Enter current password",value:T,onChange:s=>V(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"new-password",children:"New Password"}),e.jsx(I,{id:"new-password",type:"password",placeholder:"Enter new password",value:K,onChange:s=>i(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsx(I,{id:"confirm-password",type:"password",placeholder:"Confirm new password",value:l,onChange:s=>z(s.target.value)})]}),e.jsx(p,{onClick:qs,className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:P,children:P?"Updating...":"Update Password"})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Notifications"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]}),e.jsx(p,{variant:"outline",size:"sm",children:"Configure"})]})]})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-background flex",children:[e.jsx("div",{className:"hidden md:flex",children:e.jsx(Xe,{activeSection:a,onSectionChange:m})}),e.jsx("div",{className:`
      fixed inset-y-0 left-0 z-50 md:hidden 
      w-[260px]
      transform transition-transform duration-300
      ${Vs?"translate-x-0":"-translate-x-full"}
    `,children:e.jsx(Xe,{mobile:!0,activeSection:a,onSectionChange:m,onClose:()=>ke(!1)})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-card border-b border-[#F3D6E3] sticky top-0 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsx("button",{className:"md:hidden p-2 rounded hover:bg-muted",onClick:()=>ke(!0),children:e.jsx(Ft,{className:"w-6 h-6 text-foreground"})}),e.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-md ml-3 md:ml-0",children:[e.jsx(Vt,{className:"w-5 h-5 text-muted-foreground"}),e.jsx(I,{placeholder:"Search...",className:"border-none bg-muted"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{variant:"ghost",size:"icon",children:e.jsx(_t,{className:"w-5 h-5"})}),e.jsxs(Be,{children:[e.jsx(Ve,{src:f.image,alt:f.name}),e.jsx(Ge,{children:f.name?.[0]||"G"})]})]})]})}),e.jsx("div",{className:"p-6 space-y-4 bg-muted/30",children:e.jsx(C,{className:"w-full max-w-[1200px] mx-auto",children:e.jsx(M,{children:e.jsxs(Rt,{className:"w-full",opts:{align:"start",loop:!0},plugins:[Dt({delay:2e3})],children:[e.jsx(Lt,{className:"-ml-2",children:Is.filter(s=>s.active&&s.user_id===7).map(s=>e.jsx(Ot,{className:"pl-2 md:basis-1/2 lg:basis-1/3",children:e.jsx(C,{className:"p-4 border border-border/60 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[s.image&&e.jsx("div",{className:"w-full h-40 rounded-lg overflow-hidden bg-muted border",children:e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h3",{className:"font-semibold text-foreground truncate",children:s.title})}),s.link&&e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline inline-block",children:"Learn More â†’"})]})]})})},s.id))}),e.jsx(Ut,{}),e.jsx($t,{})]})})})}),e.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[e.jsxs("h1",{className:"text-3xl font-heading mb-6",children:[a==="dashboard"&&"Welcome Back!",a==="profile"&&"My Profile",a==="membership"&&"Membership Plans",a==="editor"&&"Landing Page Editor",a==="chat"&&"Chat",a==="featured"&&"Featured",a==="settings"&&"Settings"]}),it()]})]}),e.jsx(Gt,{profile:f,open:u,onOpenChange:d,onEdit:()=>{d(!1),y(!0)},onViewIncrement:Zs}),e.jsx(kt,{profile:f,open:g,onOpenChange:y,onSave:Js}),e.jsx(zt,{isOpen:v,onClose:()=>w(!1),tier:B}),e.jsx(Na,{open:_,onOpenChange:N}),e.jsx(It,{ad:Ne,open:ie,onOpenChange:ee,onSave:st}),_e&&e.jsx(Sa,{open:zs,onOpenChange:Fe,adForm:_e.adMeta})]})};export{La as default};
