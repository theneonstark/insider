import{j as e,L as as,r as a,u as ce,a as Ge}from"./app-zbGiaHVp.js";import{B as u,u as gt,c as be}from"./button-C_qHBv8k.js";import{c as J,C as P,a as O,b as $,d as G,e as M}from"./createLucideIcon-C8vDqRei.js";import{S as rs,B as Y,E as Ne}from"./badge-B_iPKYpK.js";import{I as R,z as g,F as ns}from"./index-ljKeodP8.js";import{L as N}from"./label-CgELiMfr.js";import{H as jt,C as vt,U as yt,S as bt,L as Nt,T as ie,M as wt,a as Ye,f as Ke,b as qe,E as Ct,c as St,A as He,d as Pt,e as At}from"./EditAdModal-amjTsuA_.js";import{X as is,P as Z,j as kt,k as Ft,l as It,m as ls,n as cs,o as os,s as _t,p as Tt,q as Et,D as Mt,t as Rt,g as Dt,v as Lt,w as Ot,x as $t,y as Je,z as Ut}from"./apis-BpTz032j.js";import{C as Bt,a as Vt,A as zt,b as Gt,c as Yt,d as Kt,e as qt,P as Ht,M as Ze}from"./embla-carousel-autoplay.esm-B8EpAC1z.js";import{P as Jt,D as W,a as ee,b as oe,c as se}from"./dialog-BVMo0chg.js";import{e as ds,f as Zt,u as ms,g as K,h as us,i as xs,j as Qt,S as Qe,a as Xe,b as We,c as es,d as ss}from"./select-61cmHhJI.js";import{E as hs,l as ps,u as fs,a as gs,C as le}from"./react-stripe.esm-DwYbmW7u.js";import{A as Xt}from"./arrow-left-DcKYutlW.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ea=J("bell",Wt);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],ta=J("panels-top-left",sa);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ge=J("plus",aa);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],na=J("save",ra);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],je=J("trash-2",ia);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ca=J("user",la),ts=({activeSection:t,onSectionChange:l,mobile:n=!1,onClose:r})=>{const x=[{id:"dashboard",label:"Dashboard",icon:jt},{id:"profile",label:"My Profile",icon:ca},{id:"membership",label:"Membership Plans",icon:Bt},{id:"editor",label:"Landing Page Editor",icon:ta},{id:"ads",label:"Ads Management",icon:vt},{id:"friends",label:"Friends",icon:yt},{id:"featured",label:"Featured",icon:rs},{id:"settings",label:"Settings",icon:bt}];return e.jsxs("aside",{className:`
        w-[260px] min-h-screen bg-[#FFF1F4] border-r border-[#F3D6E3] 
        flex flex-col relative
        ${n?"shadow-xl":""}
      `,children:[n&&e.jsx("button",{onClick:r,className:`\r
            absolute right-3 top-3 \r
            p-2 rounded-md\r
            bg-white/60 backdrop-blur-md\r
            hover:bg-white transition\r
          `,children:e.jsx(is,{className:"w-5 h-5"})}),e.jsx("div",{className:"p-6",children:e.jsx("h2",{className:"text-xl font-heading text-foreground",children:"My Dashboard"})}),e.jsx("nav",{className:"flex-1 px-3 space-y-1",children:x.map(m=>{const d=m.icon,f=t===m.id;return e.jsxs("button",{onClick:()=>{l(m.id),n&&r&&r()},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${f?"bg-primary text-primary-foreground shadow-sm":"text-[#5A5A5A] hover:bg-primary/10"}`,children:[e.jsx(d,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:m.label})]},m.id)})}),e.jsx("div",{className:"p-4 border-t border-[#F3D6E3]",children:e.jsx(as,{href:"/auth/logout",children:e.jsxs(u,{variant:"ghost",className:`\r
              w-full justify-start gap-3 \r
              text-[#5A5A5A] hover:bg-primary/10\r
            `,children:[e.jsx(Nt,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})})})]})};var ve="rovingFocusGroup.onEntryFocus",oa={bubbles:!1,cancelable:!0},te="RovingFocusGroup",[ye,js,da]=Zt(te),[ma,vs]=ds(te,[da]),[ua,xa]=ma(te),ys=a.forwardRef((t,l)=>e.jsx(ye.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ye.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ha,{...t,ref:l})})}));ys.displayName=te;var ha=a.forwardRef((t,l)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:x=!1,dir:m,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:j,onEntryFocus:p,preventScrollOnEntryFocus:h=!1,...v}=t,C=a.useRef(null),D=gt(l,C),S=us(m),[k,b]=xs({prop:d,defaultProp:f??null,onChange:j,caller:te}),[w,T]=a.useState(!1),I=Qt(p),E=js(n),z=a.useRef(!1),[q,i]=a.useState(0);return a.useEffect(()=>{const c=C.current;if(c)return c.addEventListener(ve,I),()=>c.removeEventListener(ve,I)},[I]),e.jsx(ua,{scope:n,orientation:r,dir:S,loop:x,currentTabStopId:k,onItemFocus:a.useCallback(c=>b(c),[b]),onItemShiftTab:a.useCallback(()=>T(!0),[]),onFocusableItemAdd:a.useCallback(()=>i(c=>c+1),[]),onFocusableItemRemove:a.useCallback(()=>i(c=>c-1),[]),children:e.jsx(Z.div,{tabIndex:w||q===0?-1:0,"data-orientation":r,...v,ref:D,style:{outline:"none",...t.style},onMouseDown:K(t.onMouseDown,()=>{z.current=!0}),onFocus:K(t.onFocus,c=>{const V=!z.current;if(c.target===c.currentTarget&&V&&!w){const F=new CustomEvent(ve,oa);if(c.currentTarget.dispatchEvent(F),!F.defaultPrevented){const H=E().filter(B=>B.focusable),me=H.find(B=>B.active),ae=H.find(B=>B.id===k),ue=[me,ae,...H].filter(Boolean).map(B=>B.ref.current);ws(ue,h)}}z.current=!1}),onBlur:K(t.onBlur,()=>T(!1))})})}),bs="RovingFocusGroupItem",Ns=a.forwardRef((t,l)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:x=!1,tabStopId:m,children:d,...f}=t,j=ms(),p=m||j,h=xa(bs,n),v=h.currentTabStopId===p,C=js(n),{onFocusableItemAdd:D,onFocusableItemRemove:S,currentTabStopId:k}=h;return a.useEffect(()=>{if(r)return D(),()=>S()},[r,D,S]),e.jsx(ye.ItemSlot,{scope:n,id:p,focusable:r,active:x,children:e.jsx(Z.span,{tabIndex:v?0:-1,"data-orientation":h.orientation,...f,ref:l,onMouseDown:K(t.onMouseDown,b=>{r?h.onItemFocus(p):b.preventDefault()}),onFocus:K(t.onFocus,()=>h.onItemFocus(p)),onKeyDown:K(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=ga(b,h.orientation,h.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let I=C().filter(E=>E.focusable).map(E=>E.ref.current);if(w==="last")I.reverse();else if(w==="prev"||w==="next"){w==="prev"&&I.reverse();const E=I.indexOf(b.currentTarget);I=h.loop?ja(I,E+1):I.slice(E+1)}setTimeout(()=>ws(I))}}),children:typeof d=="function"?d({isCurrentTabStop:v,hasTabStop:k!=null}):d})})});Ns.displayName=bs;var pa={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fa(t,l){return l!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ga(t,l,n){const r=fa(t.key,n);if(!(l==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(l==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pa[r]}function ws(t,l=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:l}),document.activeElement!==n))return}function ja(t,l){return t.map((n,r)=>t[(l+r)%t.length])}var va=ys,ya=Ns,de="Tabs",[ba]=ds(de,[vs]),Cs=vs(),[Na,we]=ba(de),Ss=a.forwardRef((t,l)=>{const{__scopeTabs:n,value:r,onValueChange:x,defaultValue:m,orientation:d="horizontal",dir:f,activationMode:j="automatic",...p}=t,h=us(f),[v,C]=xs({prop:r,onChange:x,defaultProp:m??"",caller:de});return e.jsx(Na,{scope:n,baseId:ms(),value:v,onValueChange:C,orientation:d,dir:h,activationMode:j,children:e.jsx(Z.div,{dir:h,"data-orientation":d,...p,ref:l})})});Ss.displayName=de;var Ps="TabsList",As=a.forwardRef((t,l)=>{const{__scopeTabs:n,loop:r=!0,...x}=t,m=we(Ps,n),d=Cs(n);return e.jsx(va,{asChild:!0,...d,orientation:m.orientation,dir:m.dir,loop:r,children:e.jsx(Z.div,{role:"tablist","aria-orientation":m.orientation,...x,ref:l})})});As.displayName=Ps;var ks="TabsTrigger",Fs=a.forwardRef((t,l)=>{const{__scopeTabs:n,value:r,disabled:x=!1,...m}=t,d=we(ks,n),f=Cs(n),j=Ts(d.baseId,r),p=Es(d.baseId,r),h=r===d.value;return e.jsx(ya,{asChild:!0,...f,focusable:!x,active:h,children:e.jsx(Z.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":p,"data-state":h?"active":"inactive","data-disabled":x?"":void 0,disabled:x,id:j,...m,ref:l,onMouseDown:K(t.onMouseDown,v=>{!x&&v.button===0&&v.ctrlKey===!1?d.onValueChange(r):v.preventDefault()}),onKeyDown:K(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&d.onValueChange(r)}),onFocus:K(t.onFocus,()=>{const v=d.activationMode!=="manual";!h&&!x&&v&&d.onValueChange(r)})})})});Fs.displayName=ks;var Is="TabsContent",_s=a.forwardRef((t,l)=>{const{__scopeTabs:n,value:r,forceMount:x,children:m,...d}=t,f=we(Is,n),j=Ts(f.baseId,r),p=Es(f.baseId,r),h=r===f.value,v=a.useRef(h);return a.useEffect(()=>{const C=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(C)},[]),e.jsx(Jt,{present:x||h,children:({present:C})=>e.jsx(Z.div,{"data-state":h?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":j,hidden:!C,id:p,tabIndex:0,...d,ref:l,style:{...t.style,animationDuration:v.current?"0s":void 0},children:C&&m})})});_s.displayName=Is;function Ts(t,l){return`${t}-trigger-${l}`}function Es(t,l){return`${t}-content-${l}`}var wa=Ss,Ms=As,Rs=Fs,Ds=_s;const Ca=wa,Ls=a.forwardRef((t,l)=>{const{className:n,...r}=t;return e.jsx(Ms,{ref:l,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...r})});Ls.displayName=Ms.displayName;const Q=a.forwardRef((t,l)=>{const{className:n,...r}=t;return e.jsx(Rs,{ref:l,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n),...r})});Q.displayName=Rs.displayName;const X=a.forwardRef((t,l)=>{const{className:n,...r}=t;return e.jsx(Ds,{ref:l,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...r})});X.displayName=Ds.displayName;const Sa=({setActiveSection:t})=>{const{props:l}=ce(),n=l.user.tier_name,[r,x]=a.useState({}),[m,d]=a.useState([]),[f,j]=a.useState([]),[p,h]=a.useState([]),v=()=>{const i={id:Date.now().toString(),title:"",description:"",price:""};d([...m,i])},C=(i,c,V)=>{d(m.map(F=>F.id===i?{...F,[c]:V}:F))},D=i=>{d(m.filter(c=>c.id!==i))},S=()=>{const i={id:Date.now().toString(),name:"",role:"",content:"",rating:5};j([...f,i])},k=(i,c,V)=>{j(f.map(F=>F.id===i?{...F,[c]:V}:F))},b=i=>{j(f.filter(c=>c.id!==i))},w=()=>{const i={id:Date.now().toString(),title:"",description:"",validUntil:""};h([...p,i])},T=(i,c,V)=>{h(p.map(F=>F.id===i?{...F,[c]:V}:F))},I=i=>{h(p.filter(c=>c.id!==i))},E=i=>{x(i.about||{}),d(i.services||[]),j((i.testimonials||[]).map(c=>({id:c.id?.toString(),name:c.name,role:c.designation,content:c.message,rating:c.rating}))),h((i.offers||[]).map(c=>({id:c.id?.toString(),title:c.title,description:c.description,validUntil:c.valid_until||null})))},z=async()=>{try{const i=await kt();i.status===200&&i.data?.data?E(i.data.data):g.error("Failed to fetch landing page",{id:"fetching"})}catch(i){console.error("Error fetching landing page:",i),g.error("Something went wrong while fetching data",{id:"fetching"})}};a.useEffect(()=>{z()},[]);const q=async()=>{try{g.loading("Saving landing page...",{id:"saving"}),(await Ft([{type:"about",data:r},{type:"service",data:m},{type:"testimonial",data:f},{type:"offer",data:p}])).status===200?(g.success("Landing page updated successfully!",{id:"saving"}),await z()):g.error("Failed to update landing page",{id:"saving"})}catch(i){console.error("Error saving landing page:",i),g.error("Something went wrong while saving",{id:"saving"})}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(P,{className:"w-full",children:[e.jsxs(O,{children:[e.jsx($,{className:"text-xl sm:text-2xl font-heading",children:"Landing Page Editor"}),e.jsx(G,{className:"text-sm sm:text-base",children:"Customize your personal landing page to showcase your services & expertise"})]}),n==="Shine Plus"?e.jsxs(M,{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center",children:e.jsxs(u,{onClick:q,className:"bg-primary hover:bg-primary/90 text-primary-foreground gap-2 w-full sm:w-auto",children:[e.jsx(na,{className:"w-4 h-4"})," Save & Publish"]})}),e.jsxs(Ca,{defaultValue:"about",className:"space-y-6",children:[e.jsxs(Ls,{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 w-full mb-10",children:[e.jsx(Q,{value:"about",children:"About Me"}),e.jsx(Q,{value:"services",children:"Products / Services"}),e.jsx(Q,{value:"testimonials",children:"Testimonials"}),e.jsx(Q,{value:"offers",children:"Offers"})]}),e.jsx(X,{value:"about",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(N,{children:"Bio"}),e.jsx(ie,{rows:6,className:"min-h-[120px] sm:min-h-[150px]",value:r.bio||"",onChange:i=>x({...r,bio:i.target.value}),placeholder:"Tell your story..."})]})}),e.jsxs(X,{value:"services",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"My Favorite Product / Services"}),e.jsxs(u,{size:"sm",onClick:v,className:"gap-2",children:[e.jsx(ge,{className:"w-4 h-4"})," Add"]})]}),m.map(i=>e.jsx(P,{className:"p-3 sm:p-4 rounded-xl shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"",children:[e.jsx(N,{children:"Service Title"}),e.jsx(R,{className:"mt-1",value:i.title,onChange:c=>C(i.id,"title",c.target.value),placeholder:"Service title..."})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Description"}),e.jsx(ie,{rows:3,className:"min-h-[90px] sm:min-h-[110px]",value:i.description,onChange:c=>C(i.id,"description",c.target.value),placeholder:"Description..."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(u,{variant:"ghost",size:"icon",onClick:()=>D(i.id),className:"text-destructive",children:e.jsx(je,{className:"w-4 h-4"})})})]})},i.id))]}),e.jsxs(X,{value:"testimonials",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Client Testimonials"}),e.jsxs(u,{size:"sm",onClick:S,className:"gap-2",children:[e.jsx(ge,{className:"w-4 h-4"})," Add"]})]}),f.map(i=>e.jsx(P,{className:"p-3 sm:p-4 rounded-xl shadow",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Name"}),e.jsx(R,{className:"mt-1",value:i.name,onChange:c=>k(i.id,"name",c.target.value)})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Role / Company"}),e.jsx(R,{className:"mt-1",value:i.role,onChange:c=>k(i.id,"role",c.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Content"}),e.jsx(ie,{rows:3,className:"min-h-[90px] sm:min-h-[110px]",value:i.content,onChange:c=>k(i.id,"content",c.target.value)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(u,{variant:"ghost",size:"icon",onClick:()=>b(i.id),className:"text-destructive",children:e.jsx(je,{className:"w-4 h-4"})})})]})},i.id))]}),e.jsxs(X,{value:"offers",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Promotional Offers"}),e.jsxs(u,{size:"sm",onClick:w,className:"gap-2",children:[e.jsx(ge,{className:"w-4 h-4"})," Add"]})]}),p.map(i=>e.jsx(P,{className:"p-3 sm:p-4 rounded-xl shadow",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Title"}),e.jsx(R,{className:"mt-1",value:i.title,onChange:c=>T(i.id,"title",c.target.value)})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Description"}),e.jsx(ie,{rows:2,className:"min-h-[80px]",value:i.description,onChange:c=>T(i.id,"description",c.target.value)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(u,{variant:"ghost",size:"icon",onClick:()=>I(i.id),className:"text-destructive",children:e.jsx(je,{className:"w-4 h-4"})})})]})},i.id))]})]})]}):e.jsxs("div",{className:"py-10 text-center text-muted-foreground border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Upgrade Required"}),e.jsx("p",{className:"mb-4",children:"Editing your landing page requires a Shine Plus membership."}),e.jsx(u,{onClick:()=>t("membership"),className:"bg-primary text-white px-6 py-2 rounded-md",children:"Upgrade Now"})]})]})})},Pa=ps("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),Aa=({days:t,clientSecret:l,onClose:n})=>{const r=fs(),x=gs(),[m,d]=a.useState(!1),f=async j=>{if(j.preventDefault(),!r||!x||!l)return;d(!0);const{error:p,paymentIntent:h}=await r.confirmCardPayment(l,{payment_method:{card:x.getElement(le)}});p?g.error(p.message):(g.success("Payment successful! Feature will activate shortly."),n()),d(!1)};return e.jsxs("form",{onSubmit:f,className:"space-y-4 mt-4",children:[e.jsx(N,{children:"Card Details"}),e.jsx("div",{className:"border p-3 rounded-md bg-white",children:e.jsx(le,{options:{style:{base:{fontSize:"16px","::placeholder":{color:"#9ca3af"}}}}})}),e.jsx(u,{disabled:m,className:"w-full",children:m?"Processing...":`Pay $${t}`})]})},ka=({open:t,onOpenChange:l})=>{const[n,r]=a.useState(""),[x,m]=a.useState(1),[d,f]=a.useState(""),j=async h=>{if(h.preventDefault(),!n||Number(n)<=0){g.error("Please enter valid number of days");return}try{const v=await It({days:Number(n)});if(!v.data.clientSecret){g.error("Failed to initialize payment");return}f(v.data.clientSecret),m(2)}catch(v){console.log(v),g.error("Server error")}},p=()=>{r(""),f(""),m(1),l(!1)};return e.jsx(W,{open:t,onOpenChange:p,children:e.jsxs(ee,{className:"sm:max-w-md",children:[e.jsx(oe,{children:e.jsx(se,{children:x===1?"Activate Feature":`Pay for ${n} Days`})}),x===1&&e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsx(N,{htmlFor:"days",children:"Number of Days"}),e.jsx(R,{id:"days",type:"number",placeholder:"Enter number of days",value:n,onChange:h=>r(h.target.value),min:"1"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(u,{className:"flex-1",type:"submit",children:"Continue"}),e.jsx(u,{className:"flex-1",type:"button",variant:"outline",onClick:p,children:"Cancel"})]})]}),x===2&&e.jsx(hs,{stripe:Pa,children:e.jsx(Aa,{days:Number(n),clientSecret:d,onClose:p})})]})})},Fa=ps("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),Ia=({amount:t,clientSecret:l,onSuccess:n})=>{const r=fs(),x=gs(),[m,d]=a.useState(!1),f=async j=>{if(j.preventDefault(),!r||!x)return;d(!0);const{error:p,paymentIntent:h}=await r.confirmCardPayment(l,{payment_method:{card:x.getElement(le)}});p?g.error(p.message):(g.success("Ad payment successful!"),n()),d(!1)};return e.jsxs("form",{onSubmit:f,className:"space-y-4 mt-4",children:[e.jsx(N,{children:"Card Details"}),e.jsx("div",{className:"border p-3 rounded-md bg-white",children:e.jsx(le,{options:{style:{base:{fontSize:"16px","::placeholder":{color:"#9ca3af"}}}}})}),e.jsx(u,{disabled:m,className:"w-full",children:m?"Processing...":`Pay $${t}`})]})},_a=({open:t,onOpenChange:l,adForm:n})=>{const[r,x]=a.useState(1),[m,d]=a.useState(0),[f,j]=a.useState(""),p=()=>{x(1),d(0),j(""),l(!1),setTimeout(()=>{window.location.reload()},1e3)},h=async()=>{const v=new Date(n.start_date),C=new Date(n.end_date),S=(Math.ceil((C-v)/(1e3*60*60*24))+1)*1;d(S);try{const k=new FormData;Object.entries(n).forEach(([w,T])=>{T!=null&&k.append(w,T)});const b=await ls(k);if(!b.data.clientSecret){g.error("Unable to initialize payment!");return}j(b.data.clientSecret),x(2)}catch(k){console.log(k),g.error("Payment initialization failed")}};return e.jsx(W,{open:t,onOpenChange:p,children:e.jsxs(ee,{className:"sm:max-w-md",children:[e.jsx(oe,{children:e.jsx(se,{children:r===1?"Confirm Ad Payment":`Pay $${m}`})}),r===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm",children:["You will be charged ",e.jsx("b",{children:"$1 per day"})," for your selected date range."]}),e.jsx(u,{onClick:h,className:"w-full",children:"Proceed to Pay"}),e.jsx(u,{variant:"outline",className:"w-full",onClick:p,children:"Cancel"})]}),r===2&&e.jsx(hs,{stripe:Fa,children:e.jsx(Ia,{amount:m,clientSecret:f,onSuccess:p})})]})})},Ta=({data:t,open:l,onOpenChange:n,onEdit:r,onViewIncrement:x})=>{console.log(t);const{props:m}=ce(),d=m?.auth?.user,f=m?.auth?.user?.role,[j,p]=a.useState("none"),[h,v]=a.useState(null),[C,D]=a.useState(parseInt(t?.views)||0);a.useEffect(()=>{l&&t&&D(w=>w+1)},[l]),a.useEffect(()=>{l&&t&&S()},[l]);const S=async()=>{try{const w=await cs(t.id);p(w.data.status),v(w.data.connection_id)}catch(w){console.log(w)}},k=async()=>{if(!d)return Ge.visit("/login");try{await _t(d,t.id),g.success("Connection Request Sent!"),S()}catch(w){console.log(w),g.error(w.response?.data?.message||"Error!")}},b=()=>d?j==="accepted"?e.jsx(u,{disabled:!0,className:"bg-green-600 text-white",children:"Connected"}):j==="sent"?e.jsx(u,{disabled:!0,className:"bg-yellow-500 text-white",children:"Request Sent"}):j==="received"?e.jsx(u,{onClick:async()=>{await os(h),g.success("Request Accepted!"),S()},className:"bg-blue-600 text-white",children:"Accept Request"}):e.jsx(u,{onClick:k,children:"Let's Connect"}):e.jsx(u,{onClick:()=>Ge.visit("/login"),children:"Let's Connect"});return t?e.jsxs(W,{open:l,onOpenChange:n,children:[e.jsxs(ee,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(oe,{children:e.jsx(se,{className:"text-2xl font-heading",children:"data Details"})}),e.jsxs("div",{className:"space-y-6 py-4",children:[t.image&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:f==="admin"?`../${t.image}`:`${t.image}`,alt:t.name,className:"w-32 h-32 rounded-full object-cover shadow-[var(--shadow-card)]"})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),e.jsx("p",{className:"text-lg font-semibold",children:t.name})]}),t.businessType&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Business Type"}),e.jsx("p",{className:"text-lg",children:t.businessType})]}),t.region?.regionName&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"State"}),e.jsx("p",{className:"text-lg",children:t.region.regionName})]}),t.dob&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),e.jsx("p",{className:"text-lg",children:t.dob})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Membership Tier"}),e.jsx(Y,{className:"mt-1 p-1 bg-primary text-primary-foreground",children:t?.tier})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"data Views"}),e.jsx("p",{className:"text-lg font-semibold",children:C})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[f!=="admin"&&r&&e.jsx(u,{onClick:r,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Edit data"}),b(),"  ",e.jsx(u,{variant:"outline",onClick:()=>n(!1),children:"Close"})]})]})]}),e.jsx(ns,{})]}):null},Ea=({profile:t,open:l,onOpenChange:n,onEdit:r,onViewIncrement:x})=>{const{props:m}=ce();m?.auth?.user;const d=m?.auth?.user?.role,[f,j]=a.useState("none"),[p,h]=a.useState(null),[v,C]=a.useState(parseInt(t?.views)||0);a.useEffect(()=>{l&&t&&C(S=>S)},[l]),a.useEffect(()=>{l&&t&&D()},[l]);const D=async()=>{try{const S=await cs(t.id);j(S.data.status),h(S.data.connection_id)}catch(S){console.log(S)}};return t?e.jsx(W,{open:l,onOpenChange:n,children:e.jsxs(ee,{className:"max-w-3xl rounded-2xl p-0 overflow-hidden shadow-2xl border border-border bg-background",children:[e.jsx("div",{className:"w-full h-40 bg-gradient-to-r from-primary/80 to-pink-500/80 flex items-end px-6 py-4",children:e.jsx(se,{className:"text-3xl font-bold text-white drop-shadow-lg",children:t?.name})}),e.jsxs("div",{className:"px-8 py-6 space-y-10",children:[e.jsxs("div",{className:"flex flex-col items-center -mt-20",children:[e.jsx("img",{src:d==="admin"?`../${t.image}`:t.image,alt:t.name,className:"w-36 h-36 rounded-full object-cover ring-4 ring-white shadow-xl"}),e.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[e.jsx(Y,{className:"bg-primary text-primary-foreground text-sm px-3 py-1 rounded-full shadow",children:t?.tier?.tier_name||"Member"}),e.jsxs("div",{className:"flex items-center bg-muted px-3 py-1 rounded-full shadow-sm border",children:[e.jsx(Ne,{className:"w-4 h-4 text-primary mr-1"}),e.jsx("span",{className:"font-semibold",children:v})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Full Name"}),e.jsx("p",{className:"text-lg font-semibold",children:t.name})]}),t?.businessType&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Business Type"}),e.jsx("p",{className:"text-lg",children:t.businessType})]}),t?.region?.regionName&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"State"}),e.jsx("p",{className:"text-lg",children:t.region.regionName})]}),t?.dob&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Date of Birth"}),e.jsx("p",{className:"text-lg",children:t.dob})]}),t?.bio&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Bio"}),e.jsx("p",{className:"text-lg",children:t.bio})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-between gap-3 pt-6 border-t",children:[e.jsx("div",{className:"flex gap-3",children:d!=="admin"&&r&&e.jsx(u,{onClick:r,className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-md px-6",children:"Edit Profile"})}),e.jsx(u,{variant:"outline",className:"px-6 shadow-sm",onClick:()=>n(!1),children:"Close"})]})]}),e.jsx(ns,{})]})}):null},qa=t=>{const{props:l}=ce(),n=l.auth?.user,[r,x]=a.useState("dashboard"),[m,d]=a.useState(!1),[f,j]=a.useState(!1),[p,h]=a.useState([]),[v,C]=a.useState(!1),[D,S]=a.useState(null),[k,b]=a.useState(!1),[w,T]=a.useState(!1),I=["Twinkle","Sparkle","Shine","Shine Plus"],[E,z]=a.useState(""),[q,i]=a.useState(""),[c,V]=a.useState(""),[F,H]=a.useState(!1),[me,ae]=a.useState(!1),[Ce,ue]=a.useState(null),[B,Se]=a.useState(null),[Pe,Ae]=a.useState(null),[Os,$s]=a.useState([]),[Us,Bs]=a.useState([]),[Vs,zs]=a.useState([]),[A,Gs]=a.useState({state:"",industry:""}),[xe,Ys]=a.useState(""),[ke,Ks]=a.useState(""),[Fe,qs]=a.useState(!1),[Hs,Ie]=a.useState(!1),[_e,Js]=a.useState(null),[Zs,Te]=a.useState(!1),[Ee,Qs]=a.useState([]),[Xs,Me]=a.useState([]),[re,Re]=a.useState(null),[Ws,De]=a.useState([]),[he,Le]=a.useState(""),[et,st]=a.useState(null),[tt,Oe]=a.useState(!1);a.useEffect(()=>{(async()=>{try{const o=await Mt();o.data.status&&(Bs(o.data.region||[]),zs(o.data.industry||[]))}catch(o){console.log("Failed to load filters",o)}})()},[]);const $e=()=>{if(!y?.tier||y.tier.toLowerCase()==="free")return p;const s=I.findIndex(o=>o.toLowerCase()===y.tier.toLowerCase());return p.filter(o=>I.findIndex(U=>U.toLowerCase()===o.title.toLowerCase())>s)},at=async()=>{if(!E||!q||!c){g.error("Please fill in all fields");return}if(q!==c){g.error("New passwords do not match");return}H(!0);try{const s=await $t({current_password:E,new_password:q,new_password_confirmation:c});s.data.status?(g.success(s.data.message||"Password updated successfully!"),z(""),i(""),V("")):g.error(s.data.message||"Failed to update password")}catch(s){console.error(s),g.error("Something went wrong. Please try again.")}finally{H(!1)}},[y,Ue]=a.useState({name:n?.name||"Guest User",email:n?.email||"guest@example.com",phone:n?.phone||"",businessId:n?.business_type||"",businessType:t?.user?.business_type||"",stateId:n?.state||"",state:t?.user?.state||"",dob:n?.dob||"",bio:n?.bio||"",tier:t?.user?.tier_name||null,views:n?.views||0,featured:n?.featured,featured_valid:n?.featured_valid,image:n?.image}),rt=s=>{if(!s||typeof s!="string")return[];try{const o=JSON.parse(s);return Array.isArray(o)?o:[]}catch{return console.warn("Failed to parse features:",s),[]}};a.useEffect(()=>{(async()=>{try{const U=((await Rt())?.data?.data||[]).map(_=>({id:_.id,title:_.tier_name,price:`$${_.price} / year`,features:rt(_.feature),highlighted:_.highlighted===1||_.highlighted==="1"}));console.log("API Membership Plans:",U),h(U)}catch(o){console.error("Failed to fetch membership plans:",o),h([])}})()},[]);const nt=s=>{Ue(s)},Be=s=>{S(s),C(!0)},it=()=>{Ue(s=>({...s,views:s.views||0}))},pe=()=>p.find(s=>s.title===y.tier),lt=async()=>{try{const s=await Dt();s.data.status&&$s(s.data.data)}catch(s){console.log("Failed to fetch running ads",s)}};a.useEffect(()=>{lt()},[]);const[ct,Ve]=a.useState([]),ot=async()=>{try{const s=await Lt();s.data.status&&Ve(s.data.data)}catch(s){console.log("Failed to fetch ads",s)}};a.useEffect(()=>{ot()},[]);const dt=s=>{ue(s),ae(!0)},mt=s=>{Ve(o=>o.map(L=>L.id===s.id?s:L))},ut=s=>{const o=s.target.files?.[0];if(o){Se(o);const L=URL.createObjectURL(o);Ae(L)}},xt=async()=>{if(!A.start_date){g.error("Start date is required");return}if(!A.end_date){g.error("End date is required");return}if(new Date(A.end_date)<new Date(A.start_date)){g.error("End date cannot be before start date");return}const s=new FormData;s.append("user_id",n.id),s.append("title",xe),s.append("link",ke),s.append("start_date",A.start_date),s.append("end_date",A.end_date),s.append("active",Fe?1:0),A.state&&s.append("region_id",A.state),A.industry&&s.append("industry_id",A.industry),B&&s.append("image",B);try{const o=await ls(s);if(!o.data.status){g.error("Failed to initiate payment");return}const L=o.data.clientSecret,U=o.data.public_key;Js({clientSecret:L,publicKey:U,adMeta:{user_id:n.id,title:xe,start_date:A.start_date,end_date:A.end_date,region_id:A.state,industry_id:A.industry,image:B}}),Ie(!0)}catch(o){console.error(o),g.error(o?.response?.data?.message||"Internal Server Error")}},ne=(s,o)=>{Gs(L=>({...L,[s]:o}))};a.useEffect(()=>{fe()},[]);const fe=async()=>{try{const s=await Tt();Qs(s.data)}catch(s){console.log(s)}};a.useEffect(()=>{ht()},[]);const ht=async()=>{try{const s=await Et();Me(s.data)}catch(s){console.log("Chat List Error:",s),g.error(s?.response?.data?.message||"Failed to load conversations")}},ze=async s=>{try{Re(s);const o=await Je(s.id);De(o.data)}catch(o){console.log("Open Chat Error:",o),g.error(o?.response?.data?.message||"Unable to load chat")}},pt=async()=>{if(!he.trim())return;await Ut(re.id,he),Le("");const s=await Je(re.id);De(s.data)},ft=()=>{switch(r){case"dashboard":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(P,{children:[e.jsxs(O,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Current Tier"}),e.jsx(rs,{className:"w-4 h-4 text-primary"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.tier||"No Plan"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:y.tier?"Active member":"Choose a plan"})]})]}),e.jsxs(P,{children:[e.jsxs(O,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Profile Views"}),e.jsx(Ne,{className:"w-4 h-4 text-primary"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold",children:y.views||0})})]}),e.jsxs(P,{children:[e.jsxs(O,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx($,{className:"text-sm font-medium",children:"Featured"}),e.jsx(He,{className:"w-4 h-4 text-primary"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.featured?"Yes":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:y.featured?(()=>{const s=new Date(y.featured_valid),o=s.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),U=s-new Date,_=Math.ceil(U/(1e3*60*60*24));return e.jsxs("span",{children:["Expires on ",e.jsx("strong",{children:o}),_>0?` Â· ${_} day${_>1?"s":""} left`:" Â· Expired"]})})():e.jsx(u,{onClick:()=>{x("featured")},children:"Upgrade"})})]})]})]}),e.jsxs(P,{children:[e.jsx(O,{children:e.jsx($,{children:"Quick Actions"})}),e.jsxs(M,{className:"flex flex-wrap gap-3",children:[e.jsx(u,{onClick:()=>d(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"View My Profile"}),e.jsx(u,{variant:"outline",onClick:()=>x("profile"),children:"Edit Profile"}),e.jsx(u,{variant:"outline",onClick:()=>x("friends"),children:"Check Messages"})]})]})]});case"profile":return e.jsxs(P,{children:[e.jsxs(O,{children:[e.jsx($,{children:"My Profile"}),e.jsx(G,{children:"View and edit your business information"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Full Name"}),e.jsx("p",{className:"text-lg font-semibold",children:y.name})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Email"}),e.jsx("p",{className:"text-lg",children:y.email})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Industry"}),e.jsx("p",{className:"text-lg",children:y.businessType||"Not set"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(u,{onClick:()=>j(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Edit Profile"}),e.jsx(u,{variant:"outline",onClick:()=>d(!0),children:"Preview Profile"})]})]})]});case"membership":return e.jsx("div",{className:"space-y-6",children:!y.tier||y.tier.toLowerCase()==="free plan"?e.jsxs(e.Fragment,{children:[e.jsx(P,{children:e.jsxs(O,{children:[e.jsx($,{children:"Choose Your Membership Plan"}),e.jsx(G,{children:"Select a plan to unlock exclusive features"})]})}),p.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:p.map(s=>e.jsx(Ze,{title:s.title,price:s.price,features:s.features,highlighted:s.highlighted,onJoin:()=>Be(s)},s.id))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading membership plans..."})})]}):e.jsxs(P,{children:[e.jsxs(O,{children:[e.jsx($,{children:"Your Membership"}),e.jsx(G,{children:"Manage your subscription and benefits"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:y.tier}),e.jsx(Y,{className:"bg-primary text-primary-foreground",children:"Active"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:pe()?.price||"N/A"}),e.jsx("ul",{className:"space-y-2 text-sm",children:pe()?.features?.length>0?pe().features.map((s,o)=>e.jsxs("li",{children:["âœ” ",s]},o)):e.jsx("li",{className:"text-muted-foreground",children:"No features listed"})})]}),e.jsx("div",{className:"flex gap-3",children:$e().length>0?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>T(!0),children:"Upgrade Plan"}),e.jsx(W,{open:w,onOpenChange:T,children:e.jsxs(ee,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(oe,{children:[e.jsx(se,{className:"text-2xl font-heading text-center",children:"Upgrade Your Plan"}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Youâ€™re currently on ",e.jsx("strong",{children:y.tier})," plan â€” select a higher tier to unlock more benefits."]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mt-6",children:$e().map(s=>e.jsx(Ze,{title:s.title,price:s.price,features:s.features,highlighted:s.highlighted,onJoin:()=>{Be(s),T(!1)}},s.id))}),e.jsx("div",{className:"pt-6 flex justify-center",children:e.jsx(u,{variant:"outline",onClick:()=>T(!1),children:"Close"})})]})})]}):e.jsx(u,{disabled:!0,className:"opacity-60 cursor-not-allowed",children:"Youâ€™re already on the highest plan"})})]})]})});case"ads":return e.jsxs(P,{children:[e.jsxs(O,{children:[e.jsx($,{children:"Ads Management"}),e.jsx(G,{children:"Create and manage promotional ads"})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"ad-title",children:"Ad Title"}),e.jsx(R,{id:"ad-title",placeholder:"Promote your business",value:xe,onChange:s=>Ys(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"ad-link",children:"CTA Link"}),e.jsx(R,{id:"ad-link",placeholder:"https://...",value:ke,onChange:s=>Ks(s.target.value)})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"ad-state",children:"State"}),e.jsxs(Qe,{value:A.state,onValueChange:s=>ne("state",s),children:[e.jsx(Xe,{children:e.jsx(We,{placeholder:"Select State"})}),e.jsx(es,{className:"bg-popover",children:Us.map(s=>e.jsx(ss,{value:s.regionId.toString(),children:s.regionName},s.regionId))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"ad-industry",children:"Industry"}),e.jsxs(Qe,{value:A.industry,onValueChange:s=>ne("industry",s),children:[e.jsx(Xe,{children:e.jsx(We,{placeholder:"Select Industry"})}),e.jsx(es,{className:"bg-popover",children:Vs.map(s=>e.jsx(ss,{value:s.industryId.toString(),children:s.industryName},s.industryId))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:"Ad Image"}),e.jsxs("div",{className:"space-y-3",children:[Pe?e.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border",children:[e.jsx("img",{src:Pe,alt:"Ad preview",className:"w-full h-48 object-cover"}),e.jsx(u,{type:"button",size:"icon",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>{Se(null),Ae(null)},children:e.jsx(is,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",onClick:()=>document.getElementById("new-ad-image")?.click(),children:[e.jsx(Pt,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload image"})]}),e.jsx("input",{id:"new-ad-image",type:"file",accept:"image/*",className:"hidden",onChange:ut})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"start-date",children:"Start Date"}),e.jsx(R,{id:"start-date",type:"date",value:A.start_date,onChange:s=>ne("start_date",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"end-date",children:"End Date"}),e.jsx(R,{id:"end-date",type:"date",value:A.end_date,onChange:s=>ne("end_date",s.target.value)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{id:"ad-active",checked:Fe,onCheckedChange:qs}),e.jsx(N,{htmlFor:"ad-active",children:"Active"})]}),e.jsx(u,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:xt,children:"Save Ad"})]}),e.jsxs("div",{className:"pt-6 border-t",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Your Ads"}),e.jsx("div",{className:"space-y-3",children:ct.map(s=>e.jsxs("div",{className:`
                    p-4 bg-muted rounded-lg 
                    flex flex-col sm:flex-row sm:items-center gap-4
                  `,children:[s.image&&e.jsx("img",{src:s.image,alt:s.title,className:"w-20 h-20 sm:w-16 sm:h-16 object-cover rounded mx-auto sm:mx-0"}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]}),e.jsxs("div",{className:`
                    flex flex-wrap sm:flex-nowrap 
                    items-center justify-center sm:justify-end 
                    gap-2 sm:gap-3
                    w-full sm:w-auto
                  `,children:[e.jsxs(Y,{variant:"secondary",className:"px-3 py-1",children:["Valid: ",s.end_date||"N/A"]}),e.jsx(Y,{variant:s.active?"default":"secondary",className:"px-3 py-1",children:s.active?"Active":"Inactive"}),e.jsx(u,{size:"sm",variant:"outline",onClick:()=>dt(s),className:"w-full sm:w-auto",children:"Edit"})]})]},s.id))})]})]})]});case"editor":return e.jsx(Sa,{setActiveSection:x});case"friends":return e.jsx("div",{className:"space-y-6",children:e.jsxs(P,{children:[e.jsxs(O,{children:[e.jsx($,{children:"My Friends"}),e.jsx(G,{children:"Connect and network with fellow entrepreneurs"})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[Ee.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No connections found."}),Ee.map(s=>e.jsx(P,{className:"overflow-hidden",children:e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs(Ye,{className:"h-12 w-12",children:[e.jsx(Ke,{src:s.image,alt:s.name}),e.jsx(qe,{children:s.name.split(" ").map(o=>o[0]).join("")})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h3",{className:"font-semibold text-sm truncate",children:s.name})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Status:"}),s.status==="accepted"&&e.jsx(Y,{className:"text-xs p-1 bg-green-600 text-white",children:"Connected"}),s.status==="sent"&&e.jsx(Y,{className:"text-xs p-1 bg-yellow-500 text-white",children:"Request Sent"}),s.status==="received"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{size:"xs",className:"bg-blue-600 text-white h-6 px-2",onClick:async()=>{try{await os(s.connection_id),g.success("Request Accepted!"),fe()}catch{g.error("Error accepting request")}},children:"Accept"}),e.jsx(u,{size:"xs",variant:"destructive",className:"h-6 px-2",onClick:async()=>{try{await Ot(s.connection_id),g.success("Request Rejected!"),fe()}catch{g.error("Error rejecting request")}},children:"Reject"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Tier:"}),e.jsx(Y,{className:"text-xs p-1",children:s.tier})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Status:"}),e.jsxs(Y,{className:`text-xs p-1 ${s.status==="accepted"?"bg-green-500 text-white":""} ${s.status==="sent"?"bg-yellow-500 text-white":""} ${s.status==="received"?"bg-blue-500 text-white":""}`,children:[s.status==="accepted"&&"Connected",s.status==="sent"&&"Request Sent",s.status==="received"&&"Pending Request"]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[s.status==="accepted"&&e.jsx(u,{size:"sm",variant:"outline",className:"flex-1",onClick:async()=>{Re(s),Me(o=>o.some(U=>U.user.id===s.id)?o:[{user:s,last_message:""},...o]),x("chat"),await ze(s)},children:"Chat"}),e.jsx(u,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{st(s),Oe(!0)},children:"View Profile"})]})]})},s.id))]})})]})});case"chat":return e.jsxs(P,{children:[e.jsxs(O,{children:[e.jsx($,{children:"Messages"}),e.jsx(G,{children:"Connect with other members"})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Conversations"}),Xs.map((s,o)=>e.jsxs("div",{onClick:()=>ze(s.user),className:"p-3 bg-muted rounded-lg cursor-pointer hover:bg-muted/80",children:[e.jsx("div",{className:"font-medium",children:s.user.name}),e.jsx("div",{className:"text-sm text-muted-foreground truncate",children:s.last_message||"Say hi ðŸ‘‹"})]},o))]}),e.jsx("div",{className:"md:col-span-2 p-6 bg-muted rounded-lg",children:re?e.jsxs("div",{className:"flex flex-col h-[400px]",children:[e.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4",children:Ws.map(s=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:`flex justify-between items-end p-2 rounded-lg max-w-xs ${s.sender_id===re.id?"bg-white":"bg-primary text-white ml-auto"}`,children:[e.jsx("span",{children:s.message}),e.jsx("span",{className:"text-[12px]",children:new Date(s.created_at).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})})]},s.id)}))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(R,{value:he,onChange:s=>Le(s.target.value),placeholder:"Type a message..."}),e.jsx(u,{onClick:pt,children:"Send"})]})]}):e.jsx("p",{className:"text-muted-foreground text-center",children:"Select a conversation to view messages"})})]})})]});case"featured":return e.jsxs(P,{children:[e.jsxs(O,{children:[e.jsx($,{children:"Featured Status"}),e.jsx(G,{children:"Your featured member benefits"})]}),e.jsx(M,{children:e.jsxs("div",{className:"p-6 bg-accent rounded-lg text-center",children:[e.jsx(He,{className:"w-16 h-16 mx-auto mb-4 text-accent-foreground"}),e.jsx("h3",{className:"font-semibold text-xl mb-2",children:y.featured?"You're Featured!":"Upgrade to Get Featured!"}),e.jsx("p",{className:"text-sm mb-4",children:y.featured?"Your profile is highlighted across the platform":"Get priority placement and visibility"}),e.jsx(u,{onClick:()=>!y.featured&&b(!0),className:`${y.featured?"bg-green-600 hover:bg-green-700 cursor-default":"bg-primary hover:bg-primary/90"} text-primary-foreground`,disabled:!!y.featured,children:y.featured?"Activated":"Activate"}),y.featured&&y.featured_valid&&(()=>{const s=new Date(y.featured_valid),o=s.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),U=s-new Date,_=Math.ceil(U/(1e3*60*60*24));return e.jsxs("p",{className:`text-sm mt-3 ${_<=0?"text-red-500":_<=3?"text-yellow-500":"text-muted-foreground"}`,children:["Expires on ",e.jsx("strong",{children:o}),_>0?` Â· ${_} day${_>1?"s":""} left`:" Â· Expired"]})})()]})})]});case"settings":return e.jsxs(P,{children:[e.jsxs(O,{children:[e.jsx($,{children:"Account Settings"}),e.jsx(G,{children:"Manage your account preferences and security"})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Account Information"}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"email",children:"Email"}),e.jsx(R,{id:"email",type:"email",defaultValue:y.email,disabled:!0})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Change Password"}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"current-password",children:"Current Password"}),e.jsx(R,{id:"current-password",type:"password",placeholder:"Enter current password",value:E,onChange:s=>z(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"new-password",children:"New Password"}),e.jsx(R,{id:"new-password",type:"password",placeholder:"Enter new password",value:q,onChange:s=>i(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsx(R,{id:"confirm-password",type:"password",placeholder:"Confirm new password",value:c,onChange:s=>V(s.target.value)})]}),e.jsx(u,{onClick:at,className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:F,children:F?"Updating...":"Update Password"})]})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-background flex",children:[e.jsx("div",{className:"hidden md:flex",children:e.jsx(ts,{activeSection:r,onSectionChange:x})}),e.jsx("div",{className:`
      fixed inset-y-0 left-0 z-50 md:hidden 
      w-[260px]
      transform transition-transform duration-300
      ${Zs?"translate-x-0":"-translate-x-full"}
    `,children:e.jsx(ts,{mobile:!0,activeSection:r,onSectionChange:x,onClose:()=>Te(!1)})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-card border-b border-[#F3D6E3] sticky top-0 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsx("button",{className:"md:hidden p-2 rounded hover:bg-muted",onClick:()=>Te(!0),children:e.jsx(wt,{className:"w-6 h-6 text-foreground"})}),e.jsx("div",{className:"flex items-center gap-4 flex-1 max-w-md ml-3 md:ml-0",children:e.jsx(as,{href:"/",children:e.jsxs(u,{children:[e.jsx("span",{children:e.jsx(Xt,{})}),"Main Page"]})})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{variant:"ghost",size:"icon",children:e.jsx(ea,{className:"w-5 h-5"})}),e.jsxs(Ye,{children:[e.jsx(Ke,{src:y.image,alt:y.name}),e.jsx(qe,{children:y.name?.[0]||"G"})]})]})]})}),e.jsx("div",{className:"p-6 space-y-4 bg-muted/30",children:e.jsx(P,{className:"w-full max-w-[1200px] mx-auto",children:e.jsx(M,{children:e.jsxs(Vt,{className:"w-full",opts:{align:"start",loop:!0},plugins:[zt({delay:2e3})],children:[e.jsx(Gt,{className:"-ml-2",children:Os.filter(s=>s.active&&s.user_id===7).map(s=>e.jsx(Yt,{className:"pl-2 md:basis-1/2 lg:basis-1/3",children:e.jsx(P,{className:"p-4 border border-border/60 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[s.image&&e.jsx("div",{className:"w-full h-40 rounded-lg overflow-hidden bg-muted border",children:e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h3",{className:"font-semibold text-foreground truncate",children:s.title})}),s.link&&e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline inline-block",children:"Learn More â†’"})]})]})})},s.id))}),e.jsx(Kt,{}),e.jsx(qt,{})]})})})}),e.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[e.jsxs("h1",{className:"text-3xl font-heading mb-6",children:[r==="dashboard"&&"Welcome Back!",r==="profile"&&"My Profile",r==="membership"&&"Membership Plans",r==="editor"&&"Landing Page Editor",r==="chat"&&"Chat",r==="featured"&&"Featured",r==="settings"&&"Settings"]}),ft()]})]}),e.jsx(Ta,{open:tt,onOpenChange:Oe,data:et}),e.jsx(Ea,{profile:y,open:m,onOpenChange:d,onEdit:()=>{d(!1),j(!0)},onViewIncrement:it}),e.jsx(Ct,{profile:y,open:f,onOpenChange:j,onSave:nt}),e.jsx(Ht,{isOpen:v,onClose:()=>C(!1),tier:D}),e.jsx(ka,{open:k,onOpenChange:b}),e.jsx(St,{ad:Ce,open:me,onOpenChange:ae,onSave:mt}),_e&&e.jsx(_a,{open:Hs,onOpenChange:Ie,adForm:_e.adMeta})]})};export{qa as default};
