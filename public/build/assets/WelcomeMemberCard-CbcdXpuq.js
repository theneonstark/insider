import{r as d,j as e,L as C}from"./app-ClYA7cQL.js";import{I,X as L,z as f,N as k}from"./apis-bgnmlXfr.js";import{S as g,a as w,b as y,c as S,d as b}from"./select-BRQNhRw-.js";import{a as z,B as j,C as F,f as V,h as B}from"./createLucideIcon-DQNwqnBP.js";import{S as E,B as _,E as T}from"./badge-DpGQaOoN.js";import{u as W}from"./use-toast-Dl4cUgos.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],q=z("search",$),H=({industries:a=[],regions:m=[],onSearch:r})=>{const[i,n]=d.useState(""),[t,o]=d.useState(""),[h,l]=d.useState(""),[u,x]=d.useState(!1),v=async()=>{const s={name:i.trim()||void 0,location:t||void 0,industry:h||void 0};if(!s.name&&!s.location&&!s.industry){f.error("Please enter at least one filter to search.");return}try{x(!0),r?.(s)}catch(c){console.error("Search failed:",c),f.error("Something went wrong while searching.")}finally{x(!1)}},p=()=>{n(""),o(""),l(""),r?.({}),f.success("Filters cleared")};return e.jsxs("div",{className:"bg-card p-6 rounded-2xl shadow-[var(--shadow-soft)] space-y-4",children:[e.jsx(I,{type:"text",placeholder:"Search by name",value:i,onChange:s=>n(s.target.value),className:"w-full"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(g,{value:t,onValueChange:o,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select Location"})}),e.jsx(S,{className:"bg-popover",children:m.length>0?m.map(s=>e.jsx(b,{value:s.regionId,children:s.regionName},s.regionId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No locations available"})})]}),e.jsxs(g,{value:h,onValueChange:l,children:[e.jsx(w,{children:e.jsx(y,{placeholder:"Select Industry"})}),e.jsx(S,{className:"bg-popover",children:a.length>0?a.map(s=>e.jsx(b,{value:s.industryId,children:s.industryName},s.industryId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No industries available"})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(j,{onClick:v,disabled:u,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),u?"Searching...":"Search"]}),e.jsxs(j,{variant:"outline",onClick:p,className:"w-full flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4"}),"Clear"]})]})]})},J=({id:a,featured:m,name:r,industry:i,tier:n,region:t,image:o,views:h=0,onViewProfile:l,isFeatured:u})=>{const[x,v]=d.useState(h),{toast:p}=W(),s=async()=>{try{const c=await k(a);if(c.status){const N=Number(c.views);v(N),l&&l({id:a,name:r,industry:i,region:t,tier:n,image:o,views:N})}p({description:"+1 view",duration:2e3}),l&&l({id:a,name:r,industry:i,region:t,tier:n,image:o,views:Number(c.views)})}catch(c){console.error("Failed to increase view:",c),p({description:"Failed to increase view",variant:"destructive"})}};return e.jsxs(F,{className:"relative animate-fade-in hover-lift overflow-hidden",children:[(u||m)&&e.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white p-1 rounded-full shadow-md z-50",children:e.jsx(E,{size:16})}),e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:o,alt:r,className:"w-full h-full object-cover"})}),e.jsxs(V,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:r}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i?.industryName," ",t?.regionName&&`(${t?.regionName})`]})]}),e.jsx(_,{className:"p-1",children:n?.tier_name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsxs("span",{children:[x," views"]})]})]}),e.jsxs(B,{className:"p-4 pt-0 flex gap-2",children:[e.jsx(j,{variant:"outline",size:"sm",onClick:s,className:"flex-1",children:"View"}),e.jsx(C,{href:`/profile/${a}`,children:e.jsx(j,{size:"sm",className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground",children:"Profile"})})]})]})};export{H as S,J as W};
