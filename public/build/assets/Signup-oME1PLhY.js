import{r as o,j as e,L as c}from"./app-CBv3FDtH.js";import{C as x,a as g,b as f,d as j,e as y,B as b}from"./index-Dpk-l6uq.js";import{I as i,F as v,D as N,z as l,k as w}from"./apis-kgWsXXqB.js";import{L as n}from"./label-CoH1Al4d.js";import{S as C,e as S,f as T,g as F,h as B}from"./select-C6RNBWv0.js";import"./createLucideIcon-C8cpZrxq.js";const A=()=>{const[r,t]=o.useState({fullName:"",email:"",phone:"",businessType:"",dob:"",password:""}),[d,u]=o.useState([]),[m,h]=o.useState(!0);o.useEffect(()=>{(async()=>{try{const a=await N();a.status===200&&a.data.status?u(a.data.region||[]):l.error("Failed to load business types")}catch(a){console.error("Error fetching business types:",a),l.error("Something went wrong while loading business types")}finally{h(!1)}})()},[]);const p=async s=>{s.preventDefault();try{const a=await w(r);console.log(a.data),l.success("Register Success"),setTimeout(()=>{window.location.href="/dashboard"},2e3)}catch(a){console.error(a),l.error(a.response?.data?.message||"Something went wrong")}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-hero)"},children:[e.jsxs(x,{className:"w-full max-w-md animate-fade-in",children:[e.jsxs(g,{className:"text-center",children:[e.jsx(c,{href:"/",className:"flex justify-center mb-4",children:e.jsx("img",{src:"/assets/logo.png",alt:"Insiders Index",className:"h-16 w-auto"})}),e.jsx(f,{className:"text-2xl font-heading",children:"Create Your Account"}),e.jsx(j,{children:"Become an Insider today!"})]}),e.jsxs(y,{children:[e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"fullName",children:"Full Name"}),e.jsx(i,{id:"fullName",type:"text",required:!0,value:r.fullName,onChange:s=>t({...r,fullName:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(i,{id:"email",type:"email",required:!0,value:r.email,onChange:s=>t({...r,email:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone Number"}),e.jsx(i,{id:"phone",type:"tel",required:!0,value:r.phone,onChange:s=>t({...r,phone:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"businessType",children:"Business Type"}),m?e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading business types..."}):e.jsxs(C,{value:r.businessType,onValueChange:s=>t({...r,businessType:s}),children:[e.jsx(S,{children:e.jsx(T,{placeholder:"Select business type"})}),e.jsx(F,{className:"bg-popover",children:d.length>0?d.map(s=>e.jsx(B,{value:s.regionName,children:s.regionName},s.regionId)):e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No business types found"})})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"dob",children:"Date of Birth"}),e.jsx(i,{id:"dob",type:"date",required:!0,value:r.dob,onChange:s=>t({...r,dob:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"password",children:"Password"}),e.jsx(i,{id:"password",type:"password",required:!0,value:r.password,onChange:s=>t({...r,password:s.target.value})})]}),e.jsx(b,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:"Create Account"})]}),e.jsxs("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(c,{href:"/login",className:"text-primary hover:underline",children:"Login"})]})]})]}),e.jsx(v,{})]})};export{A as default};
