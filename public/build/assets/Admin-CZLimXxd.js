import{r as t,j as e,L as as,u as ts}from"./app-CXhewK73.js";import{c as A,a as ne,B as o,C as b,b as y,d as N,e as S,f as T}from"./createLucideIcon-DBXI4z0K.js";import{X as ye,I as g,D as rs,a as ns,g as is,F as ls,u as ds,r as cs,b as os,c as ms,z as c,d as hs,e as us,f as xs,C as ps,h as js,i as fs}from"./apis-CTCHrUY0.js";import{L as m}from"./label-BeecK6uF.js";import{H as gs,U as Ne,S as vs,L as bs,A as ys,C as Ns,M as ws,a as Ss,b as As,E as Cs,c as ks,d as Ts,e as ve}from"./EditAdModal-D2G4bASV.js";import{S as Fs}from"./badge-DEzqDero.js";import{u as Ds,P as Is}from"./use-toast-D_MxZp4Q.js";import{D as ee,a as se,b as ae,c as te}from"./dialog-Ce3YjQRs.js";import{S as Y,a as K,b as Q,c as Z,d as R}from"./select-ILUzj8H5.js";const we=t.forwardRef(({className:r,...i},l)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:l,className:A("w-full caption-bottom text-sm",r),...i})}));we.displayName="Table";const Se=t.forwardRef(({className:r,...i},l)=>e.jsx("thead",{ref:l,className:A("[&_tr]:border-b",r),...i}));Se.displayName="TableHeader";const Ae=t.forwardRef(({className:r,...i},l)=>e.jsx("tbody",{ref:l,className:A("[&_tr:last-child]:border-0",r),...i}));Ae.displayName="TableBody";const _s=t.forwardRef(({className:r,...i},l)=>e.jsx("tfoot",{ref:l,className:A("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...i}));_s.displayName="TableFooter";const re=t.forwardRef(({className:r,...i},l)=>e.jsx("tr",{ref:l,className:A("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",r),...i}));re.displayName="TableRow";const F=t.forwardRef(({className:r,...i},l)=>e.jsx("th",{ref:l,className:A("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...i}));F.displayName="TableHead";const D=t.forwardRef(({className:r,...i},l)=>e.jsx("td",{ref:l,className:A("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...i}));D.displayName="TableCell";const Ms=t.forwardRef(({className:r,...i},l)=>e.jsx("caption",{ref:l,className:A("mt-4 text-sm text-muted-foreground",r),...i}));Ms.displayName="TableCaption";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],Rs=ne("chart-no-axes-column-increasing",Us);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ls=ne("dollar-sign",Es);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],$s=ne("megaphone",Os),be=({activeSection:r,onSectionChange:i,mobile:l=!1,onClose:h})=>{const d=[{id:"overview",label:"Overview",icon:gs},{id:"ads",label:"Ads Management",icon:$s},{id:"users",label:"User Listings",icon:Ne},{id:"featured",label:"Featured Members",icon:Fs},{id:"revenue",label:"Revenue Tracking",icon:Rs},{id:"settings",label:"Settings",icon:vs}];return e.jsxs("aside",{className:`
        w-[270px] min-h-screen bg-[#FFF1F4] border-r border-[#F2C1D3]
        flex flex-col relative
        ${l?"shadow-2xl":""}
      `,children:[l&&e.jsx("button",{onClick:h,className:`\r
            absolute right-3 top-3 z-50 \r
            p-2 rounded-md\r
            bg-white/80 backdrop-blur-md\r
            hover:bg-white transition\r
          `,children:e.jsx(ye,{className:"w-5 h-5"})}),e.jsx("div",{className:"p-6",children:e.jsx("h2",{className:"text-xl font-heading text-foreground",children:"Admin Panel"})}),e.jsx("nav",{className:"flex-1 px-3 space-y-1",children:d.map(p=>{const I=p.icon,_=r===p.id;return e.jsxs("button",{onClick:()=>{i(p.id),l&&h&&h()},className:`
                w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all
                ${_?"bg-primary text-primary-foreground shadow-sm":"text-[#6B6B6B] hover:bg-primary/10"}
              `,children:[e.jsx(I,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:p.label})]},p.id)})}),e.jsx("div",{className:"p-4 border-t border-[#F2C1D3]",children:e.jsx(as,{href:"/auth/logout",children:e.jsxs(o,{variant:"ghost",className:`\r
              w-full justify-start gap-3 \r
              text-[#6B6B6B] hover:bg-primary/10\r
            `,children:[e.jsx(bs,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})})})]})},Ps=({open:r,onOpenChange:i,onAddUser:l})=>{const{toast:h}=Ds(),[d,p]=t.useState({name:"",email:"",phone:"",businessType:"",state:"",dob:"",bio:"",tier:"1",businessId:"",stateId:""}),[I,_]=t.useState({industry:[],region:[]}),[u,C]=t.useState(!1);t.useEffect(()=>{(async()=>{try{const j=await rs();j.status===200&&j.data.status===!0?_({industry:j.data.industry||[],region:j.data.region||[]}):h.error("Unable to load dropdown data")}catch{h.error("Error loading dropdown")}})()},[]);const E=async n=>{n.preventDefault(),C(!0);const j={name:d.name,email:d.email,phone:d.phone,dob:d.dob,businessType:d.businessType,industry_id:d.businessId||null,region_id:d.stateId||null,state:d.state,tier:d.tier};try{const w=await ns(j);w.data.status===!0?(h({title:"User Added",description:`${d.name} added successfully.`}),l(w.data.data),p({name:"",email:"",phone:"",businessType:"",state:"",dob:"",tier:"1",businessId:"",stateId:""}),i(!1)):h.error(w.data.message||"Failed to add user")}catch{h.error("Error adding user")}finally{C(!1)}},v=(n,j)=>{p(w=>({...w,[n]:j}))};return e.jsx(ee,{open:r,onOpenChange:i,children:e.jsxs(se,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ae,{children:e.jsx(te,{children:"Add New User"})}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Full Name *"}),e.jsx(g,{value:d.name,onChange:n=>v("name",n.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Email *"}),e.jsx(g,{type:"email",value:d.email,onChange:n=>v("email",n.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Phone"}),e.jsx(g,{value:d.phone,onChange:n=>v("phone",n.target.value)})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Date of Birth"}),e.jsx(g,{type:"date",value:d.dob,onChange:n=>v("dob",n.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Industry"}),e.jsxs(Y,{value:d.businessId?d.businessId.toString():"",onValueChange:n=>v("businessId",parseInt(n)),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"-- Select Industry --"})}),e.jsx(Z,{children:I.industry.map(n=>e.jsx(R,{value:n.industryId.toString(),children:n.industryName},n.industryId))})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"State"}),e.jsxs(Y,{value:d.stateId?d.stateId.toString():"",onValueChange:n=>v("stateId",parseInt(n)),children:[e.jsx(K,{children:e.jsx(Q,{placeholder:"-- Select State --"})}),e.jsx(Z,{children:I.region.map(n=>e.jsx(R,{value:n.regionId.toString(),children:n.regionName},n.regionId))})]})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Membership Tier *"}),e.jsxs(Y,{value:d.tier,onValueChange:n=>v("tier",n),children:[e.jsx(K,{children:e.jsx(Q,{})}),e.jsxs(Z,{children:[e.jsx(R,{value:"1",children:"Twinkle"}),e.jsx(R,{value:"2",children:"Sparkle"}),e.jsx(R,{value:"3",children:"Shine"}),e.jsx(R,{value:"4",children:"Shine Plus"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(o,{type:"submit",disabled:u,children:u?"Adding...":"Add User"})]})]})]})})},Ks=()=>{const[r,i]=t.useState("overview"),[l,h]=t.useState(!1),[d,p]=t.useState(!1),[I,_]=t.useState(!1),[u,C]=t.useState(null),[E,v]=t.useState([]),[n,j]=t.useState(0),[w,Ce]=t.useState(!0),[P,V]=t.useState(null),[H,ke]=t.useState({total_revenue:0,current_month_revenue:0,last_month_revenue:0,revenue_change_percent:0}),[M,L]=t.useState([]),[O,q]=t.useState({name:"",email:""}),[ie,Vs]=t.useState(!1),[Te,le]=t.useState(!1),[Fe,De]=t.useState(null),[de,G]=t.useState(null),[ce,J]=t.useState(null),[Ie,oe]=t.useState([]),[me,he]=t.useState(""),[ue,xe]=t.useState(""),[pe,je]=t.useState(!1),[_e,fe]=t.useState(!1),[Me,W]=t.useState(!1),[Ue,X]=t.useState(!1),[B,ge]=t.useState(""),{props:Re}=ts(),U=Re.auth?.user;t.useEffect(()=>{U&&q({name:U.name,email:U.email})},[U]);const Ee=async()=>{try{const s=await ds();L(s.data)}catch(s){console.error("Something went wrong while fetching:",s)}},Le=async()=>{try{const s=await cs();s.data.status&&ke(s.data.data)}catch(s){console.error("Error fetching revenue:",s)}};t.useEffect(()=>{z()},[]);const z=async()=>{try{const s=await is();console.log(s.data.data),s.data.status&&oe(s.data.data)}catch(s){console.log("Failed to load ads",s)}},Oe=async()=>{const s=new FormData;s.append("user_id",U.id),s.append("title",me),s.append("link",ue),s.append("active",pe?1:0),de&&s.append("image",de);try{(await ps(s)).data.status&&(c.success("Ad created!"),z(),he(""),xe(""),G(null),J(null),je(!1))}catch(a){console.log(a),c.error("Ad creation failed")}},$e=async(s,a)=>{try{(await js(s,{active:a?1:0})).data.status&&(c.success("Status updated"),oe(k=>k.map(f=>f.id===s?{...f,active:a?1:0}:f)))}catch(x){console.log(x),c.error("Failed to update status")}},Pe=async s=>{if(confirm("Are you sure you want to delete this ad?"))try{(await fs(s.id)).data.status&&(c.success("Ad deleted"),z())}catch(a){console.log(a),c.error("Failed to delete ad")}};t.useEffect(()=>{Ee(),Le()},[]),t.useEffect(()=>{(async()=>{try{const a=await os();a.data.status&&(v(a.data.data),j(a.data.total))}catch(a){console.error("Error fetching revenue:",a)}finally{Ce(!1)}})()},[]);const Ve=s=>{C(s),h(!0)},Be=()=>{u&&(L(s=>s.map(a=>a.email===u.email?{...a,views:a.views}:a)),C(s=>({...s,views:s.views})))},ze=s=>{L(a=>a.map(x=>x.email===u.email?s:x)),C(s)},He=s=>{L(a=>[...a,s])};if(w)return e.jsx(b,{children:e.jsxs(y,{children:[e.jsx(N,{children:"Revenue Tracking"}),e.jsx(S,{children:"Loading revenue data..."})]})});const qe=[{title:"Total Users",value:M.length.toString(),icon:Ne,change:"+12%"},{title:"Monthly Revenue",value:`$${H.current_month_revenue}`,icon:Ls,change:`${H.revenue_change_percent>0?"+":""}${H.revenue_change_percent}%`},{title:"Featured Members",value:M.filter(s=>s.featured).length.toString(),icon:ys,change:"+4%"},{title:"Active Ads",value:"2",icon:Ns,change:"0%"}],Ge=()=>{if(E.length===0)return;const s=["Plan Title","Total Members","Total Revenue"],a=E.map($=>[$.plan_title,$.total_members,`$${parseFloat($.total_revenue).toFixed(2)}`]);a.push(["Total","",`$${parseFloat(n).toFixed(2)}`]);const x=[s.join(","),...a.map($=>$.join(","))].join(`
`),k=new Blob([x],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a"),ss=URL.createObjectURL(k);f.setAttribute("href",ss),f.setAttribute("download",`revenue-report-${new Date().toISOString().split("T")[0]}.csv`),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f)},Je=async s=>{V(s);try{const a=await us(s);a.data.status&&(c.success(a.data.message),L(x=>x.map(k=>k.id===s?{...k,featured:0}:k)))}catch{c.error("Failed to remove feature")}finally{V(null)}},We=s=>{De(s),le(!0)},Xe=async(s,a)=>{try{(await ms(s,a)).data.status&&(c.success("Ad updated"),z())}catch(x){console.log(x),c.error("Update failed")}},Ye=async s=>{s.preventDefault();try{const a=await hs(O);a.data.status?c.success("Settings updated successfully!"):c.error(a.data.message||"Update failed")}catch(a){console.error(a),c.error("Something went wrong while saving settings")}},Ke=s=>{const a=s.target.files[0];a&&(G(a),J(URL.createObjectURL(a)))},Qe=()=>{J(null),G(null)},Ze=async()=>{if(!B||B<=0)return c.error("Enter valid days");try{V(u.id),await xs({user_id:Number(u.id),days:Number(B)}),c.success("Feature Activated!"),X(!1),ge("")}catch{c.error("Something went wrong")}finally{V(null)}},es=()=>{switch(r){case"overview":return e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:qe.map((s,a)=>e.jsxs(b,{className:"animate-fade-in",children:[e.jsxs(y,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(N,{className:"text-sm font-medium",children:s.title}),e.jsx(s.icon,{className:"w-4 h-4 text-primary"})]}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.value}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.change," from last month"]})]})]},a))});case"users":return e.jsxs(b,{children:[e.jsxs(y,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(N,{children:"User Management"}),e.jsx(S,{children:"View and manage all registered users"})]}),e.jsx(o,{onClick:()=>_(!0),children:"Add User"})]}),e.jsx(T,{children:e.jsxs(we,{children:[e.jsx(Se,{children:e.jsxs(re,{children:[e.jsx(F,{children:"Name"}),e.jsx(F,{children:"Email"}),e.jsx(F,{children:"Tier"}),e.jsx(F,{children:"Views"}),e.jsx(F,{children:"Featured"}),e.jsx(F,{children:"Actions"})]})}),e.jsx(Ae,{children:M.map((s,a)=>e.jsxs(re,{children:[e.jsx(D,{className:"font-medium",children:s.name}),e.jsx(D,{children:s.email}),e.jsx(D,{children:s?.tier?.tier_name}),e.jsx(D,{children:s.views}),e.jsx(D,{children:s.featured?"Yes":"No"}),e.jsx(D,{children:e.jsx("div",{className:"flex gap-2",children:e.jsx(o,{size:"sm",variant:"outline",onClick:()=>Ve(s),children:"View"})})})]},a))})]})})]});case"ads":return e.jsxs(b,{children:[e.jsxs(y,{children:[e.jsx(N,{children:"Ads Management"}),e.jsx(S,{children:"Create and manage promotional ads"})]}),e.jsxs(T,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"ad-title",children:"Ad Title"}),e.jsx(g,{id:"ad-title",placeholder:"Join our community of women",value:me,onChange:s=>he(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"ad-link",children:"CTA Link"}),e.jsx(g,{id:"ad-link",placeholder:"https://...",value:ue,onChange:s=>xe(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Ad Image"}),e.jsxs("div",{className:"space-y-3",children:[ce?e.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border",children:[e.jsx("img",{src:ce,alt:"Ad preview",className:"w-full h-48 object-cover"}),e.jsx(o,{type:"button",size:"icon",variant:"destructive",className:"absolute top-2 right-2",onClick:Qe,children:e.jsx(ye,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",onClick:()=>document.getElementById("new-ad-image")?.click(),children:[e.jsx(Ts,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload image"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG up to 5MB"})]}),e.jsx("input",{id:"new-ad-image",type:"file",accept:"image/*",className:"hidden",onChange:Ke})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{id:"ad-active",checked:pe,onCheckedChange:s=>je(s)}),e.jsx(m,{htmlFor:"ad-active",children:"Active"})]}),e.jsx(o,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:Oe,children:"Save Ad"})]}),e.jsxs("div",{className:"pt-6 border-t",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Current Ads"}),e.jsx("div",{className:"space-y-3",children:Ie.map(s=>e.jsxs("div",{className:"p-4 bg-muted rounded-lg flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"font-medium",children:s.description}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.active?"Active":"Inactive"})]}),e.jsxs("div",{className:"space-x-3 flex items-center",children:[e.jsx(ve,{checked:!!s.active,onCheckedChange:a=>$e(s.id,a)}),e.jsx(o,{size:"sm",variant:"outline",onClick:()=>We(s),children:"Edit"}),e.jsx(o,{size:"sm",variant:"destructive",onClick:()=>Pe(s),children:"Delete"})]})]},s.id))})]})]})]});case"featured":return e.jsxs(e.Fragment,{children:[e.jsxs(b,{children:[e.jsxs(y,{children:[e.jsx(N,{children:"Featured Members"}),e.jsx(S,{children:"Manage featured member placements"})]}),e.jsxs(T,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select members to feature in the homepage carousel"}),e.jsx("div",{className:"space-y-3",children:M.filter(s=>s.featured).length>0?M.filter(s=>s.featured).map(s=>e.jsxs("div",{className:"p-4 bg-accent rounded-lg flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.tier?.tier_name||"Member"," â€¢ ",s.views||0," views"]})]}),e.jsx(o,{size:"sm",variant:"outline",onClick:()=>Je(s.id),disabled:P===s.id,children:P===s.id?"Removing...":"Remove"})]},s.id)):e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No featured members yet"})}),e.jsx(o,{onClick:()=>W(!0),className:"mt-4 bg-primary hover:bg-primary/90 text-primary-foreground",children:"Add Featured Member"})]})]}),e.jsx(ee,{open:Me,onOpenChange:W,children:e.jsxs(se,{className:"max-w-md",children:[e.jsx(ae,{children:e.jsx(te,{children:"Select a User"})}),e.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:M.map(s=>e.jsxs("div",{className:"flex items-center justify-between border p-2 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.email})]}),e.jsx(o,{size:"sm",onClick:()=>{C(s),W(!1),X(!0)},children:"Add"})]},s.id))})]})}),e.jsx(ee,{open:Ue,onOpenChange:X,children:e.jsxs(se,{className:"max-w-sm",children:[e.jsx(ae,{children:e.jsx(te,{children:"Feature for how many days?"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(g,{placeholder:"Enter number of days",type:"number",value:B,onChange:s=>ge(s.target.value)}),e.jsx(o,{disabled:P===u?.id,onClick:Ze,className:"w-full bg-primary hover:bg-primary/90",children:P===u?.id?"Activating...":"Activate Feature"})]})]})})]});case"revenue":return e.jsxs(b,{children:[e.jsxs(y,{children:[e.jsx(N,{children:"Revenue Tracking"}),e.jsx(S,{children:"View revenue breakdown by tier"})]}),e.jsxs(T,{children:[e.jsxs("div",{className:"space-y-4",children:[E.map((s,a)=>e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-medium",children:[s.plan_title," ",s.plan_title==="Twinkle"?"($100/yr)":s.plan_title==="Sparkle"?"($50/yr)":"($25/yr)"]}),e.jsxs("span",{className:"text-xl font-bold",children:["$",parseFloat(s.total_revenue).toLocaleString()]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.total_members," active members"]})]},a)),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-lg",children:"Total Monthly Revenue"}),e.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",parseFloat(n).toLocaleString()]})]})})]}),e.jsx(o,{onClick:Ge,className:"mt-6 bg-primary hover:bg-primary/90 text-primary-foreground",children:"Export CSV"})]})]});case"editor":return e.jsxs(b,{children:[e.jsxs(y,{children:[e.jsx(N,{children:"User Profile Editor"}),e.jsx(S,{children:"Edit user profiles and business information"})]}),e.jsxs(T,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Select User"}),e.jsx(g,{placeholder:"Search users..."})]}),e.jsx("div",{className:"p-8 bg-muted rounded-lg text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Select a user to edit their profile"})})]})]});case"settings":return e.jsxs(b,{children:[e.jsxs(y,{children:[e.jsx(N,{children:"Admin Settings"}),e.jsx(S,{children:"Manage platform settings"})]}),e.jsx(T,{className:"space-y-4",children:e.jsxs("form",{onSubmit:Ye,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"platform-name",children:"Admin Name"}),e.jsx(g,{id:"platform-name",type:"text",value:O.name,onChange:s=>q({...O,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"support-email",children:"Admin Email"}),e.jsx(g,{id:"support-email",type:"email",value:O.email,onChange:s=>q({...O,email:s.target.value})})]}),e.jsx(o,{type:"submit",disabled:ie,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:ie?"Saving...":"Save Settings"})]})})]});default:return e.jsx(b,{children:e.jsxs(y,{children:[e.jsx(N,{children:"Dashboard"}),e.jsxs(S,{children:["Welcome, ",U?.name||"Admin"]})]})})}};return e.jsxs("div",{className:"min-h-screen bg-background flex",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(be,{activeSection:r,onSectionChange:i})}),e.jsx("div",{className:`
          fixed inset-y-0 left-0 z-50 md:hidden
          w-[270px]
          transform transition-transform duration-300
          ${_e?"translate-x-0":"-translate-x-full"}
        `,children:e.jsx(be,{mobile:!0,activeSection:r,onSectionChange:i,onClose:()=>fe(!1)})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-card border-b border-[#F2C1D3] sticky top-0 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsx("button",{className:"md:hidden p-2 rounded hover:bg-muted",onClick:()=>fe(!0),children:e.jsx(ws,{className:"w-6 h-6 text-foreground"})}),e.jsx("div",{className:"flex items-center gap-4 flex-1 max-w-md"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{variant:"ghost",size:"icon"}),e.jsx(Ss,{children:e.jsx(As,{children:"AD"})})]})]})}),e.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[e.jsxs("h1",{className:"text-3xl font-heading mb-6",children:[r==="overview"&&"Admin Dashboard",r==="ads"&&"Ads Management",r==="users"&&"User Listings",r==="featured"&&"Featured Members",r==="revenue"&&"Revenue Tracking",r==="editor"&&"Profile Editor",r==="settings"&&"Settings"]}),es()]})]}),e.jsx(Is,{profile:u,open:l,onOpenChange:h,onEdit:()=>{h(!1),p(!0)},onViewIncrement:Be}),e.jsx(Cs,{profile:u,open:d,onOpenChange:p,onSave:ze}),e.jsx(Ps,{open:I,onOpenChange:_,onAddUser:He}),e.jsx(ks,{ad:Fe,open:Te,onOpenChange:le,onSave:Xe}),e.jsx(ls,{})]})};export{Ks as default};
