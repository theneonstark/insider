import{r as a,j as e}from"./app-SQBbOcLR.js";import{N as y,F as v}from"./Footer-BtQ1bAqJ.js";import{S as w}from"./SearchFilters-G8sYDWVJ.js";import{C as b,e as S,g as C,B as p}from"./index-16-0nrMD.js";import{B as D,E}from"./badge-CEe_JK0c.js";import{u as F}from"./use-toast-B4lKNmxD.js";import{D as z,f as j,z as m}from"./apis-C-LB-TNB.js";import"./select-BWJp9MXD.js";import"./createLucideIcon-CEetH4QU.js";import"./search-C9j2ndl5.js";const B=({name:r,business_type:n,tier:o,image:u,views:i=0})=>{const[x,f]=a.useState(i),{toast:l}=F(),h={Shine:"bg-secondary text-secondary-foreground",Sparkle:"bg-primary text-primary-foreground",Elite:"bg-accent text-accent-foreground"},t=()=>{f(s=>s+1),l({description:"+1 view",duration:2e3})};return e.jsxs(b,{className:"animate-fade-in hover-lift overflow-hidden",children:[e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:u,alt:r,className:"w-full h-full object-cover"})}),e.jsxs(S,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:r}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n})]}),e.jsx(D,{className:h[o],children:o})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsxs("span",{children:[x," views"]})]})]}),e.jsxs(C,{className:"p-4 pt-0 flex gap-2",children:[e.jsx(p,{variant:"outline",size:"sm",onClick:t,className:"flex-1",children:"View"}),e.jsx(p,{size:"sm",className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground",children:"Profile"})]})]})},_=()=>{const[r,n]=a.useState([]),[o,u]=a.useState({industry:[],region:[]}),[i,x]=a.useState(!0),[f,l]=a.useState(!1);a.useEffect(()=>{(async()=>{try{const s=await z();s.status===200&&s.data.status===!0&&u({industry:s.data.industry||[],region:s.data.region||[]});const c=await j({});if(c.status===200&&c.data.status){const g=(c.data.data||[]).filter(N=>N.role!=="admin");n(g)}}catch(s){console.error("Error loading data:",s),m.error("Failed to load users")}finally{x(!1)}})()},[]);const h=async t=>{l(!0);try{const s=await j(t);if(s.status===200&&s.data.status){const d=(s.data.data||[]).filter(g=>g.role!=="admin");n(d),m.success(`${d.length} result${d.length>1?"s":""} found`)}else n([]),m.error("No results found")}catch(s){console.error("Search error:",s),m.error("Search failed")}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(y,{}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-heading text-center mb-4 text-foreground",children:"Find a Superstar"}),e.jsx("p",{className:"text-center text-lg text-muted-foreground mb-12",children:"Search members by name, location, or industry"}),e.jsx("div",{className:"max-w-3xl mx-auto mb-12",children:i?e.jsx("div",{className:"text-center py-10 text-muted-foreground animate-pulse",children:"Loading filters..."}):e.jsx(w,{industries:o.industry,regions:o.region,onSearch:h})}),i||f?e.jsx("div",{className:"text-center py-20 text-muted-foreground animate-pulse",children:i?"Loading users...":"Searching..."}):r.length>0?e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8 transition-all duration-300",children:r.map((t,s)=>e.jsx(B,{name:t.name,title:t.business_type||"No title",tier:t.tier||"Member",image:t.image?t.image:"/assets/default-profile.png",views:t.views||0},s))}):e.jsx("div",{className:"text-center text-muted-foreground py-20",children:"No members found. Try another filter."})]})}),e.jsx(v,{})]})};export{_ as default};
