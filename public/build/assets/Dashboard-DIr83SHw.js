import{j as e,L as Gs,r as a,u as Ue}from"./app-CwTyCITu.js";import{a as K,B as g,u as Vs,c as he,C as P,b as D,d as R,e as Y,f as L}from"./createLucideIcon-BjFhPg4F.js";import{S as ze,B as oe,E as Ys}from"./badge-D3ttsJkq.js";import{X as Be,P as J,I as E,z as b,i as Ks,j as Hs,k as Js,l as Ge,D as qs,m as Zs,g as Qs,n as Xs,o as Ws}from"./apis-CRd77SfC.js";import{L as y}from"./label-DtlwgUnH.js";import{H as et,C as st,S as tt,L as at,T as se,M as rt,B as nt,a as it,e as lt,b as ot,E as ct,c as dt,A as Te,U as mt,d as ut}from"./EditAdModal-CZnHrGZO.js";import{C as ht,a as xt,A as pt,b as ft,c as gt,d as jt,e as vt,P as bt,M as Ee}from"./embla-carousel-autoplay.esm-Dy7J26is.js";import{d as yt,D as xe,a as pe,b as fe,c as ge,S as Nt,P as wt}from"./ProfileViewModal-BvtYk0zw.js";import{e as Ve,f as Ct,u as Ye,g as G,h as Ke,i as He,j as St,S as Me,a as De,b as Re,c as Le,d as Oe}from"./select-Bn6fLNKI.js";import{E as Je,l as qe,u as Ze,a as Qe,C as te}from"./react-stripe.esm-DsYHwHhC.js";import"./arrow-left-D_0-t3ut.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],At=K("message-circle",Pt);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_t=K("message-square",Ft);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],kt=K("panels-top-left",It);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ce=K("plus",Tt);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mt=K("save",Et);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],de=K("trash-2",Dt);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lt=K("user",Rt),$e=({activeSection:r,onSectionChange:l,mobile:n=!1,onClose:t})=>{const d=[{id:"dashboard",label:"Dashboard",icon:et},{id:"profile",label:"My Profile",icon:Lt},{id:"membership",label:"Membership Plans",icon:ht},{id:"editor",label:"Landing Page Editor",icon:kt},{id:"ads",label:"Ads Management",icon:st},{id:"chat",label:"Chat",icon:_t},{id:"featured",label:"Featured",icon:ze},{id:"settings",label:"Settings",icon:tt}];return e.jsxs("aside",{className:`
        w-[260px] min-h-screen bg-[#FFF1F4] border-r border-[#F3D6E3] 
        flex flex-col relative
        ${n?"shadow-xl":""}
      `,children:[n&&e.jsx("button",{onClick:t,className:`\r
            absolute right-3 top-3 \r
            p-2 rounded-md\r
            bg-white/60 backdrop-blur-md\r
            hover:bg-white transition\r
          `,children:e.jsx(Be,{className:"w-5 h-5"})}),e.jsx("div",{className:"p-6",children:e.jsx("h2",{className:"text-xl font-heading text-foreground",children:"My Dashboard"})}),e.jsx("nav",{className:"flex-1 px-3 space-y-1",children:d.map(m=>{const o=m.icon,f=r===m.id;return e.jsxs("button",{onClick:()=>{l(m.id),n&&t&&t()},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${f?"bg-primary text-primary-foreground shadow-sm":"text-[#5A5A5A] hover:bg-primary/10"}`,children:[e.jsx(o,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:m.label})]},m.id)})}),e.jsx("div",{className:"p-4 border-t border-[#F3D6E3]",children:e.jsx(Gs,{href:"/auth/logout",children:e.jsxs(g,{variant:"ghost",className:`\r
              w-full justify-start gap-3 \r
              text-[#5A5A5A] hover:bg-primary/10\r
            `,children:[e.jsx(at,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})})})]})};var me="rovingFocusGroup.onEntryFocus",Ot={bubbles:!1,cancelable:!0},X="RovingFocusGroup",[ue,Xe,$t]=Ct(X),[Ut,We]=Ve(X,[$t]),[zt,Bt]=Ut(X),es=a.forwardRef((r,l)=>e.jsx(ue.Provider,{scope:r.__scopeRovingFocusGroup,children:e.jsx(ue.Slot,{scope:r.__scopeRovingFocusGroup,children:e.jsx(Gt,{...r,ref:l})})}));es.displayName=X;var Gt=a.forwardRef((r,l)=>{const{__scopeRovingFocusGroup:n,orientation:t,loop:d=!1,dir:m,currentTabStopId:o,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:v,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...j}=r,C=a.useRef(null),B=Vs(l,C),O=Ke(m),[M,N]=He({prop:o,defaultProp:f??null,onChange:v,caller:X}),[I,T]=a.useState(!1),A=St(u),k=Xe(n),V=a.useRef(!1),[i,c]=a.useState(0);return a.useEffect(()=>{const w=C.current;if(w)return w.addEventListener(me,A),()=>w.removeEventListener(me,A)},[A]),e.jsx(zt,{scope:n,orientation:t,dir:O,loop:d,currentTabStopId:M,onItemFocus:a.useCallback(w=>N(w),[N]),onItemShiftTab:a.useCallback(()=>T(!0),[]),onFocusableItemAdd:a.useCallback(()=>c(w=>w+1),[]),onFocusableItemRemove:a.useCallback(()=>c(w=>w-1),[]),children:e.jsx(J.div,{tabIndex:I||i===0?-1:0,"data-orientation":t,...j,ref:B,style:{outline:"none",...r.style},onMouseDown:G(r.onMouseDown,()=>{V.current=!0}),onFocus:G(r.onFocus,w=>{const F=!V.current;if(w.target===w.currentTarget&&F&&!I){const q=new CustomEvent(me,Ot);if(w.currentTarget.dispatchEvent(q),!q.defaultPrevented){const H=k().filter(U=>U.focusable),re=H.find(U=>U.active),W=H.find(U=>U.id===M),ne=[re,W,...H].filter(Boolean).map(U=>U.ref.current);as(ne,h)}}V.current=!1}),onBlur:G(r.onBlur,()=>T(!1))})})}),ss="RovingFocusGroupItem",ts=a.forwardRef((r,l)=>{const{__scopeRovingFocusGroup:n,focusable:t=!0,active:d=!1,tabStopId:m,children:o,...f}=r,v=Ye(),u=m||v,h=Bt(ss,n),j=h.currentTabStopId===u,C=Xe(n),{onFocusableItemAdd:B,onFocusableItemRemove:O,currentTabStopId:M}=h;return a.useEffect(()=>{if(t)return B(),()=>O()},[t,B,O]),e.jsx(ue.ItemSlot,{scope:n,id:u,focusable:t,active:d,children:e.jsx(J.span,{tabIndex:j?0:-1,"data-orientation":h.orientation,...f,ref:l,onMouseDown:G(r.onMouseDown,N=>{t?h.onItemFocus(u):N.preventDefault()}),onFocus:G(r.onFocus,()=>h.onItemFocus(u)),onKeyDown:G(r.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const I=Kt(N,h.orientation,h.dir);if(I!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let A=C().filter(k=>k.focusable).map(k=>k.ref.current);if(I==="last")A.reverse();else if(I==="prev"||I==="next"){I==="prev"&&A.reverse();const k=A.indexOf(N.currentTarget);A=h.loop?Ht(A,k+1):A.slice(k+1)}setTimeout(()=>as(A))}}),children:typeof o=="function"?o({isCurrentTabStop:j,hasTabStop:M!=null}):o})})});ts.displayName=ss;var Vt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yt(r,l){return l!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function Kt(r,l,n){const t=Yt(r.key,n);if(!(l==="vertical"&&["ArrowLeft","ArrowRight"].includes(t))&&!(l==="horizontal"&&["ArrowUp","ArrowDown"].includes(t)))return Vt[t]}function as(r,l=!1){const n=document.activeElement;for(const t of r)if(t===n||(t.focus({preventScroll:l}),document.activeElement!==n))return}function Ht(r,l){return r.map((n,t)=>r[(l+t)%r.length])}var Jt=es,qt=ts,ae="Tabs",[Zt]=Ve(ae,[We]),rs=We(),[Qt,je]=Zt(ae),ns=a.forwardRef((r,l)=>{const{__scopeTabs:n,value:t,onValueChange:d,defaultValue:m,orientation:o="horizontal",dir:f,activationMode:v="automatic",...u}=r,h=Ke(f),[j,C]=He({prop:t,onChange:d,defaultProp:m??"",caller:ae});return e.jsx(Qt,{scope:n,baseId:Ye(),value:j,onValueChange:C,orientation:o,dir:h,activationMode:v,children:e.jsx(J.div,{dir:h,"data-orientation":o,...u,ref:l})})});ns.displayName=ae;var is="TabsList",ls=a.forwardRef((r,l)=>{const{__scopeTabs:n,loop:t=!0,...d}=r,m=je(is,n),o=rs(n);return e.jsx(Jt,{asChild:!0,...o,orientation:m.orientation,dir:m.dir,loop:t,children:e.jsx(J.div,{role:"tablist","aria-orientation":m.orientation,...d,ref:l})})});ls.displayName=is;var os="TabsTrigger",cs=a.forwardRef((r,l)=>{const{__scopeTabs:n,value:t,disabled:d=!1,...m}=r,o=je(os,n),f=rs(n),v=us(o.baseId,t),u=hs(o.baseId,t),h=t===o.value;return e.jsx(qt,{asChild:!0,...f,focusable:!d,active:h,children:e.jsx(J.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:v,...m,ref:l,onMouseDown:G(r.onMouseDown,j=>{!d&&j.button===0&&j.ctrlKey===!1?o.onValueChange(t):j.preventDefault()}),onKeyDown:G(r.onKeyDown,j=>{[" ","Enter"].includes(j.key)&&o.onValueChange(t)}),onFocus:G(r.onFocus,()=>{const j=o.activationMode!=="manual";!h&&!d&&j&&o.onValueChange(t)})})})});cs.displayName=os;var ds="TabsContent",ms=a.forwardRef((r,l)=>{const{__scopeTabs:n,value:t,forceMount:d,children:m,...o}=r,f=je(ds,n),v=us(f.baseId,t),u=hs(f.baseId,t),h=t===f.value,j=a.useRef(h);return a.useEffect(()=>{const C=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(C)},[]),e.jsx(yt,{present:d||h,children:({present:C})=>e.jsx(J.div,{"data-state":h?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":v,hidden:!C,id:u,tabIndex:0,...o,ref:l,style:{...r.style,animationDuration:j.current?"0s":void 0},children:C&&m})})});ms.displayName=ds;function us(r,l){return`${r}-trigger-${l}`}function hs(r,l){return`${r}-content-${l}`}var Xt=ns,xs=ls,ps=cs,fs=ms;const Wt=Xt,gs=a.forwardRef((r,l)=>{const{className:n,...t}=r;return e.jsx(xs,{ref:l,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...t})});gs.displayName=xs.displayName;const Z=a.forwardRef((r,l)=>{const{className:n,...t}=r;return e.jsx(ps,{ref:l,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n),...t})});Z.displayName=ps.displayName;const Q=a.forwardRef((r,l)=>{const{className:n,...t}=r;return e.jsx(fs,{ref:l,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...t})});Q.displayName=fs.displayName;const ea=()=>{const{props:r}=Ue(),l=r.user.tier_name,[n,t]=a.useState({}),[d,m]=a.useState([]),[o,f]=a.useState([]),[v,u]=a.useState([]),h=()=>{const i={id:Date.now().toString(),title:"",description:"",price:""};m([...d,i])},j=(i,c,w)=>{m(d.map(F=>F.id===i?{...F,[c]:w}:F))},C=i=>{m(d.filter(c=>c.id!==i))},B=()=>{const i={id:Date.now().toString(),name:"",role:"",content:"",rating:5};f([...o,i])},O=(i,c,w)=>{f(o.map(F=>F.id===i?{...F,[c]:w}:F))},M=i=>{f(o.filter(c=>c.id!==i))},N=()=>{const i={id:Date.now().toString(),title:"",description:"",validUntil:""};u([...v,i])},I=(i,c,w)=>{u(v.map(F=>F.id===i?{...F,[c]:w}:F))},T=i=>{u(v.filter(c=>c.id!==i))},A=i=>{t(i.about||{}),m(i.services||[]),f((i.testimonials||[]).map(c=>({id:c.id?.toString(),name:c.name,role:c.designation,content:c.message,rating:c.rating}))),u((i.offers||[]).map(c=>({id:c.id?.toString(),title:c.title,description:c.description,validUntil:c.valid_until||null})))},k=async()=>{try{b.loading("Fetching landing page data...",{id:"fetching"});const i=await Ks();i.status===200&&i.data?.data?(A(i.data.data),b.success("Data loaded successfully",{id:"fetching"})):b.error("Failed to fetch landing page",{id:"fetching"})}catch(i){console.error("Error fetching landing page:",i),b.error("Something went wrong while fetching data",{id:"fetching"})}};a.useEffect(()=>{k()},[]);const V=async()=>{try{b.loading("Saving landing page...",{id:"saving"}),(await Hs([{type:"about",data:n},{type:"service",data:d},{type:"testimonial",data:o},{type:"offer",data:v}])).status===200?(b.success("Landing page updated successfully!",{id:"saving"}),await k()):b.error("Failed to update landing page",{id:"saving"})}catch(i){console.error("Error saving landing page:",i),b.error("Something went wrong while saving",{id:"saving"})}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(P,{className:"w-full",children:[e.jsxs(D,{children:[e.jsx(R,{className:"text-xl sm:text-2xl font-heading",children:"Landing Page Editor"}),e.jsx(Y,{className:"text-sm sm:text-base",children:"Customize your personal landing page to showcase your services & expertise"})]}),l==="Shine Plus"?e.jsxs(L,{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center",children:e.jsxs(g,{onClick:V,className:"bg-primary hover:bg-primary/90 text-primary-foreground gap-2 w-full sm:w-auto",children:[e.jsx(Mt,{className:"w-4 h-4"})," Save & Publish"]})}),e.jsxs(Wt,{defaultValue:"about",className:"space-y-6",children:[e.jsxs(gs,{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 w-full mb-10",children:[e.jsx(Z,{value:"about",children:"About Me"}),e.jsx(Z,{value:"services",children:"Products / Services"}),e.jsx(Z,{value:"testimonials",children:"Testimonials"}),e.jsx(Z,{value:"offers",children:"Offers"})]}),e.jsx(Q,{value:"about",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(y,{children:"Bio"}),e.jsx(se,{rows:6,className:"min-h-[120px] sm:min-h-[150px]",value:n.bio||"",onChange:i=>t({...n,bio:i.target.value}),placeholder:"Tell your story..."})]})}),e.jsxs(Q,{value:"services",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"My Favorite Product / Services"}),e.jsxs(g,{size:"sm",onClick:h,className:"gap-2",children:[e.jsx(ce,{className:"w-4 h-4"})," Add"]})]}),d.map(i=>e.jsx(P,{className:"p-3 sm:p-4 rounded-xl shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"",children:[e.jsx(y,{children:"Service Title"}),e.jsx(E,{className:"mt-1",value:i.title,onChange:c=>j(i.id,"title",c.target.value),placeholder:"Service title..."})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Description"}),e.jsx(se,{rows:3,className:"min-h-[90px] sm:min-h-[110px]",value:i.description,onChange:c=>j(i.id,"description",c.target.value),placeholder:"Description..."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(g,{variant:"ghost",size:"icon",onClick:()=>C(i.id),className:"text-destructive",children:e.jsx(de,{className:"w-4 h-4"})})})]})},i.id))]}),e.jsxs(Q,{value:"testimonials",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Client Testimonials"}),e.jsxs(g,{size:"sm",onClick:B,className:"gap-2",children:[e.jsx(ce,{className:"w-4 h-4"})," Add"]})]}),o.map(i=>e.jsx(P,{className:"p-3 sm:p-4 rounded-xl shadow",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Name"}),e.jsx(E,{className:"mt-1",value:i.name,onChange:c=>O(i.id,"name",c.target.value)})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Role / Company"}),e.jsx(E,{className:"mt-1",value:i.role,onChange:c=>O(i.id,"role",c.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Content"}),e.jsx(se,{rows:3,className:"min-h-[90px] sm:min-h-[110px]",value:i.content,onChange:c=>O(i.id,"content",c.target.value)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(g,{variant:"ghost",size:"icon",onClick:()=>M(i.id),className:"text-destructive",children:e.jsx(de,{className:"w-4 h-4"})})})]})},i.id))]}),e.jsxs(Q,{value:"offers",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Promotional Offers"}),e.jsxs(g,{size:"sm",onClick:N,className:"gap-2",children:[e.jsx(ce,{className:"w-4 h-4"})," Add"]})]}),v.map(i=>e.jsx(P,{className:"p-3 sm:p-4 rounded-xl shadow",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Title"}),e.jsx(E,{className:"mt-1",value:i.title,onChange:c=>I(i.id,"title",c.target.value)})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Description"}),e.jsx(se,{rows:2,className:"min-h-[80px]",value:i.description,onChange:c=>I(i.id,"description",c.target.value)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(g,{variant:"ghost",size:"icon",onClick:()=>T(i.id),className:"text-destructive",children:e.jsx(de,{className:"w-4 h-4"})})})]})},i.id))]})]})]}):e.jsxs("div",{className:"py-10 text-center text-muted-foreground border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Upgrade Required"}),e.jsx("p",{className:"mb-4",children:"Editing your landing page requires a Shine Plus membership."})]})]})})},sa=qe("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),ta=({days:r,clientSecret:l,onClose:n})=>{const t=Ze(),d=Qe(),[m,o]=a.useState(!1),f=async v=>{if(v.preventDefault(),!t||!d||!l)return;o(!0);const{error:u,paymentIntent:h}=await t.confirmCardPayment(l,{payment_method:{card:d.getElement(te)}});u?b.error(u.message):(b.success("Payment successful! Feature will activate shortly."),n()),o(!1)};return e.jsxs("form",{onSubmit:f,className:"space-y-4 mt-4",children:[e.jsx(y,{children:"Card Details"}),e.jsx("div",{className:"border p-3 rounded-md bg-white",children:e.jsx(te,{options:{style:{base:{fontSize:"16px","::placeholder":{color:"#9ca3af"}}}}})}),e.jsx(g,{disabled:m,className:"w-full",children:m?"Processing...":`Pay $${r}`})]})},aa=({open:r,onOpenChange:l})=>{const[n,t]=a.useState(""),[d,m]=a.useState(1),[o,f]=a.useState(""),v=async h=>{if(h.preventDefault(),!n||Number(n)<=0){b.error("Please enter valid number of days");return}try{const j=await Js({days:Number(n)});if(!j.data.clientSecret){b.error("Failed to initialize payment");return}f(j.data.clientSecret),m(2)}catch(j){console.log(j),b.error("Server error")}},u=()=>{t(""),f(""),m(1),l(!1)};return e.jsx(xe,{open:r,onOpenChange:u,children:e.jsxs(pe,{className:"sm:max-w-md",children:[e.jsx(fe,{children:e.jsx(ge,{children:d===1?"Activate Feature":`Pay for ${n} Days`})}),d===1&&e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsx(y,{htmlFor:"days",children:"Number of Days"}),e.jsx(E,{id:"days",type:"number",placeholder:"Enter number of days",value:n,onChange:h=>t(h.target.value),min:"1"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{className:"flex-1",type:"submit",children:"Continue"}),e.jsx(g,{className:"flex-1",type:"button",variant:"outline",onClick:u,children:"Cancel"})]})]}),d===2&&e.jsx(Je,{stripe:sa,children:e.jsx(ta,{days:Number(n),clientSecret:o,onClose:u})})]})})},ra=qe("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),na=({amount:r,clientSecret:l,onSuccess:n})=>{const t=Ze(),d=Qe(),[m,o]=a.useState(!1),f=async v=>{if(v.preventDefault(),!t||!d)return;o(!0);const{error:u,paymentIntent:h}=await t.confirmCardPayment(l,{payment_method:{card:d.getElement(te)}});u?b.error(u.message):(b.success("Ad payment successful!"),n()),o(!1)};return e.jsxs("form",{onSubmit:f,className:"space-y-4 mt-4",children:[e.jsx(y,{children:"Card Details"}),e.jsx("div",{className:"border p-3 rounded-md bg-white",children:e.jsx(te,{options:{style:{base:{fontSize:"16px","::placeholder":{color:"#9ca3af"}}}}})}),e.jsx(g,{disabled:m,className:"w-full",children:m?"Processing...":`Pay $${r}`})]})},ia=({open:r,onOpenChange:l,adForm:n})=>{const[t,d]=a.useState(1),[m,o]=a.useState(0),[f,v]=a.useState(""),u=()=>{d(1),o(0),v(""),l(!1)},h=async()=>{const j=new Date(n.start_date),C=new Date(n.end_date),O=(Math.ceil((C-j)/(1e3*60*60*24))+1)*1;o(O);try{const M=new FormData;Object.entries(n).forEach(([I,T])=>{T!=null&&M.append(I,T)});const N=await Ge(M);if(!N.data.clientSecret){b.error("Unable to initialize payment!");return}v(N.data.clientSecret),d(2)}catch(M){console.log(M),b.error("Payment initialization failed")}};return e.jsx(xe,{open:r,onOpenChange:u,children:e.jsxs(pe,{className:"sm:max-w-md",children:[e.jsx(fe,{children:e.jsx(ge,{children:t===1?"Confirm Ad Payment":`Pay $${m}`})}),t===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm",children:["You will be charged ",e.jsx("b",{children:"$1 per day"})," for your selected date range."]}),e.jsx(g,{onClick:h,className:"w-full",children:"Proceed to Pay"}),e.jsx(g,{variant:"outline",className:"w-full",onClick:u,children:"Cancel"})]}),t===2&&e.jsx(Je,{stripe:ra,children:e.jsx(na,{amount:m,clientSecret:f,onSuccess:u})})]})})},ja=r=>{const{props:l}=Ue(),n=l.auth?.user,[t,d]=a.useState("dashboard"),[m,o]=a.useState(!1),[f,v]=a.useState(!1),[u,h]=a.useState([]),[j,C]=a.useState(!1),[B,O]=a.useState(null),[M,N]=a.useState(!1),[I,T]=a.useState(!1),A=["Twinkle","Sparkle","Shine","Shine Plus"],[k,V]=a.useState(""),[i,c]=a.useState(""),[w,F]=a.useState(""),[q,H]=a.useState(!1),[re,W]=a.useState(!1),[ve,ne]=a.useState(null),[U,be]=a.useState(null),[ye,Ne]=a.useState(null),[js,vs]=a.useState([]),[bs,ys]=a.useState([]),[Ns,ws]=a.useState([]),[S,Cs]=a.useState({state:"",industry:""}),[ie,Ss]=a.useState(""),[we,Ps]=a.useState(""),[Ce,As]=a.useState(!1),[Fs,Se]=a.useState(!1),[Pe,_s]=a.useState(null),[Is,Ae]=a.useState(!1);a.useEffect(()=>{(async()=>{try{const x=await qs();x.data.status&&(ys(x.data.region||[]),ws(x.data.industry||[]))}catch(x){console.log("Failed to load filters",x)}})()},[]);const Fe=()=>{if(!p?.tier||p.tier.toLowerCase()==="free")return u;const s=A.findIndex(x=>x.toLowerCase()===p.tier.toLowerCase());return u.filter(x=>A.findIndex(z=>z.toLowerCase()===x.title.toLowerCase())>s)},ks=async()=>{if(!k||!i||!w){b.error("Please fill in all fields");return}if(i!==w){b.error("New passwords do not match");return}H(!0);try{const s=await Ws({current_password:k,new_password:i,new_password_confirmation:w});s.data.status?(b.success(s.data.message||"Password updated successfully!"),V(""),c(""),F("")):b.error(s.data.message||"Failed to update password")}catch(s){console.error(s),b.error("Something went wrong. Please try again.")}finally{H(!1)}},[p,_e]=a.useState({name:n?.name||"Guest User",email:n?.email||"guest@example.com",phone:n?.phone||"",businessId:n?.business_type||"",businessType:r?.user?.business_type||"",stateId:n?.state||"",state:r?.user?.state||"",dob:n?.dob||"",bio:n?.bio||"",tier:r?.user?.tier_name||null,views:n?.views||0,featured:n?.featured,featured_valid:n?.featured_valid,image:n?.image}),Ts=s=>{if(!s||typeof s!="string")return[];try{const x=JSON.parse(s);return Array.isArray(x)?x:[]}catch{return console.warn("Failed to parse features:",s),[]}};a.useEffect(()=>{(async()=>{try{const z=((await Zs())?.data?.data||[]).map(_=>({id:_.id,title:_.tier_name,price:`$${_.price} / year`,features:Ts(_.feature),highlighted:_.highlighted===1||_.highlighted==="1"}));console.log("API Membership Plans:",z),h(z)}catch(x){console.error("Failed to fetch membership plans:",x),h([])}})()},[]);const Es=s=>{_e(s)},Ie=s=>{O(s),C(!0)},Ms=()=>{_e(s=>({...s,views:s.views||0}))},le=()=>u.find(s=>s.title===p.tier),Ds=async()=>{try{const s=await Qs();s.data.status&&vs(s.data.data)}catch(s){console.log("Failed to fetch running ads",s)}};a.useEffect(()=>{Ds()},[]);const[Rs,ke]=a.useState([]),Ls=async()=>{try{const s=await Xs();s.data.status&&ke(s.data.data)}catch(s){console.log("Failed to fetch ads",s)}};a.useEffect(()=>{Ls()},[]);const Os=s=>{ne(s),W(!0)},$s=s=>{ke(x=>x.map($=>$.id===s.id?s:$))},Us=s=>{const x=s.target.files?.[0];if(x){be(x);const $=URL.createObjectURL(x);Ne($)}},zs=async()=>{if(!S.start_date){b.error("Start date is required");return}if(!S.end_date){b.error("End date is required");return}if(new Date(S.end_date)<new Date(S.start_date)){b.error("End date cannot be before start date");return}const s=new FormData;s.append("user_id",n.id),s.append("title",ie),s.append("link",we),s.append("start_date",S.start_date),s.append("end_date",S.end_date),s.append("active",Ce?1:0),S.state&&s.append("region_id",S.state),S.industry&&s.append("industry_id",S.industry),U&&s.append("image",U);try{const x=await Ge(s);if(!x.data.status){b.error("Failed to initiate payment");return}const $=x.data.clientSecret,z=x.data.public_key;_s({clientSecret:$,publicKey:z,adMeta:{user_id:n.id,title:ie,start_date:S.start_date,end_date:S.end_date,region_id:S.state,industry_id:S.industry,image:U}}),Se(!0)}catch(x){console.error(x),b.error("Something went wrong while creating ad")}},ee=(s,x)=>{Cs($=>({...$,[s]:x}))},Bs=()=>{switch(t){case"dashboard":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(P,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Current Tier"}),e.jsx(ze,{className:"w-4 h-4 text-primary"})]}),e.jsxs(L,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.tier||"No Plan"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:p.tier?"Active member":"Choose a plan"})]})]}),e.jsxs(P,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Profile Views"}),e.jsx(Ys,{className:"w-4 h-4 text-primary"})]}),e.jsxs(L,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.views||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),e.jsxs(P,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Messages"}),e.jsx(At,{className:"w-4 h-4 text-primary"})]}),e.jsxs(L,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"5"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"3 unread"})]})]}),e.jsxs(P,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Featured"}),e.jsx(Te,{className:"w-4 h-4 text-primary"})]}),e.jsxs(L,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.featured?"Yes":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:p.featured?(()=>{const s=new Date(p.featured_valid),x=s.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),z=s-new Date,_=Math.ceil(z/(1e3*60*60*24));return e.jsxs("span",{children:["Expires on ",e.jsx("strong",{children:x}),_>0?` · ${_} day${_>1?"s":""} left`:" · Expired"]})})():e.jsx(g,{onClick:()=>{d("featured")},children:"Upgrade"})})]})]})]}),e.jsxs(P,{children:[e.jsx(D,{children:e.jsx(R,{children:"Quick Actions"})}),e.jsxs(L,{className:"flex flex-wrap gap-3",children:[e.jsx(g,{onClick:()=>o(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"View My Profile"}),e.jsx(g,{variant:"outline",onClick:()=>d("profile"),children:"Edit Profile"}),e.jsx(g,{variant:"outline",onClick:()=>d("chat"),children:"Check Messages"})]})]})]});case"profile":return e.jsxs(P,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"My Profile"}),e.jsx(Y,{children:"View and edit your business information"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Full Name"}),e.jsx("p",{className:"text-lg font-semibold",children:p.name})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Email"}),e.jsx("p",{className:"text-lg",children:p.email})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Industry"}),e.jsx("p",{className:"text-lg",children:p.businessType||"Not set"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(g,{onClick:()=>v(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Edit Profile"}),e.jsx(g,{variant:"outline",onClick:()=>o(!0),children:"Preview Profile"})]})]})]});case"membership":return e.jsx("div",{className:"space-y-6",children:!p.tier||p.tier.toLowerCase()==="free plan"?e.jsxs(e.Fragment,{children:[e.jsx(P,{children:e.jsxs(D,{children:[e.jsx(R,{children:"Choose Your Membership Plan"}),e.jsx(Y,{children:"Select a plan to unlock exclusive features"})]})}),u.length>0?e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:u.map(s=>e.jsx(Ee,{title:s.title,price:s.price,features:s.features,highlighted:s.highlighted,onJoin:()=>Ie(s)},s.id))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading membership plans..."})})]}):e.jsxs(P,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Your Membership"}),e.jsx(Y,{children:"Manage your subscription and benefits"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:p.tier}),e.jsx(oe,{className:"bg-primary text-primary-foreground",children:"Active"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:le()?.price||"N/A"}),e.jsx("ul",{className:"space-y-2 text-sm",children:le()?.features?.length>0?le().features.map((s,x)=>e.jsxs("li",{children:["✔ ",s]},x)):e.jsx("li",{className:"text-muted-foreground",children:"No features listed"})})]}),e.jsx("div",{className:"flex gap-3",children:Fe().length>0?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>T(!0),children:"Upgrade Plan"}),e.jsx(xe,{open:I,onOpenChange:T,children:e.jsxs(pe,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(fe,{children:[e.jsx(ge,{className:"text-2xl font-heading text-center",children:"Upgrade Your Plan"}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["You’re currently on ",e.jsx("strong",{children:p.tier})," plan — select a higher tier to unlock more benefits."]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mt-6",children:Fe().map(s=>e.jsx(Ee,{title:s.title,price:s.price,features:s.features,highlighted:s.highlighted,onJoin:()=>{Ie(s),T(!1)}},s.id))}),e.jsx("div",{className:"pt-6 flex justify-center",children:e.jsx(g,{variant:"outline",onClick:()=>T(!1),children:"Close"})})]})})]}):e.jsx(g,{disabled:!0,className:"opacity-60 cursor-not-allowed",children:"You’re already on the highest plan"})})]})]})});case"ads":return e.jsxs(P,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Ads Management"}),e.jsx(Y,{children:"Create and manage promotional ads"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"ad-title",children:"Ad Title"}),e.jsx(E,{id:"ad-title",placeholder:"Promote your business",value:ie,onChange:s=>Ss(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"ad-link",children:"CTA Link"}),e.jsx(E,{id:"ad-link",placeholder:"https://...",value:we,onChange:s=>Ps(s.target.value)})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"ad-state",children:"State"}),e.jsxs(Me,{value:S.state,onValueChange:s=>ee("state",s),children:[e.jsx(De,{children:e.jsx(Re,{placeholder:"Select State"})}),e.jsx(Le,{className:"bg-popover",children:bs.map(s=>e.jsx(Oe,{value:s.regionId.toString(),children:s.regionName},s.regionId))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"ad-industry",children:"Industry"}),e.jsxs(Me,{value:S.industry,onValueChange:s=>ee("industry",s),children:[e.jsx(De,{children:e.jsx(Re,{placeholder:"Select Industry"})}),e.jsx(Le,{className:"bg-popover",children:Ns.map(s=>e.jsx(Oe,{value:s.industryId.toString(),children:s.industryName},s.industryId))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{children:"Ad Image"}),e.jsxs("div",{className:"space-y-3",children:[ye?e.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-border",children:[e.jsx("img",{src:ye,alt:"Ad preview",className:"w-full h-48 object-cover"}),e.jsx(g,{type:"button",size:"icon",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>{be(null),Ne(null)},children:e.jsx(Be,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",onClick:()=>document.getElementById("new-ad-image")?.click(),children:[e.jsx(mt,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload image"})]}),e.jsx("input",{id:"new-ad-image",type:"file",accept:"image/*",className:"hidden",onChange:Us})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"start-date",children:"Start Date"}),e.jsx(E,{id:"start-date",type:"date",value:S.start_date,onChange:s=>ee("start_date",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"end-date",children:"End Date"}),e.jsx(E,{id:"end-date",type:"date",value:S.end_date,onChange:s=>ee("end_date",s.target.value)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ut,{id:"ad-active",checked:Ce,onCheckedChange:As}),e.jsx(y,{htmlFor:"ad-active",children:"Active"})]}),e.jsx(g,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:zs,children:"Save Ad"})]}),e.jsxs("div",{className:"pt-6 border-t",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Your Ads"}),e.jsx("div",{className:"space-y-3",children:Rs.map(s=>e.jsxs("div",{className:`
                    p-4 bg-muted rounded-lg 
                    flex flex-col sm:flex-row sm:items-center gap-4
                  `,children:[s.image&&e.jsx("img",{src:s.image,alt:s.title,className:"w-20 h-20 sm:w-16 sm:h-16 object-cover rounded mx-auto sm:mx-0"}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]}),e.jsxs("div",{className:`
                    flex flex-wrap sm:flex-nowrap 
                    items-center justify-center sm:justify-end 
                    gap-2 sm:gap-3
                    w-full sm:w-auto
                  `,children:[e.jsxs(oe,{variant:"secondary",className:"px-3 py-1",children:["Valid: ",s.end_date||"N/A"]}),e.jsx(oe,{variant:s.active?"default":"secondary",className:"px-3 py-1",children:s.active?"Active":"Inactive"}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>Os(s),className:"w-full sm:w-auto",children:"Edit"})]})]},s.id))})]})]})]});case"editor":return e.jsx(ea,{});case"chat":return e.jsxs(P,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Messages"}),e.jsx(Y,{children:"Connect with other members"})]}),e.jsx(L,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Conversations"}),[1,2,3].map(s=>e.jsxs("div",{className:"p-3 bg-muted rounded-lg cursor-pointer hover:bg-muted/80",children:[e.jsxs("div",{className:"font-medium",children:["Member ",s]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Last message..."})]},s))]}),e.jsx("div",{className:"md:col-span-2 p-6 bg-muted rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Select a conversation to view messages"})})]})})]});case"featured":return e.jsxs(P,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Featured Status"}),e.jsx(Y,{children:"Your featured member benefits"})]}),e.jsx(L,{children:e.jsxs("div",{className:"p-6 bg-accent rounded-lg text-center",children:[e.jsx(Te,{className:"w-16 h-16 mx-auto mb-4 text-accent-foreground"}),e.jsx("h3",{className:"font-semibold text-xl mb-2",children:p.featured?"You're Featured!":"Upgrade to Get Featured!"}),e.jsx("p",{className:"text-sm mb-4",children:p.featured?"Your profile is highlighted across the platform":"Get priority placement and visibility"}),e.jsx(g,{onClick:()=>!p.featured&&N(!0),className:`${p.featured?"bg-green-600 hover:bg-green-700 cursor-default":"bg-primary hover:bg-primary/90"} text-primary-foreground`,disabled:!!p.featured,children:p.featured?"Activated":"Activate"}),p.featured&&p.featured_valid&&(()=>{const s=new Date(p.featured_valid),x=s.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),z=s-new Date,_=Math.ceil(z/(1e3*60*60*24));return e.jsxs("p",{className:`text-sm mt-3 ${_<=0?"text-red-500":_<=3?"text-yellow-500":"text-muted-foreground"}`,children:["Expires on ",e.jsx("strong",{children:x}),_>0?` · ${_} day${_>1?"s":""} left`:" · Expired"]})})()]})})]});case"settings":return e.jsxs(P,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Account Settings"}),e.jsx(Y,{children:"Manage your account preferences and security"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Account Information"}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"email",children:"Email"}),e.jsx(E,{id:"email",type:"email",defaultValue:p.email,disabled:!0})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Change Password"}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"current-password",children:"Current Password"}),e.jsx(E,{id:"current-password",type:"password",placeholder:"Enter current password",value:k,onChange:s=>V(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"new-password",children:"New Password"}),e.jsx(E,{id:"new-password",type:"password",placeholder:"Enter new password",value:i,onChange:s=>c(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsx(E,{id:"confirm-password",type:"password",placeholder:"Confirm new password",value:w,onChange:s=>F(s.target.value)})]}),e.jsx(g,{onClick:ks,className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:q,children:q?"Updating...":"Update Password"})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Notifications"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]}),e.jsx(g,{variant:"outline",size:"sm",children:"Configure"})]})]})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-background flex",children:[e.jsx("div",{className:"hidden md:flex",children:e.jsx($e,{activeSection:t,onSectionChange:d})}),e.jsx("div",{className:`
      fixed inset-y-0 left-0 z-50 md:hidden 
      w-[260px]
      transform transition-transform duration-300
      ${Is?"translate-x-0":"-translate-x-full"}
    `,children:e.jsx($e,{mobile:!0,activeSection:t,onSectionChange:d,onClose:()=>Ae(!1)})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-card border-b border-[#F3D6E3] sticky top-0 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsx("button",{className:"md:hidden p-2 rounded hover:bg-muted",onClick:()=>Ae(!0),children:e.jsx(rt,{className:"w-6 h-6 text-foreground"})}),e.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-md ml-3 md:ml-0",children:[e.jsx(Nt,{className:"w-5 h-5 text-muted-foreground"}),e.jsx(E,{placeholder:"Search...",className:"border-none bg-muted"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(g,{variant:"ghost",size:"icon",children:e.jsx(nt,{className:"w-5 h-5"})}),e.jsxs(it,{children:[e.jsx(lt,{src:p.image,alt:p.name}),e.jsx(ot,{children:p.name?.[0]||"G"})]})]})]})}),e.jsx("div",{className:"p-6 space-y-4 bg-muted/30",children:e.jsx(P,{className:"w-full max-w-[1200px] mx-auto",children:e.jsx(L,{children:e.jsxs(xt,{className:"w-full",opts:{align:"start",loop:!0},plugins:[pt({delay:2e3})],children:[e.jsx(ft,{className:"-ml-2",children:js.filter(s=>s.active&&s.user_id===7).map(s=>e.jsx(gt,{className:"pl-2 md:basis-1/2 lg:basis-1/3",children:e.jsx(P,{className:"p-4 border border-border/60 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[s.image&&e.jsx("div",{className:"w-full h-40 rounded-lg overflow-hidden bg-muted border",children:e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h3",{className:"font-semibold text-foreground truncate",children:s.title})}),s.link&&e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline inline-block",children:"Learn More →"})]})]})})},s.id))}),e.jsx(jt,{}),e.jsx(vt,{})]})})})}),e.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[e.jsxs("h1",{className:"text-3xl font-heading mb-6",children:[t==="dashboard"&&"Welcome Back!",t==="profile"&&"My Profile",t==="membership"&&"Membership Plans",t==="editor"&&"Landing Page Editor",t==="chat"&&"Chat",t==="featured"&&"Featured",t==="settings"&&"Settings"]}),Bs()]})]}),e.jsx(wt,{profile:p,open:m,onOpenChange:o,onEdit:()=>{o(!1),v(!0)},onViewIncrement:Ms}),e.jsx(ct,{profile:p,open:f,onOpenChange:v,onSave:Es}),e.jsx(bt,{isOpen:j,onClose:()=>C(!1),tier:B}),e.jsx(aa,{open:M,onOpenChange:N}),e.jsx(dt,{ad:ve,open:re,onOpenChange:W,onSave:$s}),Pe&&e.jsx(ia,{open:Fs,onOpenChange:Se,adForm:Pe.adMeta})]})};export{ja as default};
