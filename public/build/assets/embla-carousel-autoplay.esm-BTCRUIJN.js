import{j as C,r as j}from"./app-AI8WfkgT.js";import{a as Tt,C as fe,b as de,d as pe,e as me,f as ge,h as he,B as dt,c as ht}from"./createLucideIcon-XXvPSRBs.js";import{C as xe}from"./select-CBEZpMM4.js";import{D as ye,a as Se,b as be,c as Ce,e as ve}from"./ProfileViewModal-B48PRAmI.js";import{L as Ne}from"./label-DweU_l2v.js";import{E as Ee,l as we,u as Le,a as Ie,C as _t}from"./react-stripe.esm-PI4pBX3d.js";import{z as It}from"./apis-D7KhLFdH.js";import{A as je}from"./arrow-left-B9uUkMjX.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Te=Tt("arrow-right",Oe);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Pe=Tt("credit-card",De);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ke=Tt("lock",Ae),kn=({title:t,price:n,features:e=[],highlighted:s=!1,onJoin:i})=>C.jsxs(fe,{className:`w-[395px] sm:w-full animate-fade-in hover-lift relative transition-all ${s?"border-2 border-primary shadow-lg":""}`,children:[s&&C.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:C.jsx("span",{className:"bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-semibold",children:"MOST POPULAR"})}),C.jsxs(de,{className:"pt-8",children:[C.jsx(pe,{className:"text-2xl text-primary",children:t}),C.jsx(me,{className:"text-3xl font-bold text-foreground mt-2",children:n})]}),C.jsx(ge,{children:C.jsxs("ul",{className:"space-y-3",children:[(Array.isArray(e)?e:[]).map((r,o)=>C.jsxs("li",{className:"flex items-start gap-2",children:[C.jsx(xe,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),C.jsx("span",{className:"text-sm",children:r})]},o)),(!e||e.length===0)&&C.jsx("li",{className:"text-sm text-muted-foreground italic",children:"No features listed"})]})}),C.jsx(he,{children:C.jsxs(dt,{onClick:i,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground font-medium",children:["Join ",t]})})]}),Me=we("pk_test_51KK8rzL1r3PzNdUEpPZaQ5kitAm7ys2nrZsrNPKRTnJCRBYlLxBm6udmCXZs0RSY35YekBUYL3vOSYvhpgz3SQPT009nJGeGov"),Fe=({tier:t,onClose:n})=>{const e=Le(),s=Ie(),[i,r]=j.useState(!1),[o,a]=j.useState(null),[c,l]=j.useState(""),[x,p]=j.useState(!1);j.useEffect(()=>{if(!c&&t?.price){const y=Math.round(parseFloat(t.price.replace(/[^0-9.-]+/g,""))*100);fetch("/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({amount:y,plan_title:t.title,tier_id:t.id})}).then(u=>u.json()).then(u=>{u.clientSecret?l(u.clientSecret):a("Invalid response from server")}).catch(()=>{a("Network error"),It.error("Failed to initialize payment. Try again.")})}},[t,c]);const m=async y=>{if(y.preventDefault(),!e||!s||!c||!x)return;r(!0),a(null);const{error:u,paymentIntent:d}=await e.confirmCardPayment(c,{payment_method:{card:s.getElement(_t)}});u?(a(u.message),It.error(u.message||"Payment failed")):(It.success(`Subscribed to ${t.title} for ${t.price}! ðŸŽ‰`),n()),r(!1)};return C.jsxs("form",{onSubmit:m,className:"space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(Ne,{children:"Card Details"}),C.jsx("div",{className:"p-3 border rounded-md bg-white",children:C.jsx(_t,{onChange:y=>{p(y.complete),a(y.error?.message||null)},options:{style:{base:{fontSize:"16px",color:"#1f2937","::placeholder":{color:"#9ca3af"}}}}})})]}),o&&C.jsx("p",{className:"text-sm text-red-600",children:o}),C.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 p-3 rounded-md",children:[C.jsx(ke,{className:"w-4 h-4"}),C.jsx("span",{children:"Your payment information is secure and encrypted"})]}),C.jsxs("div",{className:"flex gap-3 pt-4",children:[C.jsx(dt,{type:"button",variant:"outline",onClick:n,disabled:i,className:"flex-1",children:"Cancel"}),C.jsx(dt,{type:"submit",disabled:i||!e||!s||!c||!x,className:"flex-1",children:i?"Processing...":`Pay ${t.price}`})]})]})},Mn=({isOpen:t,onClose:n,tier:e})=>e?C.jsx(C.Fragment,{children:C.jsx(ye,{open:t,onOpenChange:n,children:C.jsxs(Se,{className:"sm:max-w-md",children:[C.jsxs(be,{children:[C.jsxs(Ce,{className:"flex items-center gap-2",children:[C.jsx(Pe,{className:"w-5 h-5 text-primary"}),"Complete Your Payment"]}),C.jsxs(ve,{children:["Subscribe to ",e.title," for ",e.price]})]}),C.jsx(Ee,{stripe:Me,children:C.jsx(Fe,{tier:e,onClose:n})})]})})}):null;function ze(t){return Object.prototype.toString.call(t)==="[object Object]"}function Kt(t){return ze(t)||Array.isArray(t)}function Re(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Dt(t,n){const e=Object.keys(t),s=Object.keys(n);if(e.length!==s.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),r=JSON.stringify(Object.keys(n.breakpoints||{}));return i!==r?!1:e.every(o=>{const a=t[o],c=n[o];return typeof a=="function"?`${a}`==`${c}`:!Kt(a)||!Kt(c)?a===c:Dt(a,c)})}function qt(t){return t.concat().sort((n,e)=>n.name>e.name?1:-1).map(n=>n.options)}function Be(t,n){if(t.length!==n.length)return!1;const e=qt(t),s=qt(n);return e.every((i,r)=>{const o=s[r];return Dt(i,o)})}function Pt(t){return typeof t=="number"}function jt(t){return typeof t=="string"}function bt(t){return typeof t=="boolean"}function Yt(t){return Object.prototype.toString.call(t)==="[object Object]"}function A(t){return Math.abs(t)}function At(t){return Math.sign(t)}function ft(t,n){return A(t-n)}function Ve(t,n){if(t===0||n===0||A(t)<=A(n))return 0;const e=ft(A(t),A(n));return A(e/t)}function He(t){return Math.round(t*100)/100}function pt(t){return mt(t).map(Number)}function Y(t){return t[xt(t)]}function xt(t){return Math.max(0,t.length-1)}function kt(t,n){return n===xt(t)}function Jt(t,n=0){return Array.from(Array(t),(e,s)=>n+s)}function mt(t){return Object.keys(t)}function Qt(t,n){return[t,n].reduce((e,s)=>(mt(s).forEach(i=>{const r=e[i],o=s[i],a=Yt(r)&&Yt(o);e[i]=a?Qt(r,o):o}),e),{})}function Ot(t,n){return typeof n.MouseEvent<"u"&&t instanceof n.MouseEvent}function Ge(t,n){const e={start:s,center:i,end:r};function s(){return 0}function i(c){return r(c)/2}function r(c){return n-c}function o(c,l){return jt(t)?e[t](c):t(n,c,l)}return{measure:o}}function gt(){let t=[];function n(i,r,o,a={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(r,o,a),c=()=>i.removeEventListener(r,o,a);else{const l=i;l.addListener(o),c=()=>l.removeListener(o)}return t.push(c),s}function e(){t=t.filter(i=>i())}const s={add:n,clear:e};return s}function $e(t,n,e,s){const i=gt(),r=1e3/60;let o=null,a=0,c=0;function l(){i.add(t,"visibilitychange",()=>{t.hidden&&u()})}function x(){y(),i.clear()}function p(g){if(!c)return;o||(o=g,e(),e());const f=g-o;for(o=g,a+=f;a>=r;)e(),a-=r;const h=a/r;s(h),c&&(c=n.requestAnimationFrame(p))}function m(){c||(c=n.requestAnimationFrame(p))}function y(){n.cancelAnimationFrame(c),o=null,a=0,c=0}function u(){o=null,a=0}return{init:l,destroy:x,start:m,stop:y,update:e,render:s}}function Ue(t,n){const e=n==="rtl",s=t==="y",i=s?"y":"x",r=s?"x":"y",o=!s&&e?-1:1,a=x(),c=p();function l(u){const{height:d,width:g}=u;return s?d:g}function x(){return s?"top":e?"right":"left"}function p(){return s?"bottom":e?"left":"right"}function m(u){return u*o}return{scroll:i,cross:r,startEdge:a,endEdge:c,measureSize:l,direction:m}}function rt(t=0,n=0){const e=A(t-n);function s(l){return l<t}function i(l){return l>n}function r(l){return s(l)||i(l)}function o(l){return r(l)?s(l)?t:n:l}function a(l){return e?l-e*Math.ceil((l-n)/e):l}return{length:e,max:n,min:t,constrain:o,reachedAny:r,reachedMax:i,reachedMin:s,removeOffset:a}}function Xt(t,n,e){const{constrain:s}=rt(0,t),i=t+1;let r=o(n);function o(m){return e?A((i+m)%i):s(m)}function a(){return r}function c(m){return r=o(m),p}function l(m){return x().set(a()+m)}function x(){return Xt(t,a(),e)}const p={get:a,set:c,add:l,clone:x};return p}function _e(t,n,e,s,i,r,o,a,c,l,x,p,m,y,u,d,g,f,h){const{cross:b,direction:E}=t,O=["INPUT","SELECT","TEXTAREA"],w={passive:!1},v=gt(),N=gt(),L=rt(50,225).constrain(y.measure(20)),k={mouse:300,touch:400},I={mouse:500,touch:600},F=u?43:25;let _=!1,T=0,z=0,H=!1,G=!1,K=!1,q=!1;function J(S){if(!h)return;function D(B){(bt(h)||h(S,B))&&at(B)}const M=n;v.add(M,"dragstart",B=>B.preventDefault(),w).add(M,"touchmove",()=>{},w).add(M,"touchend",()=>{}).add(M,"touchstart",D).add(M,"mousedown",D).add(M,"touchcancel",R).add(M,"contextmenu",R).add(M,"click",tt,!0)}function $(){v.clear(),N.clear()}function X(){const S=q?e:n;N.add(S,"touchmove",V,w).add(S,"touchend",R).add(S,"mousemove",V,w).add(S,"mouseup",R)}function Z(S){const D=S.nodeName||"";return O.includes(D)}function W(){return(u?I:k)[q?"mouse":"touch"]}function ct(S,D){const M=p.add(At(S)*-1),B=x.byDistance(S,!u).distance;return u||A(S)<L?B:g&&D?B*.5:x.byIndex(M.get(),0).distance}function at(S){const D=Ot(S,s);q=D,K=u&&D&&!S.buttons&&_,_=ft(i.get(),o.get())>=2,!(D&&S.button!==0)&&(Z(S.target)||(H=!0,r.pointerDown(S),l.useFriction(0).useDuration(0),i.set(o),X(),T=r.readPoint(S),z=r.readPoint(S,b),m.emit("pointerDown")))}function V(S){if(!Ot(S,s)&&S.touches.length>=2)return R(S);const M=r.readPoint(S),B=r.readPoint(S,b),Q=ft(M,T),et=ft(B,z);if(!G&&!q&&(!S.cancelable||(G=Q>et,!G)))return R(S);const ot=r.pointerMove(S);Q>d&&(K=!0),l.useFriction(.3).useDuration(.75),a.start(),i.add(E(ot)),S.preventDefault()}function R(S){const M=x.byDistance(0,!1).index!==p.get(),B=r.pointerUp(S)*W(),Q=ct(E(B),M),et=Ve(B,Q),ot=F-10*et,nt=f+et/50;G=!1,H=!1,N.clear(),l.useDuration(ot).useFriction(nt),c.distance(Q,!u),q=!1,m.emit("pointerUp")}function tt(S){K&&(S.stopPropagation(),S.preventDefault(),K=!1)}function U(){return H}return{init:J,destroy:$,pointerDown:U}}function Ke(t,n){let s,i;function r(p){return p.timeStamp}function o(p,m){const u=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(Ot(p,n)?p:p.touches[0])[u]}function a(p){return s=p,i=p,o(p)}function c(p){const m=o(p)-o(i),y=r(p)-r(s)>170;return i=p,y&&(s=p),m}function l(p){if(!s||!i)return 0;const m=o(i)-o(s),y=r(p)-r(s),u=r(p)-r(i)>170,d=m/y;return y&&!u&&A(d)>.1?d:0}return{pointerDown:a,pointerMove:c,pointerUp:l,readPoint:o}}function qe(){function t(e){const{offsetTop:s,offsetLeft:i,offsetWidth:r,offsetHeight:o}=e;return{top:s,right:i+r,bottom:s+o,left:i,width:r,height:o}}return{measure:t}}function Ye(t){function n(s){return t*(s/100)}return{measure:n}}function Je(t,n,e,s,i,r,o){const a=[t].concat(s);let c,l,x=[],p=!1;function m(g){return i.measureSize(o.measure(g))}function y(g){if(!r)return;l=m(t),x=s.map(m);function f(h){for(const b of h){if(p)return;const E=b.target===t,O=s.indexOf(b.target),w=E?l:x[O],v=m(E?t:s[O]);if(A(v-w)>=.5){g.reInit(),n.emit("resize");break}}}c=new ResizeObserver(h=>{(bt(r)||r(g,h))&&f(h)}),e.requestAnimationFrame(()=>{a.forEach(h=>c.observe(h))})}function u(){p=!0,c&&c.disconnect()}return{init:y,destroy:u}}function Qe(t,n,e,s,i,r){let o=0,a=0,c=i,l=r,x=t.get(),p=0;function m(){const w=s.get()-t.get(),v=!c;let N=0;return v?(o=0,e.set(s),t.set(s),N=w):(e.set(t),o+=w/c,o*=l,x+=o,t.add(o),N=x-p),a=At(N),p=x,O}function y(){const w=s.get()-n.get();return A(w)<.001}function u(){return c}function d(){return a}function g(){return o}function f(){return b(i)}function h(){return E(r)}function b(w){return c=w,O}function E(w){return l=w,O}const O={direction:d,duration:u,velocity:g,seek:m,settled:y,useBaseFriction:h,useBaseDuration:f,useFriction:E,useDuration:b};return O}function Xe(t,n,e,s,i){const r=i.measure(10),o=i.measure(50),a=rt(.1,.99);let c=!1;function l(){return!(c||!t.reachedAny(e.get())||!t.reachedAny(n.get()))}function x(y){if(!l())return;const u=t.reachedMin(n.get())?"min":"max",d=A(t[u]-n.get()),g=e.get()-n.get(),f=a.constrain(d/o);e.subtract(g*f),!y&&A(g)<r&&(e.set(t.constrain(e.get())),s.useDuration(25).useBaseFriction())}function p(y){c=!y}return{shouldConstrain:l,constrain:x,toggleActive:p}}function Ze(t,n,e,s,i){const r=rt(-n+t,0),o=p(),a=x(),c=m();function l(u,d){return ft(u,d)<=1}function x(){const u=o[0],d=Y(o),g=o.lastIndexOf(u),f=o.indexOf(d)+1;return rt(g,f)}function p(){return e.map((u,d)=>{const{min:g,max:f}=r,h=r.constrain(u),b=!d,E=kt(e,d);return b?f:E||l(g,h)?g:l(f,h)?f:h}).map(u=>parseFloat(u.toFixed(3)))}function m(){if(n<=t+i)return[r.max];if(s==="keepSnaps")return o;const{min:u,max:d}=a;return o.slice(u,d)}return{snapsContained:c,scrollContainLimit:a}}function We(t,n,e){const s=n[0],i=e?s-t:Y(n);return{limit:rt(i,s)}}function tn(t,n,e,s){const r=n.min+.1,o=n.max+.1,{reachedMin:a,reachedMax:c}=rt(r,o);function l(m){return m===1?c(e.get()):m===-1?a(e.get()):!1}function x(m){if(!l(m))return;const y=t*(m*-1);s.forEach(u=>u.add(y))}return{loop:x}}function en(t){const{max:n,length:e}=t;function s(r){const o=r-n;return e?o/-e:0}return{get:s}}function nn(t,n,e,s,i){const{startEdge:r,endEdge:o}=t,{groupSlides:a}=i,c=p().map(n.measure),l=m(),x=y();function p(){return a(s).map(d=>Y(d)[o]-d[0][r]).map(A)}function m(){return s.map(d=>e[r]-d[r]).map(d=>-A(d))}function y(){return a(l).map(d=>d[0]).map((d,g)=>d+c[g])}return{snaps:l,snapsAligned:x}}function on(t,n,e,s,i,r){const{groupSlides:o}=i,{min:a,max:c}=s,l=x();function x(){const m=o(r),y=!t||n==="keepSnaps";return e.length===1?[r]:y?m:m.slice(a,c).map((u,d,g)=>{const f=!d,h=kt(g,d);if(f){const b=Y(g[0])+1;return Jt(b)}if(h){const b=xt(r)-Y(g)[0]+1;return Jt(b,Y(g)[0])}return u})}return{slideRegistry:l}}function sn(t,n,e,s,i){const{reachedAny:r,removeOffset:o,constrain:a}=s;function c(u){return u.concat().sort((d,g)=>A(d)-A(g))[0]}function l(u){const d=t?o(u):a(u),g=n.map((h,b)=>({diff:x(h-d,0),index:b})).sort((h,b)=>A(h.diff)-A(b.diff)),{index:f}=g[0];return{index:f,distance:d}}function x(u,d){const g=[u,u+e,u-e];if(!t)return u;if(!d)return c(g);const f=g.filter(h=>At(h)===d);return f.length?c(f):Y(g)-e}function p(u,d){const g=n[u]-i.get(),f=x(g,d);return{index:u,distance:f}}function m(u,d){const g=i.get()+u,{index:f,distance:h}=l(g),b=!t&&r(g);if(!d||b)return{index:f,distance:u};const E=n[f]-h,O=u+x(E,0);return{index:f,distance:O}}return{byDistance:m,byIndex:p,shortcut:x}}function rn(t,n,e,s,i,r,o){function a(p){const m=p.distance,y=p.index!==n.get();r.add(m),m&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(e.set(n.get()),n.set(p.index),o.emit("select"))}function c(p,m){const y=i.byDistance(p,m);a(y)}function l(p,m){const y=n.clone().set(p),u=i.byIndex(y.get(),m);a(u)}return{distance:c,index:l}}function cn(t,n,e,s,i,r,o,a){const c={passive:!0,capture:!0};let l=0;function x(y){if(!a)return;function u(d){if(new Date().getTime()-l>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const h=e.findIndex(b=>b.includes(d));Pt(h)&&(i.useDuration(0),s.index(h,0),o.emit("slideFocus"))}r.add(document,"keydown",p,!1),n.forEach((d,g)=>{r.add(d,"focus",f=>{(bt(a)||a(y,f))&&u(g)},c)})}function p(y){y.code==="Tab"&&(l=new Date().getTime())}return{init:x}}function ut(t){let n=t;function e(){return n}function s(c){n=o(c)}function i(c){n+=o(c)}function r(c){n-=o(c)}function o(c){return Pt(c)?c:c.get()}return{get:e,set:s,add:i,subtract:r}}function Zt(t,n){const e=t.scroll==="x"?o:a,s=n.style;let i=null,r=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function a(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(r)return;const y=He(t.direction(m));y!==i&&(s.transform=e(y),i=y)}function l(m){r=!m}function x(){r||(s.transform="",n.getAttribute("style")||n.removeAttribute("style"))}return{clear:x,to:c,toggleActive:l}}function an(t,n,e,s,i,r,o,a,c){const x=pt(i),p=pt(i).reverse(),m=f().concat(h());function y(v,N){return v.reduce((L,k)=>L-i[k],N)}function u(v,N){return v.reduce((L,k)=>y(L,N)>0?L.concat([k]):L,[])}function d(v){return r.map((N,L)=>({start:N-s[L]+.5+v,end:N+n-.5+v}))}function g(v,N,L){const k=d(N);return v.map(I=>{const F=L?0:-e,_=L?e:0,T=L?"end":"start",z=k[I][T];return{index:I,loopPoint:z,slideLocation:ut(-1),translate:Zt(t,c[I]),target:()=>a.get()>z?F:_}})}function f(){const v=o[0],N=u(p,v);return g(N,e,!1)}function h(){const v=n-o[0]-1,N=u(x,v);return g(N,-e,!0)}function b(){return m.every(({index:v})=>{const N=x.filter(L=>L!==v);return y(N,n)<=.1})}function E(){m.forEach(v=>{const{target:N,translate:L,slideLocation:k}=v,I=N();I!==k.get()&&(L.to(I),k.set(I))})}function O(){m.forEach(v=>v.translate.clear())}return{canLoop:b,clear:O,loop:E,loopPoints:m}}function ln(t,n,e){let s,i=!1;function r(c){if(!e)return;function l(x){for(const p of x)if(p.type==="childList"){c.reInit(),n.emit("slidesChanged");break}}s=new MutationObserver(x=>{i||(bt(e)||e(c,x))&&l(x)}),s.observe(t,{childList:!0})}function o(){s&&s.disconnect(),i=!0}return{init:r,destroy:o}}function un(t,n,e,s){const i={};let r=null,o=null,a,c=!1;function l(){a=new IntersectionObserver(u=>{c||(u.forEach(d=>{const g=n.indexOf(d.target);i[g]=d}),r=null,o=null,e.emit("slidesInView"))},{root:t.parentElement,threshold:s}),n.forEach(u=>a.observe(u))}function x(){a&&a.disconnect(),c=!0}function p(u){return mt(i).reduce((d,g)=>{const f=parseInt(g),{isIntersecting:h}=i[f];return(u&&h||!u&&!h)&&d.push(f),d},[])}function m(u=!0){if(u&&r)return r;if(!u&&o)return o;const d=p(u);return u&&(r=d),u||(o=d),d}return{init:l,destroy:x,get:m}}function fn(t,n,e,s,i,r){const{measureSize:o,startEdge:a,endEdge:c}=t,l=e[0]&&i,x=u(),p=d(),m=e.map(o),y=g();function u(){if(!l)return 0;const h=e[0];return A(n[a]-h[a])}function d(){if(!l)return 0;const h=r.getComputedStyle(Y(s));return parseFloat(h.getPropertyValue(`margin-${c}`))}function g(){return e.map((h,b,E)=>{const O=!b,w=kt(E,b);return O?m[b]+x:w?m[b]+p:E[b+1][a]-h[a]}).map(A)}return{slideSizes:m,slideSizesWithGaps:y,startGap:x,endGap:p}}function dn(t,n,e,s,i,r,o,a,c){const{startEdge:l,endEdge:x,direction:p}=t,m=Pt(e);function y(f,h){return pt(f).filter(b=>b%h===0).map(b=>f.slice(b,b+h))}function u(f){return f.length?pt(f).reduce((h,b,E)=>{const O=Y(h)||0,w=O===0,v=b===xt(f),N=i[l]-r[O][l],L=i[l]-r[b][x],k=!s&&w?p(o):0,I=!s&&v?p(a):0,F=A(L-I-(N+k));return E&&F>n+c&&h.push(b),v&&h.push(f.length),h},[]).map((h,b,E)=>{const O=Math.max(E[b-1]||0);return f.slice(O,h)}):[]}function d(f){return m?y(f,e):u(f)}return{groupSlides:d}}function pn(t,n,e,s,i,r,o){const{align:a,axis:c,direction:l,startIndex:x,loop:p,duration:m,dragFree:y,dragThreshold:u,inViewThreshold:d,slidesToScroll:g,skipSnaps:f,containScroll:h,watchResize:b,watchSlides:E,watchDrag:O,watchFocus:w}=r,v=2,N=qe(),L=N.measure(n),k=e.map(N.measure),I=Ue(c,l),F=I.measureSize(L),_=Ye(F),T=Ge(a,F),z=!p&&!!h,H=p||!!h,{slideSizes:G,slideSizesWithGaps:K,startGap:q,endGap:J}=fn(I,L,k,e,H,i),$=dn(I,F,g,p,L,k,q,J,v),{snaps:X,snapsAligned:Z}=nn(I,T,L,k,$),W=-Y(X)+Y(K),{snapsContained:ct,scrollContainLimit:at}=Ze(F,W,Z,h,v),V=z?ct:Z,{limit:R}=We(W,V,p),tt=Xt(xt(V),x,p),U=tt.clone(),P=pt(e),S=({dragHandler:it,scrollBody:wt,scrollBounds:Lt,options:{loop:yt}})=>{yt||Lt.constrain(it.pointerDown()),wt.seek()},D=({scrollBody:it,translate:wt,location:Lt,offsetLocation:yt,previousLocation:oe,scrollLooper:se,slideLooper:re,dragHandler:ie,animation:ce,eventHandler:Bt,scrollBounds:ae,options:{loop:Vt}},Ht)=>{const Gt=it.settled(),le=!ae.shouldConstrain(),$t=Vt?Gt:Gt&&le,Ut=$t&&!ie.pointerDown();Ut&&ce.stop();const ue=Lt.get()*Ht+oe.get()*(1-Ht);yt.set(ue),Vt&&(se.loop(it.direction()),re.loop()),wt.to(yt.get()),Ut&&Bt.emit("settle"),$t||Bt.emit("scroll")},M=$e(s,i,()=>S(Et),it=>D(Et,it)),B=.68,Q=V[tt.get()],et=ut(Q),ot=ut(Q),nt=ut(Q),st=ut(Q),lt=Qe(et,nt,ot,st,m,B),vt=sn(p,V,W,R,st),Nt=rn(M,tt,U,lt,vt,st,o),Ft=en(R),zt=gt(),ee=un(n,e,o,d),{slideRegistry:Rt}=on(z,h,V,at,$,P),ne=cn(t,e,Rt,Nt,lt,zt,o,w),Et={ownerDocument:s,ownerWindow:i,eventHandler:o,containerRect:L,slideRects:k,animation:M,axis:I,dragHandler:_e(I,t,s,i,st,Ke(I,i),et,M,Nt,lt,vt,tt,o,_,y,u,f,B,O),eventStore:zt,percentOfView:_,index:tt,indexPrevious:U,limit:R,location:et,offsetLocation:nt,previousLocation:ot,options:r,resizeHandler:Je(n,o,i,e,I,b,N),scrollBody:lt,scrollBounds:Xe(R,nt,st,lt,_),scrollLooper:tn(W,R,nt,[et,nt,ot,st]),scrollProgress:Ft,scrollSnapList:V.map(Ft.get),scrollSnaps:V,scrollTarget:vt,scrollTo:Nt,slideLooper:an(I,F,W,G,K,X,V,nt,e),slideFocus:ne,slidesHandler:ln(n,o,E),slidesInView:ee,slideIndexes:P,slideRegistry:Rt,slidesToScroll:$,target:st,translate:Zt(I,n)};return Et}function mn(){let t={},n;function e(l){n=l}function s(l){return t[l]||[]}function i(l){return s(l).forEach(x=>x(n,l)),c}function r(l,x){return t[l]=s(l).concat([x]),c}function o(l,x){return t[l]=s(l).filter(p=>p!==x),c}function a(){t={}}const c={init:e,emit:i,off:o,on:r,clear:a};return c}const gn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function hn(t){function n(r,o){return Qt(r,o||{})}function e(r){const o=r.breakpoints||{},a=mt(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,l)=>n(c,l),{});return n(r,a)}function s(r){return r.map(o=>mt(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:n,optionsAtMedia:e,optionsMediaQueries:s}}function xn(t){let n=[];function e(r,o){return n=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),n.forEach(a=>a.init(r,t)),o.reduce((a,c)=>Object.assign(a,{[c.name]:c}),{})}function s(){n=n.filter(r=>r.destroy())}return{init:e,destroy:s}}function St(t,n,e){const s=t.ownerDocument,i=s.defaultView,r=hn(i),o=xn(r),a=gt(),c=mn(),{mergeOptions:l,optionsAtMedia:x,optionsMediaQueries:p}=r,{on:m,off:y,emit:u}=c,d=I;let g=!1,f,h=l(gn,St.globalOptions),b=l(h),E=[],O,w,v;function N(){const{container:P,slides:S}=b;w=(jt(P)?t.querySelector(P):P)||t.children[0];const M=jt(S)?w.querySelectorAll(S):S;v=[].slice.call(M||w.children)}function L(P){const S=pn(t,w,v,s,i,P,c);if(P.loop&&!S.slideLooper.canLoop()){const D=Object.assign({},P,{loop:!1});return L(D)}return S}function k(P,S){g||(h=l(h,P),b=x(h),E=S||E,N(),f=L(b),p([h,...E.map(({options:D})=>D)]).forEach(D=>a.add(D,"change",I)),b.active&&(f.translate.to(f.location.get()),f.animation.init(),f.slidesInView.init(),f.slideFocus.init(U),f.eventHandler.init(U),f.resizeHandler.init(U),f.slidesHandler.init(U),f.options.loop&&f.slideLooper.loop(),w.offsetParent&&v.length&&f.dragHandler.init(U),O=o.init(U,E)))}function I(P,S){const D=$();F(),k(l({startIndex:D},P),S),c.emit("reInit")}function F(){f.dragHandler.destroy(),f.eventStore.clear(),f.translate.clear(),f.slideLooper.clear(),f.resizeHandler.destroy(),f.slidesHandler.destroy(),f.slidesInView.destroy(),f.animation.destroy(),o.destroy(),a.clear()}function _(){g||(g=!0,a.clear(),F(),c.emit("destroy"),c.clear())}function T(P,S,D){!b.active||g||(f.scrollBody.useBaseFriction().useDuration(S===!0?0:b.duration),f.scrollTo.index(P,D||0))}function z(P){const S=f.index.add(1).get();T(S,P,-1)}function H(P){const S=f.index.add(-1).get();T(S,P,1)}function G(){return f.index.add(1).get()!==$()}function K(){return f.index.add(-1).get()!==$()}function q(){return f.scrollSnapList}function J(){return f.scrollProgress.get(f.offsetLocation.get())}function $(){return f.index.get()}function X(){return f.indexPrevious.get()}function Z(){return f.slidesInView.get()}function W(){return f.slidesInView.get(!1)}function ct(){return O}function at(){return f}function V(){return t}function R(){return w}function tt(){return v}const U={canScrollNext:G,canScrollPrev:K,containerNode:R,internalEngine:at,destroy:_,off:y,on:m,emit:u,plugins:ct,previousScrollSnap:X,reInit:d,rootNode:V,scrollNext:z,scrollPrev:H,scrollProgress:J,scrollSnapList:q,scrollTo:T,selectedScrollSnap:$,slideNodes:tt,slidesInView:Z,slidesNotInView:W};return k(n,e),setTimeout(()=>c.emit("init"),0),U}St.globalOptions=void 0;function Mt(t={},n=[]){const e=j.useRef(t),s=j.useRef(n),[i,r]=j.useState(),[o,a]=j.useState(),c=j.useCallback(()=>{i&&i.reInit(e.current,s.current)},[i]);return j.useEffect(()=>{Dt(e.current,t)||(e.current=t,c())},[t,c]),j.useEffect(()=>{Be(s.current,n)||(s.current=n,c())},[n,c]),j.useEffect(()=>{if(Re()&&o){St.globalOptions=Mt.globalOptions;const l=St(o,e.current,s.current);return r(l),()=>l.destroy()}else r(void 0)},[o,r]),[a,i]}Mt.globalOptions=void 0;const Wt=j.createContext(null);function Ct(){const t=j.useContext(Wt);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const yn=j.forwardRef(({orientation:t="horizontal",opts:n,setApi:e,plugins:s,className:i,children:r,...o},a)=>{const[c,l]=Mt({...n,axis:t==="horizontal"?"x":"y"},s),[x,p]=j.useState(!1),[m,y]=j.useState(!1),u=j.useCallback(h=>{h&&(p(h.canScrollPrev()),y(h.canScrollNext()))},[]),d=j.useCallback(()=>{l?.scrollPrev()},[l]),g=j.useCallback(()=>{l?.scrollNext()},[l]),f=j.useCallback(h=>{h.key==="ArrowLeft"?(h.preventDefault(),d()):h.key==="ArrowRight"&&(h.preventDefault(),g())},[d,g]);return j.useEffect(()=>{!l||!e||e(l)},[l,e]),j.useEffect(()=>{if(l)return u(l),l.on("reInit",u),l.on("select",u),()=>{l?.off("select",u)}},[l,u]),C.jsx(Wt.Provider,{value:{carouselRef:c,api:l,opts:n,orientation:t||(n?.axis==="y"?"vertical":"horizontal"),scrollPrev:d,scrollNext:g,canScrollPrev:x,canScrollNext:m},children:C.jsx("div",{ref:a,onKeyDownCapture:f,className:ht("relative",i),role:"region","aria-roledescription":"carousel",...o,children:r})})});yn.displayName="Carousel";const Sn=j.forwardRef(({className:t,...n},e)=>{const{carouselRef:s,orientation:i}=Ct();return C.jsx("div",{ref:s,className:"overflow-hidden",children:C.jsx("div",{ref:e,className:ht("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...n})})});Sn.displayName="CarouselContent";const bn=j.forwardRef(({className:t,...n},e)=>{const{orientation:s}=Ct();return C.jsx("div",{ref:e,role:"group","aria-roledescription":"slide",className:ht("min-w-0 shrink-0 grow-0 basis-full",s==="horizontal"?"pl-4":"pt-4",t),...n})});bn.displayName="CarouselItem";const Cn=j.forwardRef(({className:t,variant:n="outline",size:e="icon",...s},i)=>{const{orientation:r,scrollPrev:o,canScrollPrev:a}=Ct();return C.jsxs(dt,{ref:i,variant:n,size:e,className:ht("absolute h-8 w-8 rounded-full",r==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...s,children:[C.jsx(je,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Cn.displayName="CarouselPrevious";const vn=j.forwardRef(({className:t,variant:n="outline",size:e="icon",...s},i)=>{const{orientation:r,scrollNext:o,canScrollNext:a}=Ct();return C.jsxs(dt,{ref:i,variant:n,size:e,className:ht("absolute h-8 w-8 rounded-full",r==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...s,children:[C.jsx(Te,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Next slide"})]})});vn.displayName="CarouselNext";const Nn={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function En(t,n){const e=t.scrollSnapList();return typeof n=="number"?e.map(()=>n):n(e,t)}function wn(t,n){const e=t.rootNode();return n&&n(e)||e}function te(t={}){let n,e,s,i,r=null,o=0,a=!1,c=!1,l=!1,x=!1;function p(T,z){e=T;const{mergeOptions:H,optionsAtMedia:G}=z,K=H(Nn,te.globalOptions),q=H(K,t);if(n=G(q),e.scrollSnapList().length<=1)return;x=n.jump,s=!1,i=En(e,n.delay);const{eventStore:J,ownerDocument:$}=e.internalEngine(),X=!!e.internalEngine().options.watchDrag,Z=wn(e,n.rootNode);J.add($,"visibilitychange",f),X&&e.on("pointerDown",b),X&&!n.stopOnInteraction&&e.on("pointerUp",E),n.stopOnMouseEnter&&J.add(Z,"mouseenter",O),n.stopOnMouseEnter&&!n.stopOnInteraction&&J.add(Z,"mouseleave",w),n.stopOnFocusIn&&e.on("slideFocusStart",g),n.stopOnFocusIn&&!n.stopOnInteraction&&J.add(e.containerNode(),"focusout",d),n.playOnInit&&d()}function m(){e.off("pointerDown",b).off("pointerUp",E).off("slideFocusStart",g),g(),s=!0,a=!1}function y(){const{ownerWindow:T}=e.internalEngine();T.clearTimeout(o),o=T.setTimeout(I,i[e.selectedScrollSnap()]),r=new Date().getTime(),e.emit("autoplay:timerset")}function u(){const{ownerWindow:T}=e.internalEngine();T.clearTimeout(o),o=0,r=null,e.emit("autoplay:timerstopped")}function d(){if(!s){if(h()){l=!0;return}a||e.emit("autoplay:play"),y(),a=!0}}function g(){s||(a&&e.emit("autoplay:stop"),u(),a=!1)}function f(){if(h())return l=a,g();l&&d()}function h(){const{ownerDocument:T}=e.internalEngine();return T.visibilityState==="hidden"}function b(){c||g()}function E(){c||d()}function O(){c=!0,g()}function w(){c=!1,d()}function v(T){typeof T<"u"&&(x=T),d()}function N(){a&&g()}function L(){a&&d()}function k(){return a}function I(){const{index:T}=e.internalEngine(),z=T.clone().add(1).get(),H=e.scrollSnapList().length-1,G=n.stopOnLastSnap&&z===H;if(e.canScrollNext()?e.scrollNext(x):e.scrollTo(0,x),e.emit("autoplay:select"),G)return g();d()}function F(){if(!r)return null;const T=i[e.selectedScrollSnap()],z=new Date().getTime()-r;return T-z}return{name:"autoplay",options:t,init:p,destroy:m,play:v,stop:N,reset:L,isPlaying:k,timeUntilNext:F}}te.globalOptions=void 0;export{te as A,Pe as C,kn as M,Mn as P,yn as a,Sn as b,bn as c,Cn as d,vn as e};
